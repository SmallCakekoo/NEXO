(()=>{"use strict";class n extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.addBootstrapFunctionality(),this.setupNavigation()}render(){this.shadowRoot.innerHTML='\n      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">\n      <style>\n  nav {\n    background: #ddddfb;\n    padding: 10px 20px;\n    box-shadow: 1px 2px 14px -3px rgba(112, 112, 112, 0.39);\n  border-bottom: 1px solid #5354ed;\n  position: relative;\n  z-index: 1000;\n}\nimg {\n  width: 150px;\n  margin-left: 20px;\n}\n.navbar-toggler {\n  border: 1px solid #5354ed;\n  border-radius: 8px;\n  color: #5354ed;\n  background-color: transparent;\n  transition: all 0.3s ease;\n}\n.navbar-toggler-icon {\n  background-image: url("data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 30 30\'%3e%3cpath stroke=\'%235354ED\' stroke-linecap=\'round\' stroke-miterlimit=\'10\' stroke-width=\'2\' d=\'M4 7h22M4 15h22M4 23h22\'/%3e%3c/svg%3e");\n}\n.navbar-toggler:focus {\n  box-shadow: none;\n}\n.buttons {\n  display: flex;\n  align-items: center;\n  gap: 90px;\n  justify-content: flex-end;\n}\n.desktop-buttons {\n  padding-right: 50px;\n}\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.16);\n  opacity: 0;\n  visibility: hidden;\n  z-index: 998;\n  transition:\n    opacity 0.3s ease,\n    visibility 0.3s ease;\n}\n.overlay.show {\n  opacity: 1;\n  visibility: visible;\n}\n.mobile-menu {\n  position: fixed;\n  top: 80px;\n  right: 1px;\n  transform: translateX(100%);\n  background: #ddddfb;\n  padding: 20px;\n  border-radius: 0px 0px 0px 15px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n  width: auto;\n  min-width: 10px;\n  max-width: 90vw;\n  opacity: 0;\n  transition: all 0.3s ease;\n  z-index: 999;\n}\n.mobile-menu.show {\n  opacity: 1;\n  transform: translateX(0);\n}\n@media (max-width: 576px) {\n  .navbar-collapse {\n    display: none;\n  }\n  .mobile-menu .buttons {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  .buttons {\n    flex-direction: column;\n    align-items: center;\n    gap: 15px;\n    width: 100%;\n  }\n  .buttons > * {\n    width: 100%;\n    min-width: 0;\n    max-width: 100%;\n  }\n  .mobile-menu {\n    max-width: calc(100vw - 40px);\n  }\n}\n\n        </style>\n            <nav class="navbar navbar-expand-lg">\n                <div class="container-fluid">\n                    <a class="navbar-brand" href="#">\n                        <img src="/assets/images/logonexobig.webp" alt="Logo">\n                    </a>\n                    <button class="navbar-toggler" type="button" id="toggleBtn">\n                        <span class="navbar-toggler-icon"></span>\n                    </button>\n                    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">\n                        <div class="buttons d-flex desktop-buttons">\n                            <btn-feed></btn-feed>\n                            <btn-academic></btn-academic>\n                            <btn-profile></btn-profile>\n                        </div>\n                    </div>\n                </div>\n            </nav>\n            <div class="overlay" id="overlay"></div>\n            <div class="mobile-menu" id="mobileMenu">\n                <div class="buttons">\n                    <btn-feed></btn-feed>\n                    <btn-academic></btn-academic>\n                    <btn-profile></btn-profile>\n                    \n                </div>\n            </div>\n        '}addBootstrapFunctionality(){const n=this.shadowRoot.querySelector("#toggleBtn"),e=this.shadowRoot.querySelector("#overlay"),t=this.shadowRoot.querySelector("#mobileMenu");n&&e&&t&&(n.addEventListener("click",(()=>{const n=t.classList.contains("show");t.classList.toggle("show",!n),e.classList.toggle("show",!n)})),e.addEventListener("click",(()=>{t.classList.remove("show"),e.classList.remove("show")})))}setupNavigation(){this.shadowRoot.querySelectorAll("btn-feed, btn-academic, btn-profile").forEach((n=>{n.addEventListener("click",(()=>{let e="";"btn-feed"===n.tagName.toLowerCase()&&(e="/feed"),"btn-academic"===n.tagName.toLowerCase()&&(e="/academic"),"btn-profile"===n.tagName.toLowerCase()&&(e="/profile"),this.navigate(e)}))}))}navigate(n){const e=new CustomEvent("navigate",{detail:n});document.dispatchEvent(e)}}const e=n,t=new class{constructor(){this._listeners=[]}register(n){this._listeners.push(n)}dispatch(n){for(const e of this._listeners)e(n)}},s="NAVIGATE",i="UPDATE_ROUTE",o="SET_RETURN_TO_FEED",a="SET_RETURN_TO_PROFILE",r=(n,e,o=!1)=>{t.dispatch({type:o?i:s,payload:{path:n,params:e}})},l=n=>{t.dispatch({type:i,payload:{path:n}})};class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.addBootstrapFunctionality(),this.setupNavigation()}setupNavigation(){this.shadowRoot?.querySelector(".desktop-buttons"),this.shadowRoot?.querySelector(".mobile-menu .buttons");const n=this.shadowRoot?.querySelectorAll("btn-login");n?.forEach((n=>{n.addEventListener("click",(()=>{r("/login")}))}));const e=this.shadowRoot?.querySelectorAll("btn-signup");e?.forEach((n=>{n.addEventListener("click",(()=>{r("/signup")}))}));const t=this.shadowRoot?.querySelector(".back-arrow");t?.addEventListener("click",(()=>{window.history.length>1?window.history.back():r("/")}))}render(){this.shadowRoot.innerHTML='\n      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">\n      <style>\n  nav {\n    background: #ddddfb;\n    padding: 10px 20px;\n    box-shadow: 1px 2px 14px -3px rgba(112, 112, 112, 0.39);\n    border-bottom: 1px solid #5354ed;\n    position: relative;\n    z-index: 1000;\n  }\n  img {\n    width: 150px;\n    margin-left: 20px;\n    cursor: pointer;\n  }\n  .navbar-toggler {\n    border: 1px solid #5354ed;\n    border-radius: 8px;\n    color: #5354ed;\n    background-color: transparent;\n    transition: all 0.3s ease;\n  }\n  .navbar-toggler-icon {\n    background-image: url("data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 30 30\'%3e%3cpath stroke=\'%235354ED\' stroke-linecap=\'round\' stroke-miterlimit=\'10\' stroke-width=\'2\' d=\'M4 7h22M4 15h22M4 23h22\'/%3e%3c/svg%3e");\n  }\n  .navbar-toggler:focus {\n    box-shadow: none;\n  }\n  .buttons {\n    display: flex;\n    align-items: center;\n    gap: 90px;\n    justify-content: flex-end;\n  }\n  .desktop-buttons {\n    padding-right: 50px;\n  }\n  .overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.16);\n    opacity: 0;\n    visibility: hidden;\n    z-index: 998;\n    transition: opacity 0.3s ease, visibility 0.3s ease;\n  }\n  .overlay.show {\n    opacity: 1;\n    visibility: visible;\n  }\n  .mobile-menu {\n    position: fixed;\n    top: 80px;\n    right: 1px;\n    transform: translateX(100%);\n    background: #ddddfb;\n    padding: 20px;\n    border-radius: 0px 0px 0px 15px;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n    width: auto;\n    min-width: 10px;\n    max-width: 90vw;\n    opacity: 0;\n    transition: all 0.3s ease;\n    z-index: 999;\n  }\n  .mobile-menu.show {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  @media (max-width: 576px) {\n    .navbar-collapse {\n      display: none;\n    }\n    .mobile-menu .buttons {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .buttons {\n      flex-direction: column;\n      align-items: center;\n      gap: 15px;\n      width: 100%;\n    }\n    .buttons > * {\n      width: 100%;\n      min-width: 0;\n      max-width: 100%;\n    }\n    .mobile-menu {\n      max-width: calc(100vw - 40px);\n    }\n  }\n\n  /* NUEVO: estilo para flechita en pantallas peque√±as */\n  .back-arrow {\n    display: none;\n    font-size: 32px;\n    color: #5354ed;\n    font-weight: bold;\n    margin-left: 20px;\n    margin-top: 10px;\n    cursor: pointer;\n    position: absolute;\n    left: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    z-index: 1001;\n  }\n\n  @media (max-width: 430px) {\n    .navbar-brand,\n    .navbar-toggler,\n    .desktop-buttons {\n      display: none !important;\n    }\n\n    .back-arrow {\n      display: block;\n    }\n\n    .container-fluid {\n      justify-content: center;\n    }\n  }\n\n      </style>\n      <nav class="navbar navbar-expand-lg">\n        <div class="container-fluid">\n          <a class="navbar-brand" id="logo">\n            <img src="/assets/images/logonexobig.webp" alt="Logo">\n          </a>\n          <span class="back-arrow">&lt;</span> \x3c!-- NUEVO: flechita --\x3e\n          <button class="navbar-toggler" type="button" id="toggleBtn">\n            <span class="navbar-toggler-icon"></span>\n          </button>\n          <div class="collapse navbar-collapse justify-content-end" id="navbarNav">\n            <div class="buttons d-flex desktop-buttons">\n              <btn-login></btn-login>\n              <btn-signup></btn-signup>\n            </div>\n          </div>\n        </div>\n      </nav>\n      <div class="overlay" id="overlay"></div>\n      <div class="mobile-menu" id="mobileMenu">\n        <div class="buttons">\n          <btn-login></btn-login>\n          <btn-signup></btn-signup>\n        </div>\n      </div>\n    '}addBootstrapFunctionality(){const n=this.shadowRoot.querySelector("#toggleBtn"),e=this.shadowRoot.querySelector("#overlay"),t=this.shadowRoot.querySelector("#mobileMenu"),s=this.shadowRoot.querySelector("#logo");n&&e&&t&&(n.addEventListener("click",(()=>{const n=t.classList.contains("show");t.classList.toggle("show",!n),e.classList.toggle("show",!n)})),e.addEventListener("click",(()=>{t.classList.remove("show"),e.classList.remove("show")}))),s?.addEventListener("click",(()=>{r("/")}))}}const d=c;class p extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return["text","target"]}connectedCallback(){this.render(),this.addEventListeners()}addEventListeners(){const n=this.shadowRoot?.querySelector(".back-button");n?.addEventListener("click",(()=>{const n=this.getAttribute("target")||"/feed";"/feed"===n?t.dispatch({type:o}):"/profile"===n&&t.dispatch({type:a}),r(n)}))}attributeChangedCallback(n,e,t){e!==t&&(this.render(),this.addEventListeners())}render(){const n=this.getAttribute("text")||"Back";this.shadowRoot.innerHTML=`\n    <style> \n      .back-button {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        background: none;\n        border: none;\n        cursor: pointer;\n        font-size: 16px;\n        color: var(--nexopurple);\n        font-weight: 500;\n        padding: 8px 0;\n        transition: all 0.2s ease;\n      }\n\n      .back-button:hover {\n        opacity: 0.8;\n        transform: translateX(-3px);\n      }\n\n      .back-icon {\n        fill: var(--nexopurple);\n      }\n    </style>        \n    <button class="back-button">\n      <svg class="back-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>\n      </svg>\n      ${n}\n    </button>\n    `}}const h=p;class m extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML='\n     <style>\n     button {\n  background-color: #5354ed;\n  color: white;\n  font-size: 14px;\n  border: 2px solid black;\n  padding: 7px 47px;\n  border-radius: 50px;\n  cursor: pointer;\n  outline: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  \n  transition: all 0.3s ease;\n}\n\nbutton:hover {\n  filter: brightness(1.2);\n  transform: scale(1.05);\n  -webkit-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n}\n\nbutton:active {\n  transform: scale(0.95);\n  -webkit-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  filter: brightness(0.8);\n}\n\n     </style>\n      <button id="feed-button">Feed</button>\n    ',this.shadowRoot.querySelector("#feed-button")?.addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("navigate",{detail:"feed"}))}))}}const g=m;class u extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML='\n     <style>\n     button {\n  background-color: #5354ed;\n  color: white;\n  font-size: 14px;\n  border: 2px solid black;\n  padding: 7px 30px;\n  border-radius: 50px;\n  cursor: pointer;\n  outline: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  \n  transition: all 0.3s ease;\n}\n\nbutton:hover {\n  filter: brightness(1.2);\n  transform: scale(1.05);\n  -webkit-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n}\n\nbutton:active {\n  transform: scale(0.95);\n  -webkit-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  filter: brightness(0.8);\n}\n\n     </style>\n      <button id="academic-button">Academics</button>\n    ',this.shadowRoot.querySelector("#academic-button")?.addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("navigate",{detail:"academic"}))}))}}const b=u;class x extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML='\n      <style>\n      button {\n    background-color: #5354ED;\n    color: white;\n    font-size: 14px;\n    border: 2px solid black;\n    padding: 7px 47px;\n    border-radius: 50px;\n    cursor: pointer;\n    outline: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  transition: all 0.3s ease;\n  }\n\n  button:hover {\n    filter: brightness(1.2);\n    transform: scale(1.05);\n    -webkit-box-shadow: 0px 6px 0px -4px rgba(0,0,0,1);\n    -moz-box-shadow: 0px 6px 0px -4px rgba(0,0,0,1);\n    box-shadow: 0px 6px 0px -4px rgba(0,0,0,1);\n  }\n\n  button:active {\n    transform: scale(0.95);\n    -webkit-box-shadow: 0px 0px 0px 0px rgba(0,0,0,1);\n    -moz-box-shadow: 0px 0px 0px 0px rgba(0,0,0,1);\n    box-shadow: 0px 0px 0px 0px rgba(0,0,0,1);\n    filter: brightness(0.8);\n  }\n      </style>\n      <button id="profile-button">Profile</button>\n    ',this.shadowRoot.querySelector("#profile-button")?.addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("navigate",{detail:"profile"}))}))}}const f=x;class v extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML='\n     <style>\n     button {\n  background-color: #5354ed;\n  color: white;\n  font-size: 14px;\n  border: 2px solid black;\n  padding: 7px 52px;\n  border-radius: 50px;\n  cursor: pointer;\n  outline: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  \n  transition: all 0.3s ease;\n}\n\nbutton:hover {\n  filter: brightness(1.2);\n  transform: scale(1.05);\n  -webkit-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n}\n\nbutton:active {\n  transform: scale(0.95);\n  -webkit-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  filter: brightness(0.8);\n}\n\n     </style>\n      <button id="login-button">Login</button>\n    '}}const w=v;class y extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML='\n     <style>\n     button {\n  background-color: #5354ed;\n  color: white;\n  font-size: 14px;\n  border: 2px solid black;\n  padding: 7px 47px;\n  border-radius: 50px;\n  cursor: pointer;\n  outline: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  \n  transition: all 0.3s ease;\n}\n\nbutton:hover {\n  filter: brightness(1.2);\n  transform: scale(1.05);\n  -webkit-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n}\n\nbutton:active {\n  transform: scale(0.95);\n  -webkit-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  filter: brightness(0.8);\n}\n\n     </style>\n      <button id="signup-button">Sign Up</button>\n    ',this.shadowRoot.querySelector("#signup-button")?.addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("navigate",{detail:"/signup"}))}))}}const S=y,k="SIGN_UP",E="SIGN_UP_SUCCESS",L="SIGN_UP_ERROR",C="SELECT_TEACHER",T="SELECT_SUBJECT";var R;!function(n){n.LIKE_POST="LIKE_POST",n.UNLIKE_POST="UNLIKE_POST",n.ADD_TEACHER_RATING="ADD_TEACHER_RATING",n.ADD_SUBJECT_RATING="ADD_SUBJECT_RATING",n.UPDATE_TEACHER_RATING="UPDATE_TEACHER_RATING",n.UPDATE_SUBJECT_RATING="UPDATE_SUBJECT_RATING",n.LOAD_POSTS="LOAD_POSTS",n.ADD_POST="ADD_POST"}(R||(R={}));const _="CHECK_AUTH",j="LOGIN_SUCCESS",D="SEARCH_SUBJECTS",P="SEARCH_TEACHERS",A="CLEAR_SEARCH",z="DELETE_ACCOUNT_SUCCESS",I="DELETE_ACCOUNT_ERROR",M="UPDATE_PROFILE_SUCCESS",N="UPDATE_PROFILE_ERROR",$="UPDATE_PROFILE_PHOTO",F={deleteAccount:()=>{const n=JSON.parse(localStorage.getItem("loggedInUser")||"null");if(n)try{const e=JSON.parse(localStorage.getItem("users")||"[]").filter((e=>e.username!==n.username));localStorage.setItem("users",JSON.stringify(e));const s=JSON.parse(localStorage.getItem("posts")||"[]").filter((e=>e.name!==n.username));localStorage.setItem("posts",JSON.stringify(s));const i=JSON.parse(localStorage.getItem("userLikes")||"{}");delete i[n.username],localStorage.setItem("userLikes",JSON.stringify(i));const o=JSON.parse(localStorage.getItem("teacherRatings")||"{}");Object.keys(o).forEach((e=>{o[e]=o[e].filter((e=>e.userId!==n.username))})),localStorage.setItem("teacherRatings",JSON.stringify(o));const a=JSON.parse(localStorage.getItem("subjectRatings")||"{}");Object.keys(a).forEach((e=>{a[e]=a[e].filter((e=>e.userId!==n.username))})),localStorage.setItem("subjectRatings",JSON.stringify(a)),localStorage.removeItem("loggedInUser"),t.dispatch({type:z,payload:{username:n.username}})}catch(n){t.dispatch({type:I,payload:{error:"Failed to delete account"}})}else t.dispatch({type:I,payload:{error:"No logged in user found"}})},updateProfile:n=>{try{const e=JSON.parse(localStorage.getItem("loggedInUser")||"null");if(!e)return void t.dispatch({type:N,payload:{error:"No logged in user found"}});const s=e.username,i={...e,...n};localStorage.setItem("loggedInUser",JSON.stringify(i));const o=JSON.parse(localStorage.getItem("users")||"[]"),a=o.findIndex((n=>n.username===s||n.email===e.email));-1!==a&&(o[a]=i,localStorage.setItem("users",JSON.stringify(o)));const r=JSON.parse(localStorage.getItem("posts")||"[]").map((n=>n.name===s?{...n,name:i.username,career:i.degree,semestre:i.semester,photo:i.profilePic||n.photo}:n));localStorage.setItem("posts",JSON.stringify(r)),t.dispatch({type:M,payload:{user:i}}),document.dispatchEvent(new CustomEvent("profile-updated"))}catch(n){t.dispatch({type:N,payload:{error:"Failed to update profile"}})}},logout:()=>{try{localStorage.removeItem("loggedInUser"),t.dispatch({type:"LOGOUT_SUCCESS"})}catch(n){t.dispatch({type:"LOGOUT_ERROR",payload:{error:"Failed to logout"}})}},updateProfilePhoto(n){t.dispatch({type:$,payload:{photo:n}})}};var O;!function(n){n.ADD_COMMENT="ADD_COMMENT"}(O||(O={}));const H={addComment(n){t.dispatch({type:O.ADD_COMMENT,payload:n})}};var U;!function(n){n.OPEN_POST_MODAL="OPEN_POST_MODAL",n.CLOSE_POST_MODAL="CLOSE_POST_MODAL",n.SHARE_POST="SHARE_POST",n.LOAD_POSTS_FROM_STORAGE="LOAD_POSTS_FROM_STORAGE"}(U||(U={}));const q=()=>{t.dispatch({type:U.CLOSE_POST_MODAL})},B=()=>{G.loadPostsFromStorage()};var J;!function(n){n.SELECT_TAG="SELECT_TAG"}(J||(J={}));class Y{constructor(){this._myState={currentPath:"",history:[],auth:{isAuthenticated:!1,user:null},signUp:{loading:!1,error:null,success:!1},posts:[],teacherRatings:{},subjectRatings:{},selectedTeacher:null,selectedSubject:null,searchQuery:"",userLikes:{},comments:{},postModal:{isOpen:!1,postId:null},selectedTag:"All",navigation:{returnToFeed:!1,returnToProfile:!1}},this._listeners=[],this._listeners=[],t.register(this._handleActions.bind(this)),window.addEventListener("popstate",(()=>{const n=window.location.pathname;this._handleRouteChange(n)}))}_handleRouteChange(n){["/","/login","/signup"].includes(n)||this._myState.auth.isAuthenticated?this._myState={...this._myState,currentPath:n,history:[...this._myState.history,n]}:(window.history.replaceState({},"","/"),this._myState={...this._myState,currentPath:"/",history:[...this._myState.history,"/"]}),this._emitChange()}getState(){return this._myState}_handleActions(n){switch(n.type){case _:const e=localStorage.getItem("loggedInUser");e&&(this._myState={...this._myState,auth:{isAuthenticated:!0,user:JSON.parse(e)}},["/","/login","/signup"].includes(this._myState.currentPath)&&(window.history.replaceState({},"","/feed"),this._handleRouteChange("/feed"))),this._emitChange();break;case j:n.payload&&(localStorage.setItem("loggedInUser",JSON.stringify(n.payload)),this._myState={...this._myState,auth:{isAuthenticated:!0,user:n.payload}},["/","/login","/signup"].includes(this._myState.currentPath)&&(window.history.replaceState({},"","/feed"),this._handleRouteChange("/feed"))),this._emitChange();break;case"LOGOUT":localStorage.removeItem("loggedInUser"),this._myState={...this._myState,auth:{isAuthenticated:!1,user:null}},window.history.replaceState({},"","/"),this._handleRouteChange("/"),this._emitChange();break;case s:if(n.payload&&"object"==typeof n.payload&&"path"in n.payload){const e=String(n.payload.path);window.history.pushState({},"",e),this._handleRouteChange(e)}break;case i:if(n.payload&&"object"==typeof n.payload&&"path"in n.payload){const e=String(n.payload.path);window.history.replaceState({},"",e),this._handleRouteChange(e)}break;case k:this._myState={...this._myState,signUp:{loading:!0,error:null,success:!1}},this._handleSignUp(n.payload);break;case E:this._myState={...this._myState,signUp:{loading:!1,error:null,success:!0}},this._emitChange();break;case L:if(n.payload){const e=n.payload;this._myState={...this._myState,signUp:{loading:!1,error:e.error,success:!1}},this._emitChange()}break;case R.LIKE_POST:if(n.payload&&"object"==typeof n.payload&&"postId"in n.payload&&"likes"in n.payload){const e=String(n.payload.postId),t=Number(n.payload.likes);this._myState={...this._myState,posts:this._myState.posts.map((n=>n.id===e?{...n,likes:t}:n))},this._emitChange()}break;case R.UNLIKE_POST:if(n.payload&&"object"==typeof n.payload&&"postId"in n.payload&&"likes"in n.payload){const e=String(n.payload.postId),t=Number(n.payload.likes);this._myState={...this._myState,posts:this._myState.posts.map((n=>n.id===e?{...n,likes:t}:n))},this._emitChange()}break;case R.ADD_TEACHER_RATING:if(n.payload&&"object"==typeof n.payload&&"teacherName"in n.payload&&"rating"in n.payload&&"comment"in n.payload&&"timestamp"in n.payload){const e=n.payload,{teacherName:t,rating:s,comment:i,timestamp:o,author:a,image:r}=e,l=this._myState.teacherRatings[t]||[];this._myState={...this._myState,teacherRatings:{...this._myState.teacherRatings,[t]:[...l,{rating:s,comment:i,timestamp:o,author:a,image:r}]}},localStorage.setItem("teacherRatings",JSON.stringify(this._myState.teacherRatings)),this._emitChange()}break;case R.ADD_SUBJECT_RATING:if(n.payload&&"object"==typeof n.payload&&"subjectName"in n.payload){const e=n.payload,{subjectName:t,rating:s,comment:i,timestamp:o,author:a,image:r}=e;this._myState.subjectRatings[t]}break;case R.UPDATE_TEACHER_RATING:if(n.payload&&"object"==typeof n.payload&&"teacherName"in n.payload){const e=n.payload,{teacherName:t,rating:s}=e,i=this._myState.teacherRatings[t]||[],o=i.length>0?i.reduce(((n,e)=>n+e.rating),0)/i.length:s,a=JSON.parse(localStorage.getItem("selectedTeacher")||"{}");a.name===t&&(a.rating=o.toFixed(1),localStorage.setItem("selectedTeacher",JSON.stringify(a))),this._emitChange()}break;case R.UPDATE_SUBJECT_RATING:if(n.payload&&"object"==typeof n.payload&&"subjectName"in n.payload){const e=n.payload,{subjectName:t,rating:s}=e,i=this._myState.subjectRatings[t]||[],o=i.length>0?i.reduce(((n,e)=>n+e.rating),0)/i.length:s,a=JSON.parse(localStorage.getItem("selectedSubject")||"{}");a.name===t&&(a.rating=o.toFixed(1),localStorage.setItem("selectedSubject",JSON.stringify(a))),this._emitChange()}break;case R.LOAD_POSTS:if(n.payload&&Array.isArray(n.payload)){const e=localStorage.getItem("posts"),t=e?JSON.parse(e):n.payload;this._myState={...this._myState,posts:t},this._emitChange()}break;case R.ADD_POST:if(n.payload&&"object"==typeof n.payload){const e=[n.payload,...this._myState.posts];localStorage.setItem("posts",JSON.stringify(e)),this._myState={...this._myState,posts:e},this._emitChange()}break;case C:n.payload&&(this._myState={...this._myState,selectedTeacher:n.payload},this._emitChange());break;case T:n.payload&&(this._myState={...this._myState,selectedSubject:n.payload},this._emitChange());break;case D:case P:n.payload&&"object"==typeof n.payload&&"query"in n.payload&&(this._myState={...this._myState,searchQuery:String(n.payload.query)},this._emitChange());break;case A:this._myState={...this._myState,searchQuery:""},this._emitChange();break;case z:if(n.payload){const e=n.payload;this._myState={...this._myState,auth:{isAuthenticated:!1,user:null},posts:this._myState.posts.filter((n=>n.name!==e.username)),userLikes:{}}}this._emitChange();break;case I:if(n.payload){const e=n.payload;console.error("Error deleting account:",e.error)}this._emitChange();break;case O.ADD_COMMENT:if(n.payload){const e=this._getCurrentPost();if(e){const t=e.id,s=this._myState.comments[t]||[];this._myState={...this._myState,comments:{...this._myState.comments,[t]:[...s,n.payload]}},localStorage.setItem("comments",JSON.stringify(this._myState.comments)),this._emitChange()}}break;case U.OPEN_POST_MODAL:this._myState={...this._myState,postModal:{isOpen:!0,postId:n.payload?.postId||null}},this._emitChange();break;case U.CLOSE_POST_MODAL:this._myState={...this._myState,postModal:{isOpen:!1,postId:null}},this._emitChange();break;case U.SHARE_POST:if(n.payload&&"object"==typeof n.payload&&"postId"in n.payload){const e=n.payload,t=this._myState.posts.find((n=>n.id===e.postId));t&&console.log("Compartiendo post:",t)}break;case U.LOAD_POSTS_FROM_STORAGE:if(n.payload&&"object"==typeof n.payload&&"posts"in n.payload){const e=n.payload;this._myState={...this._myState,posts:e.posts},this._emitChange()}break;case J.SELECT_TAG:if(n.payload){const e=n.payload;console.log("Store: Changing selected tag to:",e),this._myState={...this._myState,selectedTag:e},this._emitChange()}break;case $:if(n.payload&&"object"==typeof n.payload&&"photo"in n.payload){const e=n.payload,t=this._myState.auth.user;if(t){this._myState={...this._myState,auth:{...this._myState.auth,user:{...t,profilePic:e.photo}}},localStorage.setItem("loggedInUser",JSON.stringify(this._myState.auth.user));const n=JSON.parse(localStorage.getItem("users")||"[]"),s=n.findIndex((n=>n.username===t.username||n.email===t.email));-1!==s&&(n[s].profilePic=e.photo,localStorage.setItem("users",JSON.stringify(n)));const i=this._myState.posts.map((n=>n.name===t.username?{...n,photo:e.photo}:n));this._myState={...this._myState,posts:i},localStorage.setItem("posts",JSON.stringify(i)),this._emitChange()}}break;case M:n.payload&&"object"==typeof n.payload&&"user"in n.payload&&(this._myState={...this._myState,auth:{...this._myState.auth,user:n.payload.user}},this._emitChange());break;case o:this._myState={...this._myState,navigation:{...this._myState.navigation,returnToFeed:!0}},sessionStorage.setItem("returnToFeed","true"),this._emitChange();break;case a:this._myState={...this._myState,navigation:{...this._myState.navigation,returnToProfile:!0}},sessionStorage.setItem("returnToProfile","true"),this._emitChange();break;case"CLEAR_RETURN_FLAGS":this._myState={...this._myState,navigation:{returnToFeed:!1,returnToProfile:!1}},sessionStorage.removeItem("returnToFeed"),sessionStorage.removeItem("returnToProfile"),this._emitChange()}}_handleSignUp(n){try{const e=JSON.parse(localStorage.getItem("users")||"[]");if(e.some((e=>e.username===n.username||e.email===n.email)))return void t.dispatch({type:L,payload:{error:"Username or email already exists"}});e.push({...n,createdAt:(new Date).toISOString()}),localStorage.setItem("users",JSON.stringify(e)),t.dispatch({type:E}),t.dispatch({type:j,payload:n})}catch(n){t.dispatch({type:L,payload:{error:"An error occurred during sign up"}})}}_emitChange(){const n=this.getState();for(const e of this._listeners)e(n)}subscribe(n){return this._listeners.push(n),n(this.getState()),()=>{this._listeners=this._listeners.filter((e=>e!==n))}}_saveUserLikes(n,e,t){const s=this._myState.userLikes[n]||[];if(t&&!s.includes(e))s.push(e);else if(!t){const n=s.indexOf(e);n>-1&&s.splice(n,1)}this._myState.userLikes[n]=s,localStorage.setItem("userLikes",JSON.stringify(this._myState.userLikes)),this._emitChange()}_getUserLikes(n){return this._myState.userLikes[n]||[]}_saveCurrentPost(n){sessionStorage.setItem("currentPostId",n.id),sessionStorage.setItem("currentPost",JSON.stringify(n))}_getCurrentPost(){const n=sessionStorage.getItem("currentPost");return n?JSON.parse(n):null}_setFromProfile(n){sessionStorage.setItem("fromProfile",n.toString())}_getFromProfile(){return"true"===sessionStorage.getItem("fromProfile")}saveUserLikes(n,e,t){this._saveUserLikes(n,e,t)}getUserLikes(n){return this._getUserLikes(n)}saveCurrentPost(n){this._saveCurrentPost(n)}getCurrentPost(){return this._getCurrentPost()}setFromProfile(n){this._setFromProfile(n)}getFromProfile(){return this._getFromProfile()}load(){try{const n=localStorage.getItem("loggedInUser");if(n){const e=JSON.parse(n);this._myState={...this._myState,auth:{isAuthenticated:!0,user:e}},["/","/login","/signup"].includes(window.location.pathname)&&(window.history.replaceState({},"","/feed"),this._handleRouteChange("/feed"))}const e=localStorage.getItem("posts");e&&(this._myState.posts=JSON.parse(e));const t=localStorage.getItem("teacherRatings");t&&(this._myState.teacherRatings=JSON.parse(t));const s=localStorage.getItem("subjectRatings");s&&(this._myState.subjectRatings=JSON.parse(s));const i=localStorage.getItem("userLikes");i&&(this._myState.userLikes=JSON.parse(i));const o=localStorage.getItem("comments");o&&(this._myState.comments=JSON.parse(o)),this._myState.navigation.returnToFeed="true"===sessionStorage.getItem("returnToFeed"),this._myState.navigation.returnToProfile="true"===sessionStorage.getItem("returnToProfile"),this.syncWithLocalStorage(),this._emitChange()}catch(n){console.error("Error loading data from localStorage:",n),this._myState={...this._myState,auth:{isAuthenticated:!1,user:null},posts:[],teacherRatings:{},subjectRatings:{},userLikes:{},comments:{}},this._emitChange()}}syncWithLocalStorage(){const n=JSON.parse(localStorage.getItem("users")||"[]");if(this._myState.auth.user&&(n.find((n=>n.username===this._myState.auth.user.username))||(this._myState.auth={isAuthenticated:!1,user:null},localStorage.removeItem("loggedInUser"))),this._myState.auth.user&&(this._myState.posts=this._myState.posts.filter((e=>n.some((n=>n.username===e.name))))),this._myState.auth.user){const n=this._myState.auth.user.username;this._myState.userLikes[n]||(this._myState.userLikes[n]=[])}}getFilteredPosts(n=this._myState.selectedTag){const e=this._myState.posts;if(!e||!Array.isArray(e))return[];if("All"===n)return[...e];const t=n.toLowerCase().trim();return e.filter((n=>!!n.tag&&n.tag.toLowerCase().trim()===t))}getReturnToFeed(){return this._myState.navigation.returnToFeed}getReturnToProfile(){return this._myState.navigation.returnToProfile}_loadPostsFromStorage(){try{return JSON.parse(localStorage.getItem("posts")||"[]")}catch(n){return console.error("Failed to load posts from storage:",n),[]}}_savePostsToStorage(n){try{localStorage.setItem("posts",JSON.stringify(n))}catch(n){console.error("Failed to save posts to storage:",n)}}_getLoggedInUser(){try{return JSON.parse(localStorage.getItem("loggedInUser")||"null")}catch(n){return console.error("Error getting user information:",n),null}}_createNewPost(n){const e=this._getLoggedInUser();if(!e)return console.error("No logged in user found"),null;const t=e?.username||"Unknown User",s=e?.degree||"Unknown Career",i=e?.semester||"";let o=e?.profilePic;return!o&&n.image?o=URL.createObjectURL(n.image):o||(o=`https://picsum.photos/800/450?random=${Math.floor(100*Math.random())}`),{id:`${Date.now()}-${Math.random().toString(36).substring(2,11)}`,photo:o,name:t,date:(new Date).toLocaleDateString(),career:s,semestre:i,message:n.content,tag:n.category,likes:0,share:"0",comments:[]}}_updatePostLikes(n,e){const t=this._loadPostsFromStorage(),s=t.find((e=>e.id===n));s&&(s.likes=e?(s.likes||0)+1:Math.max(0,(s.likes||0)-1),this._savePostsToStorage(t))}createPost(n){const e=this._createNewPost(n);if(!e)return;const s=this._loadPostsFromStorage();s.some((n=>n.id===e.id))||(s.unshift(e),this._savePostsToStorage(s),t.dispatch({type:R.ADD_POST,payload:e}))}updatePostLikes(n,e,s){this._updatePostLikes(n,s),this.saveUserLikes(e,n,s);const i=this._loadPostsFromStorage().find((e=>e.id===n));i&&t.dispatch({type:s?R.LIKE_POST:R.UNLIKE_POST,payload:{postId:n,likes:i.likes}})}loadPostsFromStorage(){const n=this._loadPostsFromStorage();this._myState={...this._myState,posts:n},this._emitChange()}_getProfilePosts(n){try{return JSON.parse(localStorage.getItem("posts")||"[]").filter((e=>e.name===n))}catch(n){return console.error("Error getting profile posts:",n),[]}}getProfilePosts(){const n=this._getLoggedInUser();return n?this._getProfilePosts(n.username):[]}loadProfilePosts(){const n=this._getLoggedInUser();if(!n)return;const e=this._getProfilePosts(n.username);this._myState={...this._myState,posts:e},this._emitChange()}_getUserData(){try{const n=JSON.parse(localStorage.getItem("loggedInUser")||"null");return{photo:n?.profilePic||"https://picsum.photos/seed/default/200/300",name:n?.username||"Anonymous",career:n?.career||""}}catch(n){return console.error("Error getting user data:",n),{photo:"https://picsum.photos/seed/default/200/300",name:"Anonymous",career:""}}}getUserData(){return this._getUserData()}addComment(n){const e=this._getCurrentPost();if(!e)return;const t=e.id,s=this._myState.comments[t]||[],i={...this._getUserData(),date:(new Date).toLocaleDateString(),message:n.message};this._myState={...this._myState,comments:{...this._myState.comments,[t]:[...s,i]}},localStorage.setItem("comments",JSON.stringify(this._myState.comments)),this._emitChange()}_createReview(n){return{rating:n.rating,text:n.text,date:(new Date).toLocaleDateString(),author:n.author,image:n.image,["teacher"===n.type?"teacherName":"subjectName"]:n.name,type:n.type}}_updateRating(n,e,t){const s=("teacher"===n?this._myState.teacherRatings:this._myState.subjectRatings)[e]||[],i=s.length>0?s.reduce(((n,e)=>n+e.rating),0)/s.length:t,o=JSON.parse(localStorage.getItem("selected"+("teacher"===n?"Teacher":"Subject"))||"{}");o.name===e&&(o.rating=i.toFixed(1),localStorage.setItem("selected"+("teacher"===n?"Teacher":"Subject"),JSON.stringify(o)))}submitReview(n){const e=this._getUserData(),s=this._createReview({...n,author:e.name,image:e.photo});if("teacher"===n.type){const t=this._myState.teacherRatings[n.name]||[];this._myState={...this._myState,teacherRatings:{...this._myState.teacherRatings,[n.name]:[...t,{rating:n.rating,comment:n.text,timestamp:(new Date).toISOString(),author:e.name,image:e.photo}]}},localStorage.setItem("teacherRatings",JSON.stringify(this._myState.teacherRatings))}else{const t=this._myState.subjectRatings[n.name]||[];this._myState={...this._myState,subjectRatings:{...this._myState.subjectRatings,[n.name]:[...t,{rating:n.rating,comment:n.text,timestamp:(new Date).toISOString(),author:e.name,image:e.photo}]}},localStorage.setItem("subjectRatings",JSON.stringify(this._myState.subjectRatings))}this._updateRating(n.type,n.name,n.rating),t.dispatch({type:"teacher"===n.type?"ADD_TEACHER_RATING":"ADD_SUBJECT_RATING",payload:s}),this._emitChange()}_getPostById(n){try{return JSON.parse(localStorage.getItem("posts")||"[]").find((e=>e.id===n))||null}catch(n){return console.error("Error getting post by ID:",n),null}}_getUserLikeStatus(n,e){try{const t=JSON.parse(localStorage.getItem("userLikes")||"{}");return t[n]&&t[n].includes(e)}catch(n){return console.error("Error getting user like status:",n),!1}}getPostById(n){return this._getPostById(n)}getUserLikeStatus(n,e){return this._getUserLikeStatus(n,e)}_validateUserCredentials(n,e){try{return JSON.parse(localStorage.getItem("users")||"[]").find((t=>t.username===n&&t.password===e))||null}catch(n){return console.error("Error validating user credentials:",n),null}}validateUserCredentials(n,e){return this._validateUserCredentials(n,e)}_validateSignUpForm(n,e,t,s,i,o){return n&&e&&t&&s&&i&&o?JSON.parse(localStorage.getItem("users")||"[]").find((t=>t.username===n||t.email===e))?{isValid:!1,error:"Username or email already exists"}:{isValid:!0}:{isValid:!1,error:"Please fill in all fields"}}_saveNewUser(n){try{const e=JSON.parse(localStorage.getItem("users")||"[]");e.push({...n,createdAt:(new Date).toISOString()}),localStorage.setItem("users",JSON.stringify(e))}catch(n){throw console.error("Error saving new user:",n),n}}validateSignUpForm(n,e,t,s,i,o){return this._validateSignUpForm(n,e,t,s,i,o)}saveNewUser(n){this._saveNewUser(n)}static getInstance(){return Y.instance||(Y.instance=new Y),Y.instance}}const G=Y.getInstance(),V={createPost(n){G.createPost(n)},likePost(n,e){G.updatePostLikes(n,e,!0)},unlikePost(n,e){G.updatePostLikes(n,e,!1)}};class K extends HTMLElement{constructor(){super(),this.scrollPosition=0,this.unsubscribeStore=null,this.attachShadow({mode:"open"}),this.handleStoreChange=this.handleStoreChange.bind(this)}connectedCallback(){if(this.subscribeToStore(),this.render(),this.setupEventListeners(),"true"===sessionStorage.getItem("returnToFeed")){const n=sessionStorage.getItem("feedScrollPosition");n&&setTimeout((()=>{window.scrollTo(0,parseInt(n)),sessionStorage.removeItem("returnToFeed")}),100)}}disconnectedCallback(){sessionStorage.setItem("feedScrollPosition",window.scrollY.toString()),window.removeEventListener("scroll",this.handleScroll.bind(this)),this.unsubscribeStore&&this.unsubscribeStore()}subscribeToStore(){this.unsubscribeStore=G.subscribe(this.handleStoreChange)}handleStoreChange(n){n.auth.isAuthenticated||r("/login")}setupEventListeners(){window.addEventListener("scroll",this.handleScroll.bind(this))}handleScroll(){this.scrollPosition=window.scrollY}render(){this.shadowRoot.innerHTML="\n        <style>\n          :host {\n            display: block;\n            width: 100%;\n            max-width: 100vw;\n            overflow-x: hidden;\n            background-color: white;\n          }\n        </style>\n        <nav-bar></nav-bar> \n        <tag-filters-bar></tag-filters-bar>\n        <post-container></post-container>\n        <floating-btn></floating-btn>\n        <post-modal></post-modal>\n      "}}const X=K;class W extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML="\n            <style>\n                h2 { color: #4f46e5; }\n            </style> \n            <nav-bar></nav-bar>  \n            <tabs-component></tabs-component>\n        "}}const Q=W;class Z extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML="\n            <style>\n                h2 { color: #4f46e5; }\n            </style>\n            \n            <nav-bar></nav-bar>\n            <profile-header></profile-header>\n            <profile-container></profile-container>\n\n        ",document.addEventListener("navigate",(n=>{const e=n.detail;"/comments-detail-feed"===e&&(window.location.href=e)}))}}const nn=Z;class en extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML="\n            <style>\n                h2 { color: #4f46e5; }\n            </style>\n            \n            <nav-bar></nav-bar>  \n            <settings-profile-header></settings-profile-header>\n            <settings-profile-container></settings-profile-container>\n\n        "}}const tn=en;class sn extends HTMLElement{constructor(){super(),this.unsubscribeStore=null,this.attachShadow({mode:"open"})}connectedCallback(){console.log("TeacherDetailPage: connectedCallback"),this.render(),this.unsubscribeStore=G.subscribe(this.handleStoreChange.bind(this))}disconnectedCallback(){this.unsubscribeStore&&this.unsubscribeStore()}handleStoreChange(n){console.log("TeacherDetailPage: handleStoreChange",n),this.render()}calculateAverageRating(n){console.log("TeacherDetailPage: calculateAverageRating for",n);const e=G.getState().teacherRatings[n]||[];if(console.log("TeacherDetailPage: ratings from store",e),0===e.length)return console.log("TeacherDetailPage: no ratings, returning 0"),0;const t=e.reduce(((n,e)=>n+e.rating),0);console.log("TeacherDetailPage: sum of ratings",t);const s=Number((t/e.length).toFixed(1));return console.log("TeacherDetailPage: calculated average rating",s),s}render(){console.log("TeacherDetailPage: render");const n=G.getState();console.log("TeacherDetailPage: current state",n);const e=n.selectedTeacher;console.log("TeacherDetailPage: teacherData from store",e);const t=e?.name||"Jimmy Ramirez";console.log("TeacherDetailPage: rendering for teacher",t);const s=e?.subject||"Logic & Argumentation",i=this.calculateAverageRating(t),o=e?.nucleus||"basic",a=e?.image||"425";this.shadowRoot.innerHTML=`\n      <style>\n        :host {\n          display: block;\n          background-color: #ffffff;\n          min-height: 100vh;\n        }\n        \n        body {\n          margin: 0;\n          background-color: #ffffff !important;\n        }\n        \n        .page-wrapper {\n          min-height: 100vh;\n          padding-bottom: 60px;\n          background-color: #ffffff;\n        }\n        \n        .teacher-detail-container {\n          max-width: 850px;\n          margin: 0 auto;\n          padding: 25px 20px;\n          font-family: 'Arial', sans-serif;\n          background-color: #f8f9fd;\n          border-radius: 20px;\n          margin-top: 20px;\n          margin-bottom: 40px;\n          margin-left: 16px;\n          margin-right: 16px;\n        }\n        \n        back-button {\n          margin-bottom: 24px;\n          display: block;\n        }\n        \n        @media (min-width: 768px) {\n          .teacher-detail-container {\n            padding: 30px;\n            margin-top: 25px;\n            margin-left: auto;\n            margin-right: auto;\n          }\n        }\n      </style>\n      <div class="page-wrapper">\n        <nav-bar></nav-bar>  \n        <div class="teacher-detail-container">\n          <back-button text="Teacher Reviews" target="/academic"></back-button>\n          <teacher-detail-card \n            name="${t}" \n            subject="${s}"\n            nucleus="${o}"\n            rating="${i}"\n            image="${a}">\n          </teacher-detail-card>\n          <teacher-comments-container teacher-name="${t}">\n          </teacher-comments-container>\n        </div>\n      </div>\n    `}}const on=sn;class an extends HTMLElement{constructor(){super(),this.unsubscribeStore=null,this.attachShadow({mode:"open"})}connectedCallback(){console.log("SubjectDetailPage: connectedCallback"),this.render(),this.unsubscribeStore=G.subscribe(this.handleStoreChange.bind(this))}disconnectedCallback(){this.unsubscribeStore&&this.unsubscribeStore()}handleStoreChange(n){console.log("SubjectDetailPage: handleStoreChange",n),this.render()}calculateAverageRating(n){const e=G.getState().subjectRatings[n]||[];if(0===e.length)return 0;const t=e.reduce(((n,e)=>n+e.rating),0);return Number((t/e.length).toFixed(1))}render(){console.log("SubjectDetailPage: render");const n=G.getState();console.log("SubjectDetailPage: current state",n);const e=n.selectedSubject;console.log("SubjectDetailPage: subjectData from store",e);const t=e?.name||"Logic & Argumentation",s=e?.career||"Computer Science",i=e?.credits||"3",o=this.calculateAverageRating(t),a=e?.id||"301";this.shadowRoot.innerHTML=`\n            <style>\n                :host {\n                    display: block;\n                    background-color: #ffffff;\n                    min-height: 100vh;\n                }\n                \n                body {\n                    margin: 0;\n                    background-color: #ffffff;\n                }\n                \n                .page-wrapper {\n                    min-height: 100vh;\n                    padding-bottom: 60px;\n                    background-color: #ffffff;\n                }\n                \n                .subject-detail-container {\n                    max-width: 850px;\n                    margin: 0 auto;\n                    padding: 25px 20px;\n                    font-family: 'Arial', sans-serif;\n                    background-color: #f8f9fd;\n                    border-radius: 20px;\n                    margin-top: 20px;\n                    margin-bottom: 40px;\n                }\n                \n                back-button {\n                    margin-bottom: 24px;\n                    display: block;\n                }\n                \n                @media (min-width: 768px) {\n                    .subject-detail-container {\n                        padding: 30px;\n                        margin-top: 25px;\n                    }\n                }\n            </style>\n            <div class="page-wrapper">\n                <nav-bar></nav-bar>  \n                <div class="subject-detail-container">\n                    <back-button text="Subject Reviews" target="/academic"></back-button>\n                    <subject-detail-card \n                        name="${t}" \n                        career="${s}"\n                        nucleus="Disciplinary"\n                        credits="${i}"\n                        rating="${o}"\n                        image="${a}">\n                    </subject-detail-card>\n                    <subject-comments-container subject-name="${t}">\n                    </subject-comments-container>\n                </div>\n            </div>\n        `}}const rn=an;class ln extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML='\n    <style>\n      :host {\n        display: block;\n        color: #000;\n      }\n      .hero {\n      max-width: 1200px;\n      margin: 64px auto 96px;\n      display: grid;\n      grid-template-columns: 1fr 420px;\n      align-items: center;\n      gap: 48px;\n      padding: 0 24px;\n      grid-template-areas: "text image";\n      }\n\n         .hero .text {\n        grid-area: text;\n        }\n\n\n      .hero h1 {\n        font-size: 2.4rem;\n        font-weight: 700;\n        line-height: 1.2;\n        margin: 0 0 16px;\n      }\n\n      .hero h4 {\n        font-size: 0.90rem;\n        font-weight: 400;\n        margin: 0 0 32px;\n      }\n\n      .hero img {\n      grid-area: image;\n      width: 100%;\n      height: auto;\n      }\n\n      start-button {\n        margin-bottom: 32px;\n      }\n\n      \n      .cards-row {\n      display: grid;\n      grid-template-columns: repeat(4, 0fr);\n      gap: 15px; \n      padding: 0;\n      margin: 0;\n      max-width: 1200px;\n      margin: 0 auto; \n      padding: 0 24px;\n      margin-bottom: 40px;\n      }\n\n      .logo {\n        display: none;\n        justify-content: center;\n        align-items: center;\n        padding: 16px 0;\n      }\n\n      .logo img {\n        width: 150px;\n        height: auto;\n        display: block;\n        margin: 0 auto;\n      }\n\n      nav-bar-login-signup {\n        display: block;\n      }\n\n    @media (max-width: 768px) {\n      .hero {\n        grid-template-columns: 1fr;\n        grid-template-areas:\n          "image"\n          "text";\n        text-align: center;\n        padding: 0 16px;\n        gap: 24px;\n      }\n\n      .hero .text {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n\n      .hero h1 {\n        font-size: 1.5rem;\n      }\n\n      .hero h4 {\n        font-size: 0.95rem;\n      }\n\n      .hero img {\n        max-width: 400px;\n        margin: 0 auto;\n      }\n\n      .cards-row {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 24px;\n        padding: 0 16px;\n        margin-top: 32px;\n      }\n\n      landing-cards {\n        width: 100%;\n        max-width: 320px;\n      }\n\n      start-button {\n        margin-bottom: 16px;\n      }\n\n      .logo {\n        display: block;\n        margin-top: 16px;\n        margin-bottom: -60px\n      }\n\n      nav-bar-login-signup {\n        display: none;\n      }\n    }\n    </style>\n <nav-bar-login-signup></nav-bar-login-signup>\n    <div class="logo">\n      <img src="/assets/images/logonexobig.png" alt="Nexo Logo" />\n    </div>\n    \n    <section class="hero">\n      <div class="text">\n        <h1>Your Academic Network for<br/>Connect, Learn and Grow.</h1>\n        <h4>Our space to share knowledge, solve doubts, and find academic support.</h4>\n        <start-button></start-button>\n      </div>\n\n      <img src="/assets/images/Science.png" alt="Science illustration"/>\n    </section>\n\n    <div class="cards-row">\n      <landing-cards\n        image="/assets/images/Freedom.png"\n        text="Find tutors and professors to help you improve your academic performance.">\n      </landing-cards>\n\n      <landing-cards\n        image="/assets/images/tasks.png"\n        text="Access materials, guides, and tools designed to enhance your learning.">\n      </landing-cards>\n\n      <landing-cards\n        image="/assets/images/search.png"\n        text="Connect with other students and professionals to share experiences and knowledge.">\n      </landing-cards>\n\n      <landing-cards\n        image="/assets/images/botle.png"\n        text="Post questions, share ideas, and learn from others in a collaborative environment.">\n      </landing-cards>\n    </div>\n  '}}const cn=ln;class dn extends HTMLElement{constructor(){super(),this.liked=!1,this.postData=null,this.postId="",this.fromProfile=!1,this.unsubscribeStore=null,this.attachShadow({mode:"open"}),this.handleStoreChange=this.handleStoreChange.bind(this)}connectedCallback(){this.unsubscribeStore=G.subscribe(this.handleStoreChange),this.loadPostData()}disconnectedCallback(){this.unsubscribeStore&&this.unsubscribeStore()}handleStoreChange(n){if(n.posts&&this.postData){const e=n.posts.find((n=>n.id===this.postData.id));e&&(this.postData=e,this.checkUserLikeStatus(),this.render())}}async loadPostData(){const n=G.getCurrentPost();if(n)return this.postData=n,this.postId=this.postData.id,this.fromProfile=G.getFromProfile(),this.checkUserLikeStatus(),this.render(),void this.setupEventListeners();await this.fetchPostData()}async fetchPostData(){try{const n=await fetch("/data/Feed.json"),e=await n.json();this.postId&&e.posts&&(console.log("Searching for post with ID in fetched data:",this.postId),this.postData=e.posts.find((n=>n.id===this.postId)),!this.postData&&e.posts.length>0?(console.warn("Post not found with ID:",this.postId,", using first post as fallback."),this.postData=e.posts[0],this.postId=this.postData.id):this.postData?console.log("Found post in fetched data:",this.postData):console.warn("No posts found in fetched data.")),this.postData&&this.postData.comments&&(this.postData.comments=Array.isArray(this.postData.comments)?this.postData.comments:JSON.parse(this.postData.comments)),this.checkUserLikeStatus(),this.render(),this.setupEventListeners()}catch(n){console.error("Error loading post data:",n),this.render(),this.setupEventListeners()}}checkUserLikeStatus(){const n=G.getState().auth.user;if(n&&this.postData&&this.postData.id){const e=G.getUserLikes(n.username);this.liked=e.includes(this.postData.id)}else this.liked=!1}setupEventListeners(){const n=this.shadowRoot?.querySelector("back-button"),e=this.shadowRoot?.querySelector(".just-likes");this.shadowRoot?.querySelector("comment-form"),n?.addEventListener("click",(()=>{const n=G.getFromProfile()?"/profile":"/feed";G.setFromProfile(!1),r(n)})),e?.addEventListener("click",(()=>{const n=G.getState().auth.user;if(!n||!this.postData||!this.postData.id)return void console.warn("Cannot toggle like: user not logged in or post data missing.");const e=n.username,t=this.postData.id;G.getUserLikes(e).includes(t)?V.unlikePost(t,e):V.likePost(t,e)}))}render(){const n=this.postData||{photo:"https://i.pravatar.cc/150?img=3",name:"Juan Tel√≥n",date:"16/03/25",career:"Multimedia Engineering",semestre:"Semester 6",message:"Did anyone else stumble against a guy using boots in the stairs???",tag:"Daily Life",likes:19},e=G.getState(),t=e.posts?.find((e=>e.id===n.id)),s=t?t.likes:n.likes;this.shadowRoot.innerHTML=`\n      <style>\n        :host {\n          display: block;\n          width: 100%;\n          max-width: 100vw;\n          overflow-x: hidden;\n          min-height: 100vh;\n          background-color: white;\n          --nexopurple: #5354ed;\n          --nexowhite: white;\n        }\n        \n        h1 {\n          color: #5354ed;\n          text-align: center;\n          margin: 2rem 0;\n          font-size: 2.2rem;\n          font-weight: 700;\n        }\n        \n        .container {\n          max-width: 850px;\n          width: calc(100% - 20px);\n          margin: 20px auto 40px auto;\n          padding: 25px 20px;\n          background-color: #f8f9fd;\n          border-radius: 20px;\n          box-sizing: border-box;\n        }\n        \n        .back-button-container {\n          margin: 1rem 0;\n        }\n        \n        .post-container {\n          background-color: white;\n          border-radius: 16px;\n          padding: 1.5rem;\n          margin-bottom: 2rem;\n          box-shadow: 0 4px 12px rgba(83, 84, 237, 0.1);\n          width: 100%;\n          max-width: 740px;\n          height: auto;\n          min-height: 240px;\n          margin-left: auto;\n          margin-right: auto;\n          box-sizing: border-box;\n        }\n        \n        .attributes-container {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n        }\n        \n        .user-container {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          width: 100%;\n          flex-wrap: wrap;\n          gap: 0.5rem;\n        }\n\n        .profile-container {\n          display: flex;\n          gap: 1rem;\n          align-items: center;\n        }\n\n        .name-container {\n          display: flex;\n          flex-direction: column;\n          gap: 0.2rem;\n        }\n\n        .profile-picture {\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          object-fit: cover;\n        }\n\n        .name {\n          font-weight: 600;\n          margin: 0;\n        }\n\n        .date {\n          color: #5354ed;\n          font-size: 0.9rem;\n          margin: 0;\n        }\n\n        .the-career {\n          display: flex;\n          gap: 0.5rem;\n          margin-top: 0.2rem;\n        }\n\n        .career, .semestre {\n          font-size: 0.75rem;\n          color: black;\n          font-weight: bold;\n          align-items: flex-start;\n          padding: 0;\n          margin: 0;\n        }\n\n        .message-container {\n          margin-top: 1rem;\n        }\n        \n        .post-content {\n          font-size: 1.1rem;\n          line-height: 1.6;\n          margin: 0;\n          word-wrap: break-word;\n        }\n        \n        .footer {\n          display: flex;\n          justify-content: center;\n          padding-top: 0.75rem;\n          border-top: 1px solid #f0f0f0;\n        }\n        \n        .align-likes, .align-share {\n          display: flex;\n          align-items: center;\n        }\n        \n        .just-likes, .just-share {\n          background: none;\n          border: none;\n          display: flex;\n          align-items: center;\n          gap: 5px;\n          cursor: pointer;\n          padding: 5px 10px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n        \n        .just-likes:hover, .just-share:hover {\n          transform: scale(1.05);\n        }\n        \n        .like-icon {\n          stroke: #5354ed;\n          fill: none;\n          transition: all 0.2s ease;\n        }\n        \n        .like-icon.liked {\n          fill: #5354ed;\n          stroke: #5354ed;\n        }\n\n        .share-icon path {\n          transition: fill 0.3s ease;\n          fill: #5354ed;\n        }\n        \n        .likes-count, .share-count {\n          margin: 0;\n          font-size: 0.85rem;\n          font-weight: bold;\n          color: #6b7280;\n          cursor: pointer;\n        }\n\n        .tag {\n          display: inline-block;\n          padding: 4px 12px;\n          border-radius: 0.85rem;\n          font-size: 0.7rem;\n          font-weight: 500;\n          margin-bottom: 0.5rem;\n          background-color: rgb(255, 255, 255);\n          border: 2px solid rgba(31, 31, 241, 0.57);\n          color: rgba(31, 31, 241, 0.57);\n          text-align: center;\n          margin: 1rem 0;\n          position: relative;\n          z-index: 1;\n        }\n        \n        @media (max-width: 768px) {\n          .container {\n            width: calc(100% - 16px);\n            margin: 10px auto 30px auto;\n            padding: 15px 10px;\n            border-radius: 15px;\n          }\n          \n          .post-container {\n            padding: 1rem;\n          }\n          \n          .user-container {\n            flex-direction: column;\n            align-items: flex-start;\n          }\n          \n          .the-career {\n            margin-top: 0.5rem;\n            margin-left: 60px; /* Alinea con la imagen de perfil */\n          }\n          \n          h1 {\n            font-size: 1.8rem;\n            margin: 1.5rem 0;\n          }\n          \n          .post-content {\n            font-size: 1rem;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .container {\n            width: calc(100% - 10px);\n            margin: 5px auto 20px auto;\n            padding: 10px 8px;\n            border-radius: 12px;\n          }\n          \n          .post-container {\n            padding: 0.8rem;\n            min-height: 200px;\n          }\n          \n          .profile-picture {\n            width: 40px;\n            height: 40px;\n          }\n          \n          .name {\n            font-size: 0.9rem;\n          }\n          \n          .date {\n            font-size: 0.8rem;\n          }\n          \n          .the-career {\n            margin-left: 50px;\n          }\n          \n          .career, .semestre {\n            font-size: 0.7rem;\n          }\n          \n          .post-content {\n            font-size: 0.95rem;\n            line-height: 1.5;\n          }\n          \n          .likes-count, .share-count {\n            font-size: 0.75rem;\n          }\n          \n          .just-likes, .just-share {\n            padding: 3px 6px;\n          }\n          \n          .like-icon, .share-icon {\n            width: 18px;\n            height: 18px;\n          }\n          \n          .tag {\n            font-size: 0.65rem;\n            padding: 3px 10px;\n          }\n        }\n      </style>\n      \n      <nav-bar></nav-bar>\n      \n      <div class="container">\n        <div class="back-button-container">\n          <back-button></back-button>\n        </div>\n        \n        <div class="post-container">\n          <div class="attributes-container">\n            <div class="user-container">\n              <div class="profile-container">\n                <img class="profile-picture" src="${n.photo}" alt="${n.name}">\n                <div class="name-container">\n                  <p class="name">${n.name}</p>\n                  <p class="date">${n.date}</p>\n                </div>\n              </div>\n\n              <div class="the-career">\n                <p class="career">${n.career}</p>\n                <p class="semestre">${n.semestre}</p>\n              </div>\n            </div>\n\n            <div class="message-container">\n              <p class="post-content">${n.message}</p>\n            </div>\n          </div>\n\n          <p class="tag">${n.tag}</p>\n          <div class="footer">  \n            <div class="align-likes">\n              <button class="just-likes">\n                <svg class="like-icon ${this.liked?"liked":""}" viewBox="0 0 24 24" fill="none" stroke="currentColor" width="20" height="20">\n                  <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" stroke-width="2"/>\n                </svg>\n                <p class="likes-count">${s} Likes</p>\n              </button>\n            </div>  \n\n            <div class="align-share">\n              <button class="just-share">\n                <svg class="share-icon" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">\n                  <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92z"/>\n                </svg>\n                <p class="share-count">Share</p>\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <comments-container post-id="${this.postId}"></comments-container>\n      </div>\n    `}}const pn=dn;class hn extends HTMLElement{connectedCallback(){this.innerHTML='\n    <style>\n      section {\n        width: 80%;\n        max-width: 35.625rem; \n        margin: 3rem auto;\n        padding: 1.5rem;\n        background: #ddddfb;\n        border-radius: 0.5rem;\n        border: 0.063rem solid #5354ed; \n        box-shadow: 0 0 0.375rem rgba(0, 0, 0, 0.1); \n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n      }\n\n      @media (max-width: 430px) { \n        section {\n          width: 80%;\n          height: auto;\n          margin: 3.0625rem auto; \n          padding: 0;\n          border-radius: 0;\n          border: none;\n          background: white;\n          box-shadow: none;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          gap: 1rem;\n        }\n\n        header-title,\n        form-fields,\n        forgot-password,\n        primary-button,\n        custom-divider,\n        social-buttons {\n          width: 100%;\n          padding: 0 1.5rem;\n        }\n      }\n    </style>\n\n    <nav-bar-login-signup></nav-bar-login-signup>\n\n    <section>\n      <header-title title="Login" subtitle="Enter your profile info"></header-title>\n      <form-fields mode="login"></form-fields>\n      <forgot-password></forgot-password>\n      <primary-button text="Login"></primary-button>\n      <custom-divider></custom-divider>\n      <social-buttons></social-buttons>\n    </section>\n    ',this.setupLoginHandler()}setupLoginHandler(){const n=this.querySelector("primary-button");n?.addEventListener("click",(()=>{const n=this.querySelector("#login-form");if(!n)return;const e=n.querySelector('input[type="text"]'),s=n.querySelector('input[type="password"]'),i=e?.value.trim(),o=s?.value;if(!i||!o)return void alert("Please enter both username and password.");const a=G.validateUserCredentials(i,o);var r;a?(r=a,t.dispatch({type:j,payload:r})):alert("Usuario o contrase√±a inv√°lidos.")}))}}const mn=hn;class gn{static validateForm(n,e,t,s,i,o){return G.validateSignUpForm(n,e,t,s,i,o)}static saveUser(n){G.saveNewUser(n)}}class un{static setError(n){t.dispatch({type:L,payload:{error:n}})}static validateSignUpForm(n,e,t,s){const i=n.get("username"),o=n.get("email"),a=n.get("phone"),r=n.get("password");return i&&o&&a&&r&&e&&t?s?.checked?{isValid:!0}:{isValid:!1,error:"You must accept the terms of use"}:{isValid:!1,error:"Please complete all fields"}}static initiateSignUp(n){const e=gn.validateForm(n.username,n.email,n.phone,n.password,n.degree,n.semester);if(e.isValid){t.dispatch({type:k,payload:n});try{gn.saveUser(n),t.dispatch({type:E}),r("/feed")}catch(n){t.dispatch({type:L,payload:{error:"An error occurred during sign up"}})}}else t.dispatch({type:L,payload:{error:e.error}})}}class bn extends HTMLElement{connectedCallback(){this.innerHTML='\n      <style>\n        section {\n          width: 80%;\n          max-width: 35.625rem; \n          margin: 3rem auto;\n          padding: 1.5rem;\n          background: #ddddfb;\n          border-radius: 0.5rem;\n          border: 0.063rem solid #5354ed; \n          box-shadow: 0 0 0.375rem rgba(0, 0, 0, 0.1); \n          display: flex;\n          justify-content: center;\n          align-items: center;\n          flex-direction: column;\n        }\n\n        .error-message {\n          color: #ff0000;\n          font-size: 0.875rem;\n          margin: 0.5rem 0 1rem 0;\n          text-align: center;\n          display: none;\n        }\n\n        @media (max-width: 430px) { \n          section {\n            width: 80%;\n            height: auto;\n            margin: 3.0625rem auto; \n            padding: 0;\n            border-radius: 0;\n            border: none;\n            background: white;\n            box-shadow: none;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            gap: 1rem;\n          }\n\n          header-title,\n          signup-form-fields,\n          custom-checkbox,\n          primary-button,\n          custom-divider,\n          social-buttons {\n            width: 100%;\n            padding: 0 1.5rem;\n          }\n        }\n      </style>\n\n      <nav-bar-login-signup></nav-bar-login-signup>\n\n      <section>\n        <header-title title="Sign Up" subtitle="Enter your info"></header-title>\n        <div class="error-message" id="error-message"></div>\n        <signup-form-fields></signup-form-fields>\n        <custom-checkbox></custom-checkbox>\n        <primary-button text="Sign Up"></primary-button>\n        <custom-divider></custom-divider>\n        <social-buttons></social-buttons>\n      </section>\n    ',this.setupEventListeners(),this.setupStoreSubscription()}setupStoreSubscription(){G.subscribe((n=>{const e=this.querySelector("#error-message");this.querySelector("signup-form-fields"),e&&(n.signUp.error?(e.textContent=n.signUp.error,e.style.display="block"):e.style.display="none")}))}setupEventListeners(){const n=this.querySelector("primary-button"),e=this.querySelector("signup-form-fields");n?.addEventListener("click",(n=>{n.preventDefault(),n.stopPropagation();const t=this.querySelector("#signup-form"),s=this.querySelector('input[name="terms"]');if(!t||!e)return;const i=new FormData(t),o=e.getDegree(),a=e.getSemester(),r=un.validateSignUpForm(i,o,a,s);if(r.isValid)un.initiateSignUp({username:i.get("username"),email:i.get("email"),phone:i.get("phone"),password:i.get("password"),degree:o,semester:a});else{const n=this.querySelector("#error-message");n&&(n.textContent=r.error||"An error occurred",n.style.display="block")}}))}}const xn=bn;class fn extends HTMLElement{constructor(){super(),this.isRendered=!1,this.isOpen=!1,this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.isRendered=!0,this.setupStoreSubscription()}setupStoreSubscription(){G.subscribe((n=>{this.isRendered&&n.postModal.isOpen!==this.isOpen&&(this.isOpen=n.postModal.isOpen,this.isOpen?this.openModal():this.closeModal())}))}render(){this.shadowRoot.innerHTML='\n      <style>\n        * {\n          font-family: Arial, sans-serif;\n          box-sizing: border-box;\n          margin: 0;\n          padding: 0;\n        }\n\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background-color: rgba(0, 0, 0, 0.5);\n          z-index: 1000;\n          opacity: 0;\n          transition: opacity 0.3s ease;\n          backdrop-filter: blur(1px);\n          display: none;\n        }\n\n        .modal-overlay.visible {\n          opacity: 1;\n        }\n\n        .modal {\n          position: fixed;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%) scale(0.9);\n          display: flex;\n          flex-direction: column;\n          background: white;\n          width: 550px;\n          border-radius: 25px;\n          overflow: hidden;\n          box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.15);\n          z-index: 1001;\n          opacity: 0;\n          transition: all 0.3s ease;\n          display: none;\n        }\n\n        .modal.visible {\n          opacity: 1;\n          transform: translate(-50%, -50%) scale(1);\n        }\n\n        .modal-header {\n          background: var(--nexopurple, #5354ED);\n          color: white;\n          padding: 25px 30px;\n          font-size: 28px;\n          font-weight: bold;\n          font-style: italic;\n          text-align: left;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .close-btn {\n          background: none;\n          border: none;\n          cursor: pointer;\n          padding: 5px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .close-btn img {\n          width: 24px;\n          height: 24px;\n          filter: brightness(0) invert(1);\n          transition: transform 0.2s ease;\n        }\n\n        .close-btn:hover img {\n          transform: scale(1.1);\n        }\n\n        .modal-body {\n          padding: 30px;\n          display: flex;\n          flex-direction: column;\n          gap: 25px;\n          position: relative;\n        }\n\n        .textarea-container {\n          position: relative;\n          width: 100%;\n        }\n\n        textarea {\n          width: 100%;\n          height: 120px;\n          padding: 20px;\n          padding-bottom: 60px;\n          border: 1px solid #E0E0E0;\n          border-radius: 20px;\n          font-size: 16px;\n          resize: none;\n          transition: border-color 0.2s ease;\n          background: #FFFFFF;\n        }\n\n        textarea:focus {\n          outline: none;\n          border-color: var(--nexopurple, #5354ED);\n        }\n\n        textarea::placeholder {\n          color: #9E9E9E;\n          font-size: 16px;\n        }\n\n        .categories {\n          display: flex;\n          justify-content: flex-start;\n          gap: 40px;\n          padding: 0 10px;\n        }\n\n        .category {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          cursor: pointer;\n        }\n\n        .category input[type="radio"] {\n          appearance: none;\n          -webkit-appearance: none;\n          width: 24px;\n          height: 24px;\n          border: 2px solid var(--nexopurple, #5354ED);\n          border-radius: 50%;\n          margin: 0;\n          position: relative;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .category input[type="radio"]:checked {\n          background-color: var(--nexopurple, #5354ED);\n          border-width: 7px;\n        }\n\n        .category label {\n          font-size: 16px;\n          color: #000000;\n          cursor: pointer;\n          font-weight: 500;\n        }\n\n        .upload-box {\n          border: 2px dashed var(--nexopurple, #5354ED);\n          border-radius: 50px;\n          padding: 15px;\n          text-align: center;\n          color: var(--nexopurple, #5354ED);\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-style: italic;\n          opacity: 0.6;\n          font-size: 16px;\n        }\n\n        .upload-box:hover {\n          opacity: 1;\n          background-color: rgba(83, 84, 237, 0.05);\n        }\n\n        .publish-btn {\n          position: absolute;\n          bottom: 15px;\n          right: 15px;\n          background-color: var(--nexopurple, #5354ED);\n          color: white;\n          font-size: 14px;\n          border: 2px solid black;\n          padding: 7px 30px;\n          border-radius: 50px;\n          cursor: pointer;\n          outline: none;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          transition: all 0.3s ease;\n        }\n\n        .publish-btn:hover {\n          filter: brightness(1.2);\n          transform: scale(1.05);\n          -webkit-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n          -moz-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n          box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n        }\n\n        .publish-btn:active {\n          transform: scale(0.95);\n          -webkit-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n          -moz-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n          box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n          filter: brightness(0.8);\n        }\n\n        .publish-btn img {\n          width: 18px;\n          height: 18px;\n          filter: brightness(0) invert(1);\n          margin-left: 8px;\n        }\n\n        input[type="file"] {\n          display: none;\n        }\n\n        @media (max-width: 600px) {\n          .modal {\n            width: 90%;\n            margin: 20px;\n          }\n\n          .categories {\n            gap: 20px;\n          }\n        }\n      </style>\n\n      <div class="modal-overlay">\n        <div class="modal">\n          <div class="modal-header">\n            New Post\n            <button class="close-btn">\n              <img src="https://api.iconify.design/lucide:x.svg" alt="Close">\n            </button>\n          </div>\n          <div class="modal-body">\n            <div class="textarea-container">\n              <textarea id="post-content" placeholder="Write something"></textarea>\n              <button class="publish-btn">\n                Post\n                <img src="https://api.iconify.design/lucide:send.svg" alt="Send">\n              </button>\n            </div>\n            <div class="categories">\n              <div class="category">\n                <input type="radio" id="daily-life" name="category" value="Daily Life" checked>\n                <label for="daily-life">Daily Life</label>\n              </div>\n              <div class="category">\n                <input type="radio" id="carpool" name="category" value="Carpool">\n                <label for="carpool">Carpool</label>\n              </div>\n              <div class="category">\n                <input type="radio" id="academics" name="category" value="Academics">\n                <label for="academics">Academics</label>\n              </div>\n            </div>\n            <label class="upload-box" for="file-upload">\n              Upload Image\n              <input type="file" id="file-upload" accept="image/*">\n            </label>\n          </div>\n        </div>\n      </div>\n    ',this.setupEventListeners()}setupEventListeners(){const n=this.shadowRoot?.querySelector(".close-btn"),e=this.shadowRoot?.querySelector(".modal-overlay"),t=this.shadowRoot?.querySelector(".publish-btn"),s=this.shadowRoot?.querySelector("#post-content"),i=this.shadowRoot?.querySelector("#file-upload"),o=this.shadowRoot?.querySelectorAll('input[name="category"]');n&&e&&t&&s&&i&&o&&(n.addEventListener("click",(n=>{n.preventDefault(),n.stopPropagation(),q()})),e.addEventListener("click",(n=>{n.target===e&&q()})),t.addEventListener("click",(n=>{n.preventDefault();const e=s.value.trim(),t=Array.from(o).find((n=>n.checked))?.value||"Daily Life",a=i.files?.[0]||null;if(!e)return void alert("Por favor escribe algo antes de publicar");V.createPost({content:e,category:t,image:a,createdAt:(new Date).toISOString()}),s.value="",i.value="";const r=this.shadowRoot?.querySelector("#daily-life");r&&(r.checked=!0),q()})),i.addEventListener("change",(n=>{n.target.files})))}openModal(){console.log("PostModal: Abriendo modal");const n=this.shadowRoot?.querySelector(".modal-overlay"),e=this.shadowRoot?.querySelector(".modal");n&&e?(n.style.display="block",e.style.display="block",requestAnimationFrame((()=>{n.classList.add("visible"),e.classList.add("visible")}))):console.error("PostModal: No se encontraron los elementos del modal al intentar abrir")}closeModal(){const n=this.shadowRoot?.querySelector(".modal-overlay"),e=this.shadowRoot?.querySelector(".modal");n&&e?(n.classList.remove("visible"),e.classList.remove("visible"),setTimeout((()=>{n.style.display="none",e.style.display="none"}),300)):console.error("PostModal: No se encontraron los elementos del modal al intentar cerrar")}}const vn=fn;class wn extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot.innerHTML='\n     <style>\n     \n.fab {\n    position: fixed;\n    bottom: 30px;\n    right: 30px;\n    width: 56px;\n    height: 56px;\n    border-radius: 50%;\n    background-color: var(--nexopurple);\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    transition: transform 0.2s, box-shadow 0.2s;\n    border: none;\n}\n\n.fab:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);\n}\n\n.fab:active {\n    transform: translateY(0);\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.fab svg {\n    width: 24px;\n    height: 24px;\n    fill: var(--nexowhite);\n}\n\n\n    </style>        \n     <button class="fab" title="Crear Publicaci√≥n">\n        <img src="https://api.iconify.design/lucide:plus.svg?color=white" alt="Plus Icon">\n      </button>\n    ',this.shadowRoot.querySelector("button").addEventListener("click",(n=>{var e;n.preventDefault(),n.stopPropagation(),e="",t.dispatch({type:U.OPEN_POST_MODAL,payload:{postId:e}})}))}}const yn=wn;var Sn;!function(n){n.textbutton="textbutton",n.active="active"}(Sn||(Sn={}));class kn extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return Object.values(Sn)}attributeChangedCallback(n,e,t){n===Sn.active&&(this.active=null!==t,this.render())}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n          <style>\n            button {\n              padding: 8px 40px;\n              border-radius: 999px;\n              border: 2px solid #5354ED;\n              color: #5354ED;\n              background-color: white;\n              font-size: 14px;\n              cursor: pointer;\n              transition: all 0.3s ease;\n              width: 100%;\n              max-width: 100%;\n              text-overflow: ellipsis;\n              overflow: hidden;\n              white-space: nowrap;\n            }\n  \n            button:hover {\n              background-color:rgba(83, 83, 237, 0.32);\n              color:#5354ED; \n            }\n  \n            button:active {\n              background-color:#5354ED;\n              color:rgb(255, 255, 255);\n            }\n\n            button.active {\n              background-color:#5354ED;\n              color:rgb(255, 255, 255);\n            }\n\n            @media (max-width: 644px) {\n              button {\n                padding: 8px 12px;\n                font-size: 13px;\n                width: 100%;\n              }\n            }\n\n            @media (max-width: 400px) {\n              button {\n                padding: 6px 8px;\n                font-size: 12px;\n                border-width: 1.5px;\n              }\n            }\n          </style>\n  \n          <button class="${this.active?"active":""}">${this.getAttribute("textbutton")}</button>\n        `)}}const En=kn,Ln=window;class Cn extends HTMLElement{constructor(){super(),this.filteredPosts=[],this.currentFilter="All",this.tagSelectedListener=null,this.postPublishedListener=null,this.profileUpdatedListener=null,this.isListenerAttached=!1,this.unsubscribeStore=null,this.attachShadow({mode:"open"}),this.handleStoreChange=this.handleStoreChange.bind(this)}connectedCallback(){this.subscribeToStore(),this.setupEventListeners()}disconnectedCallback(){this.tagSelectedListener&&document.removeEventListener("tagSelected",this.tagSelectedListener),this.postPublishedListener&&document.removeEventListener("post-published",this.postPublishedListener),this.profileUpdatedListener&&document.removeEventListener("profile-updated",this.profileUpdatedListener),this.unsubscribeStore&&this.unsubscribeStore()}subscribeToStore(){this.unsubscribeStore=G.subscribe(this.handleStoreChange)}setupEventListeners(){this.isListenerAttached||(this.tagSelectedListener=n=>{n.detail},document.addEventListener("tagSelected",this.tagSelectedListener),this.postPublishedListener=()=>{B()},document.addEventListener("post-published",this.postPublishedListener),this.profileUpdatedListener=()=>{B()},document.addEventListener("profile-updated",this.profileUpdatedListener),this.isListenerAttached=!0,Ln.postContainerConnected=!0)}handleStoreChange(n){this.filteredPosts=G.getFilteredPosts(n.selectedTag),this.render()}render(){if(!this.shadowRoot)return;const n=this.filteredPosts.length>0?this.filteredPosts.map((n=>{const e=n.photo?n.photo.replace(/"/g,"&quot;"):"",t=n.name?n.name.replace(/"/g,"&quot;"):"",s=n.date?n.date.replace(/"/g,"&quot;"):"",i=n.career?n.career.replace(/"/g,"&quot;"):"",o=n.semestre?n.semestre.replace(/"/g,"&quot;"):"",a=n.message?n.message.replace(/"/g,"&quot;"):"",r=n.tag?n.tag.replace(/"/g,"&quot;"):"",l=n.share?n.share.replace(/"/g,"&quot;"):"";return`\n              <feed-post\n                ${n.id?`id="${n.id}"`:""}\n                photo="${e}"\n                name="${t}"\n                date="${s}"\n                career="${i}"\n                semestre="${o}"\n                message="${a}"\n                tag="${r}"\n                likes="${n.likes||0}"\n                share="${l}"\n                comments='${JSON.stringify(n.comments||[])}'\n              ></feed-post>\n            `})).join(""):'\n        <div class="no-posts">\n          <p class="no-posts-title">No posts yet</p>\n          <p class="subtitle">Be the first to share something interesting</p>\n        </div>\n      ';this.shadowRoot.innerHTML=`\n      <style>\n        :host {\n          display: block;\n          width: 100%;\n          min-height: 100vh;\n        }\n\n        .posts-container {\n          max-width: 800px;\n          margin: 0 auto;\n          padding: 20px;\n        }\n\n        .no-posts {\n          text-align: center;\n          padding: 40px 20px;\n          background: white;\n          border-radius: 15px;\n          margin: 20px auto;\n          max-width: 690px;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n        }\n\n        .no-posts p {\n          margin: 0;\n          color: #1f2937;\n        }\n\n        .no-posts-title {\n          font-size: 1.5rem;\n          font-weight: bold;\n          color: #4a4a4a;\n          margin-bottom: 10px !important;\n          animation: float 3s ease-in-out infinite;\n        }\n\n        @keyframes float {\n          0% { transform: translateY(0); }\n          50% { transform: translateY(-10px); }\n          100% { transform: translateY(0); }\n        }\n\n        .no-posts .subtitle {\n          color: #6b7280;\n          font-size: 1rem;\n        }\n\n        @media (max-width: 576px) {\n          .posts-container {\n            padding: 10px;\n          }\n\n          .no-posts {\n            margin: 10px;\n            padding: 30px 15px;\n          }\n\n          .no-posts-title {\n            font-size: 1.2rem;\n          }\n\n          .no-posts .subtitle {\n            font-size: 0.9rem;\n          }\n        }\n      </style>\n      <div class="posts-container">\n        ${n}\n      </div>\n    `}}console.log("se carg√≥ este archivo");const Tn={selectTag(n){t.dispatch({type:J.SELECT_TAG,payload:n})}};class Rn extends HTMLElement{constructor(){super(),this.activeTag="All",this.attachShadow({mode:"open"}),this.setupStoreSubscription()}setupStoreSubscription(){G.subscribe((n=>{this.activeTag!==n.selectedTag&&(this.activeTag=n.selectedTag,this.updateActiveButton())}))}connectedCallback(){this.render(),setTimeout((()=>{this.addEventListeners(),this.updateActiveButton()}),0)}addEventListeners(){this.shadowRoot.querySelectorAll("button-tags").forEach((n=>{n.addEventListener("click",(()=>{const e=n.getAttribute("textbutton");e&&Tn.selectTag(e)}))}))}updateActiveButton(){this.shadowRoot.querySelectorAll("button-tags").forEach((n=>{n.getAttribute("textbutton")===this.activeTag?n.setAttribute("active","true"):n.removeAttribute("active")}))}render(){this.shadowRoot.innerHTML='\n    <style>\n      .section-buttons {\n        width: 100%;\n        display: flex;\n        gap: 6%;\n        padding: 2% 0;\n        justify-self: center;\n        justify-content: center;\n        flex-wrap: wrap;\n      }\n\n      @media (max-width: 644px) {\n        .section-buttons {\n          gap: 4%;\n          padding: 3% 2%;\n          row-gap: 12px;\n        }\n\n        .button-tags {\n          margin-bottom: 0;\n          width: 48%;\n          min-width: 48%;\n          max-width: 48%;\n          height: 40px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 8px 12px;\n          flex: none;\n        }\n      }\n\n      @media (max-width: 400px) {\n        .section-buttons {\n          gap: 3%;\n          padding: 3% 2%;\n          row-gap: 10px;\n        }\n\n        .button-tags {\n          width: 47%;\n          min-width: 47%;\n          max-width: 47%;\n          height: 36px;\n          font-size: 0.85rem;\n          padding: 6px 8px;\n        }\n      }\n    </style>\n      <section class="section-buttons">\n        <button-tags textbutton="All"></button-tags>\n        <button-tags textbutton="Daily Life"></button-tags>\n        <button-tags textbutton="Carpool"></button-tags>\n        <button-tags textbutton="Academics"></button-tags>\n      </section>\n    '}}const _n=Rn;class jn extends HTMLElement{constructor(){super(),this.liked=!1,this.unsubscribeStore=null,this.attachShadow({mode:"open"}),this.post={photo:"",name:"",career:"",semestre:"",message:"",tag:"",likes:0,date:"",share:"",comments:[]}}static get observedAttributes(){return["photo","name","career","semestre","message","tag","likes","date","share","comments","id"]}attributeChangedCallback(n,e,t){if("likes"===n)this.post.likes=t?Number(t):0;else if("comments"===n)try{this.post.comments=JSON.parse(t)}catch{this.post.comments=[]}else"id"===n?this.post.id=t:"string"==typeof t&&(this.post[n]=t);this.render()}connectedCallback(){this.render(),this.setupEventListeners(),this.subscribeToStore()}disconnectedCallback(){this.unsubscribeStore&&this.unsubscribeStore()}subscribeToStore(){this.unsubscribeStore=G.subscribe(this.handleStoreChange.bind(this))}handleStoreChange(n){const e=n.auth.user,t=e?.username||"",s=n.userLikes[t]||[],i=this.post.id||"",o=!!i&&s.includes(i),a=this.shadowRoot?.querySelector(".just-likes")?.classList.contains("liked");o!==a&&this.render()}setupEventListeners(){const n=this.shadowRoot?.querySelector(".just-comments");n?.addEventListener("click",(()=>{this.post.id&&(G.saveCurrentPost(this.post),G.setFromProfile(!1),r("/comments-detail"))}));const e=this.shadowRoot?.querySelector(".just-share");e?.addEventListener("click",(()=>{var n;this.post.id&&(n=this.post.id,t.dispatch({type:U.SHARE_POST,payload:{postId:n}}))}));const s=this.shadowRoot?.querySelector(".just-likes");s?.addEventListener("click",(()=>{if(this.post.id){const n=G.getState(),e=n.auth.user;if(e){const t=e.username;(n.userLikes[t]||[]).includes(this.post.id)?V.unlikePost(this.post.id,t):V.likePost(this.post.id,t)}else console.log("User not logged in, cannot like post."),this.showNotification("Please log in to like posts.")}}))}render(){if(this.shadowRoot){let n=!1;const e=G.getState(),t=e.auth.user;if(t&&this.post.id){const s=t.username;(e.userLikes[s]||[]).includes(this.post.id)&&(n=!0)}this.shadowRoot.innerHTML=`\n        <style>\n          .post {\n            background: white;\n            border-radius: 15px;\n            padding: 25px 25px 5px 25px;\n            margin: 15px auto;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n            width: 690px;\n            min-height: 190.578px;\n            border: 0.125rem solid rgba(0, 0, 0, 0.56);\n            display: block;\n          }\n\n          .footer {\n            display: flex;\n            justify-content: space-between;\n            margin: 0;\n            gap: 0.5rem;\n          }\n\n          .message-container {\n            font-size: 0.95rem;\n            margin: 0;\n          }\n\n          .message {\n            margin: 0;\n          }\n\n          .like-container {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            align-items: flex-button;\n            border: none;\n            background: none;\n          }\n\n          .profile-picture {\n            border-radius: 50%;\n            width: 50px;\n            height: 50px;\n            object-fit: cover;\n          }\n\n          .name {\n            color: black;\n            font-weight: bold;\n            margin: 0;\n            font-size: 1rem;\n            display: inline-block;\n          }\n\n          .like-icon path {\n            color: #6b7280;\n            transition: all 0.3s ease;\n            stroke: #5354ed;\n            stroke-width: 2;\n            display: flex;\n            align-items: center;\n            background: none;\n            border: none;\n            cursor: pointer;\n            font-size: 0.9rem;\n            padding: 5px 10px;\n          }\n          .liked path {\n            fill: #5354ed;\n          }\n\n          .likes-count {\n            margin-bottom: 0.5rem;\n          }\n\n          .tag {\n            display: inline-block;\n            padding: 4px 12px;\n            border: 2px solid rgba(31, 31, 241, 0.57);\n            border-radius: 0.85rem;\n            color: rgba(31, 31, 241, 0.57);\n            background-color: rgb(255, 255, 255);\n            font-weight: 500;\n            font-size: 0.7rem;\n            text-align: center;\n            margin: 1rem 0;\n            position: relative;\n            z-index: 1;\n          }\n          .user-container {\n            display: flex;\n            align-items: flex-start;\n            gap: 12px;\n            justify-content: space-between;\n          }\n\n          .profile-container {\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n            align-items: flex-start;\n          }\n\n          .career {\n            color: black;\n            font-weight: bold;\n            align-items: flex-start;\n            padding: 0;\n            margin: 0;\n          }\n\n          .semestre {\n            color: black;\n            font-weight: bold;\n            padding: 0;\n            margin: 0;\n          }\n\n          .the-career {\n            text-align: right;\n            display: flex;\n            gap: 0.2rem;\n            font-size: 14px;\n          }\n\n          .name-container {\n            display: flex;\n            flex-direction: column;\n            line-height: 1.2;\n          }\n\n          .date {\n            display: inline-block;\n            transform: translateY(-10px);\n            font-size: 0.95rem;\n            color: #666;\n          }\n\n          .just-likes,\n          .just-comments,\n          .just-share {\n            flex: 1;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 0.4rem;\n            font-size: 0.85rem;\n            font-weight: bold;\n            padding: 0.5rem 0;\n            border: none;\n            background: none;\n            color: #6b7280;\n            cursor: pointer;\n            transition: transform 0.3s ease;\n          }\n\n          .just-likes:hover,\n          .just-comments:hover,\n          .just-share:hover {\n            transform: scale(1.03);\n          }\n\n          .just-likes:active,\n          .just-comments:active,\n          .just-share:active {\n            transform: scale(0.97);\n          }\n\n          .comment-icon path,\n          .share-icon path {\n            transition: fill 0.3s ease;\n            fill: #5354ed;\n          }\n\n          .just-likes:hover .comment-icon path {\n            fill: #3a3b9e;\n          }\n\n          .just-likes:active .comment-icon path {\n            fill: #2d2e7a;\n          }\n\n          .liked path {\n            fill: #5354ed;\n          }\n\n          .attributes-container {\n            display: flex;\n            flex-direction: column;\n          }\n\n          hr {\n            border: none;\n            border-top: 1px solid #ddd;\n            margin: 0;\n            width: 100%;\n            position: relative;\n            z-index: 0;\n          }\n\n          .like-icon {\n            transition: all 0.3s ease;\n          }\n\n          .like-icon:hover {\n            transform: scale(1.1);\n          }\n\n          .just-likes:active .like-icon {\n            transform: scale(0.9);\n          }\n\n          @keyframes heartBeat {\n            0% {\n              transform: scale(1);\n            }\n            14% {\n              transform: scale(1.3);\n            }\n            28% {\n              transform: scale(1);\n            }\n            42% {\n              transform: scale(1.3);\n            }\n            70% {\n              transform: scale(1);\n            }\n          }\n\n          .liked .just-likes {\n            animation: heartBeat 1s ease;\n          }\n\n          .liked .like-icon path {\n            fill: #5354ed;\n            stroke: #5354ed;\n          }\n\n          .notification {\n            position: fixed;\n            bottom: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            background-color: #5354ed;\n            color: white;\n            padding: 10px 20px;\n            border-radius: 5px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.2);\n            z-index: 1000;\n            animation: notification-enter 0.5s forwards;\n          }\n\n          @keyframes notification-enter {\n            0% {\n              opacity: 0;\n              transform: translate(-50%, 20px);\n            }\n            100% {\n              opacity: 1;\n              transform: translate(-50%, 0);\n            }\n          }\n\n          @keyframes notification-exit {\n            0% {\n              opacity: 1;\n              transform: translate(-50%, 0);\n            }\n            100% {\n              opacity: 0;\n              transform: translate(-50%, 20px);\n            }\n          }\n\n          .notification-exit {\n            animation: notification-exit 0.8s forwards;\n          }\n\n          @media (max-width: 576px) {\n            .post {\n              width: 90%;\n              padding: 15px 15px 5px 15px;\n              margin: 10px auto;\n            }\n\n            .user-container {\n              flex-direction: row;\n              justify-content: space-between;\n              align-items: flex-start;\n              gap: 8px;\n            }\n\n            .profile-container {\n              width: auto;\n              justify-content: flex-start;\n            }\n\n            .the-career {\n              text-align: right;\n              margin-top: 0;\n              align-self: flex-start;\n              min-width: fit-content;\n            }\n\n            .message-container {\n              font-size: 0.9rem;\n            }\n\n            .footer {\n              flex-direction: row;\n              gap: 0.5rem;\n              margin-top: 10px;\n            }\n\n            .just-likes,\n            .just-comments,\n            .just-share {\n              flex: 1;\n              justify-content: center;\n              padding: 0.3rem 0;\n              font-size: 0.8rem;\n            }\n\n            .tag {\n              font-size: 0.65rem;\n              padding: 3px 10px;\n              margin: 0.5rem 0;\n            }\n\n            .profile-picture {\n              width: 40px;\n              height: 40px;\n            }\n\n            .name {\n              font-size: 0.95rem;\n            }\n\n            .date {\n              font-size: 0.85rem;\n              transform: translateY(0);\n            }\n          }\n\n        </style>\n        <div class="post">\n          <div class="attributes-container">\n            <div class="user-container"> \n              <div class="profile-container">\n                <img class="profile-picture" src="${this.post.photo}" alt="Profile Picture">\n                <div class="name-container">\n                  <p class="name">${this.post.name}</p>\n                  <p class="date">${this.post.date}</p>\n                </div>\n              </div>\n\n              <div class="the-career">\n                <p class="career">${this.post.career}</p>\n                <p class="semestre">${this.post.semestre}</p>\n              </div>\n            </div>\n\n            <div class="message-container">\n              <p class="message">${this.post.message}</p>\n            </div>\n          </div>\n\n          <p class="tag">${this.post.tag}</p>\n          \n          <hr>\n          <div class="footer">  \n             <div class="align-likes">\n              <button class="just-likes ${n?"liked":""}">\n                <svg class="like-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" width="20" height="20">\n                  <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" stroke-width="2"/>\n                </svg>\n                <p class="likes-count">${this.post.likes} Likes</p>\n              </button>\n            </div>  \n\n            <div class="align-comments">\n              <button class="just-comments">\n                <svg class="comment-icon" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">\n                  <path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>\n                </svg>\n                <p class="comments-count">${this.post.comments&&this.post.comments.length>0?this.post.comments.length+" Comments":" comment"}</p>\n              </button>\n            </div>\n\n            <div class="align-share">\n              <button class="just-share">\n                <svg class="share-icon" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">\n                  <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92z"/>\n                </svg>\n                <p class="share-count">Shared</p>\n              </button>\n            </div>\n          </div>\n        </div>\n        <comments-modal></comments-modal>\n      `}}showNotification(n){const e=document.createElement("style");e.textContent="\n      .feed-post-notification {\n        position: fixed;\n        bottom: 20px;\n        left: 50%;\n        transform: translateX(-50%);\n        background-color: #5354ed;\n        color: white;\n        padding: 10px 20px;\n        border-radius: 5px;\n        box-shadow: 0 2px 10px rgba(0,0,0,0.2);\n        z-index: 1000;\n        animation: notification-enter 0.5s forwards;\n      }\n      \n      @keyframes notification-enter {\n        0% {\n          opacity: 0;\n          transform: translate(-50%, 20px);\n        }\n        100% {\n          opacity: 1;\n          transform: translate(-50%, 0);\n        }\n      }\n      \n      @keyframes notification-exit {\n        0% {\n          opacity: 1;\n          transform: translate(-50%, 0);\n        }\n        100% {\n          opacity: 0;\n          transform: translate(-50%, 20px);\n        }\n      }\n      \n      .notification-exit {\n        animation: notification-exit 0.8s forwards;\n      }\n    ";const t=document.createElement("div");t.className="feed-post-notification",t.textContent=n,document.head.appendChild(e),document.body.appendChild(t),setTimeout((()=>{t.classList.add("notification-exit"),setTimeout((()=>{document.body.removeChild(t),document.head.removeChild(e)}),800)}),2e3)}}const Dn=jn;class Pn extends HTMLElement{constructor(){super(),this.liked=!1,this.unsubscribeStore=null,this.attachShadow({mode:"open"}),this.post={id:"",photo:"",name:"",career:"",semestre:"",message:"",tag:"",likes:0,date:"",share:"",comments:[]}}static get observedAttributes(){return["id","photo","name","career","semestre","message","tag","likes","date","share","comments"]}attributeChangedCallback(n,e,t){if("likes"===n)this.post.likes=t?Number(t):0;else if("comments"===n)try{this.post.comments=JSON.parse(t)}catch{this.post.comments=[]}else"string"==typeof t&&(this.post[n]=t);const s=this.shadowRoot?.querySelector(".comments-count");s&&this.post.comments&&(s.textContent=`${this.post.comments.length} Comments`),this.render()}connectedCallback(){this.unsubscribeStore=G.subscribe(this.handleStoreChange.bind(this)),this.render()}disconnectedCallback(){this.unsubscribeStore&&this.unsubscribeStore()}handleStoreChange(n){if(this.post.id){const e=G.getUserLikes(n.auth.user?.username||"");this.liked=e.includes(this.post.id),this.render()}}render(){if(this.shadowRoot){const n=G.getState().auth.user;let e=!1;n&&this.post.id&&(e=G.getUserLikes(n.username).includes(this.post.id)),this.shadowRoot.innerHTML=`\n        <style>\n          .post {\n            background: white;\n            border-radius: 15px;\n            padding: 25px 25px 5px 25px;\n            margin: 15px auto;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n            width: 690px;\n            min-height: 190.578px;\n            border: 0.125rem solid rgba(0, 0, 0, 0.56);\n            display: block;\n          }\n\n          .footer {\n            display: flex;\n            justify-content: space-between;\n            margin: 0;\n            gap: 0.5rem;\n          }\n\n          .message-container {\n            font-size: 0.95rem;\n            margin: 0;\n          }\n\n          .message {\n            margin: 0;\n          }\n\n          .like-container {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            align-items: flex-button;\n            border: none;\n            background: none;\n          }\n\n          .profile-picture {\n            border-radius: 50%;\n            width: 50px;\n            height: 50px;\n            object-fit: cover;\n          }\n\n          .name {\n            color: black;\n            font-weight: bold;\n            margin: 0;\n            font-size: 1rem;\n            display: inline-block;\n          }\n\n          .like-icon path {\n            color: #6b7280;\n            transition: all 0.3s ease;\n            stroke: #5354ed;\n            stroke-width: 2;\n            display: flex;\n            align-items: center;\n            background: none;\n            border: none;\n            cursor: pointer;\n            font-size: 0.9rem;\n            padding: 5px 10px;\n          }\n          .liked path {\n            fill: #5354ed;\n          }\n\n          .likes-count {\n            margin-bottom: 0.5rem;\n          }\n\n          .tag {\n            display: inline-block;\n            padding: 4px 12px;\n            border: 2px solid rgba(31, 31, 241, 0.57);\n            border-radius: 0.85rem;\n            color: rgba(31, 31, 241, 0.57);\n            background-color: rgb(255, 255, 255);\n            font-weight: 500;\n            font-size: 0.7rem;\n            text-align: center;\n            margin: 1rem 0;\n            position: relative;\n            z-index: 1;\n          }\n          .user-container {\n            display: flex;\n            align-items: flex-start;\n            gap: 12px;\n            justify-content: space-between;\n          }\n\n          .profile-container {\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n            align-items: flex-start;\n          }\n\n          .career {\n            color: black;\n            font-weight: bold;\n            align-items: flex-start;\n            padding: 0;\n            margin: 0;\n          }\n\n          .semestre {\n            color: black;\n            font-weight: bold;\n            padding: 0;\n            margin: 0;\n          }\n\n          .the-career {\n            text-align: right;\n            display: flex;\n            gap: 0.2rem;\n            font-size: 14px;\n          }\n\n          .name-container {\n            display: flex;\n            flex-direction: column;\n            line-height: 1.2;\n          }\n\n          .date {\n            display: inline-block;\n            transform: translateY(-10px);\n            font-size: 0.95rem;\n            color: #666;\n          }\n\n          .just-likes,\n          .just-comments,\n          .just-share {\n            flex: 1;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 0.4rem;\n            font-size: 0.85rem;\n            font-weight: bold;\n            padding: 0.5rem 0;\n            border: none;\n            background: none;\n            color: #6b7280;\n            cursor: pointer;\n            transition: transform 0.3s ease;\n          }\n\n          .just-likes:hover,\n          .just-comments:hover,\n          .just-share:hover {\n            transform: scale(1.03);\n          }\n\n          .just-likes:active,\n          .just-comments:active,\n          .just-share:active {\n            transform: scale(0.97);\n          }\n\n          .comment-icon path,\n          .share-icon path {\n            transition: fill 0.3s ease;\n            fill: #5354ed;\n          }\n\n          .just-likes:hover .comment-icon path {\n            fill: #3a3b9e;\n          }\n\n          .just-likes:active .comment-icon path {\n            fill: #2d2e7a;\n          }\n\n          .liked path {\n            fill: #5354ed;\n          }\n\n          .attributes-container {\n            display: flex;\n            flex-direction: column;\n          }\n\n          hr {\n            border: none;\n            border-top: 1px solid #ddd;\n            margin: 0;\n            width: 100%;\n            position: relative;\n            z-index: 0;\n          }\n\n          .like-icon {\n            transition: all 0.3s ease;\n          }\n\n          .like-icon:hover {\n            transform: scale(1.1);\n          }\n\n          .just-likes:active .like-icon {\n            transform: scale(0.9);\n          }\n\n          @keyframes heartBeat {\n            0% {\n              transform: scale(1);\n            }\n            14% {\n              transform: scale(1.3);\n            }\n            28% {\n              transform: scale(1);\n            }\n            42% {\n              transform: scale(1.3);\n            }\n            70% {\n              transform: scale(1);\n            }\n          }\n\n          .liked .just-likes {\n            animation: heartBeat 1s ease;\n          }\n\n          .liked .like-icon path {\n            fill: #5354ed;\n            stroke: #5354ed;\n          }\n\n          .notification {\n            position: fixed;\n            bottom: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            background-color: #5354ed;\n            color: white;\n            padding: 10px 20px;\n            border-radius: 5px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.2);\n            z-index: 1000;\n            animation: notification-enter 0.5s forwards;\n          }\n\n          @keyframes notification-enter {\n            0% {\n              opacity: 0;\n              transform: translate(-50%, 20px);\n            }\n            100% {\n              opacity: 1;\n              transform: translate(-50%, 0);\n            }\n          }\n\n          @keyframes notification-exit {\n            0% {\n              opacity: 1;\n              transform: translate(-50%, 0);\n            }\n            100% {\n              opacity: 0;\n              transform: translate(-50%, 20px);\n            }\n          }\n\n          .notification-exit {\n            animation: notification-exit 0.8s forwards;\n          }\n\n          @media (max-width: 576px) {\n            .post {\n              width: 90%;\n              padding: 15px 15px 5px 15px;\n              margin: 10px auto;\n            }\n\n            .user-container {\n              flex-direction: row;\n              justify-content: space-between;\n              align-items: flex-start;\n              gap: 8px;\n            }\n\n            .profile-container {\n              width: auto;\n              justify-content: flex-start;\n            }\n\n            .the-career {\n              text-align: right;\n              margin-top: 0;\n              align-self: flex-start;\n              min-width: fit-content;\n            }\n\n            .message-container {\n              font-size: 0.9rem;\n            }\n\n            .footer {\n              flex-direction: row;\n              gap: 0.5rem;\n              margin-top: 10px;\n            }\n\n            .just-likes,\n            .just-comments,\n            .just-share {\n              flex: 1;\n              justify-content: center;\n              padding: 0.3rem 0;\n              font-size: 0.8rem;\n            }\n\n            .tag {\n              font-size: 0.65rem;\n              padding: 3px 10px;\n              margin: 0.5rem 0;\n            }\n\n            .profile-picture {\n              width: 40px;\n              height: 40px;\n            }\n\n            .name {\n              font-size: 0.95rem;\n            }\n\n            .date {\n              font-size: 0.85rem;\n              transform: translateY(0);\n            }\n          }\n\n        </style>\n        <div class="post">\n          <div class="attributes-container">\n            <div class="user-container"> \n              <div class="profile-container">\n                <img class="profile-picture" src="${this.post.photo}" alt="Profile Picture">\n                <div class="name-container">\n                  <p class="name">${this.post.name}</p>\n                  <p class="date">${this.post.date}</p>\n                </div>\n              </div>\n\n              <div class="the-career">\n                <p class="career">${this.post.career}</p>\n                <p class="semestre">${this.post.semestre}</p>\n              </div>\n            </div>\n\n            <div class="message-container">\n              <p class="message">${this.post.message}</p>\n            </div>\n          </div>\n\n          <p class="tag">${this.post.tag}</p>\n          \n          <hr>\n          <div class="footer">  \n             <div class="align-likes">\n              <button class="just-likes ${e?"liked":""}">\n                <svg class="like-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" width="20" height="20">\n                  <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" stroke-width="2"/>\n                </svg>\n                <p class="likes-count">${this.post.likes} Likes</p>\n              </button>\n            </div>  \n\n            <div class="align-comments">\n              <button class="just-comments">\n                <svg class="comment-icon" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">\n                  <path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>\n                </svg>\n                <p class="comments-count">Comment</p>\n              </button>\n            </div>\n\n            <div class="align-share">\n              <button class="just-share">\n                <svg class="share-icon" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">\n                  <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92z"/>\n                </svg>\n                <p class="share-count">Shared</p>\n              </button>\n            </div>\n          </div>\n        </div>\n      `;const t=this.shadowRoot.querySelector(".just-likes");t?.addEventListener("click",(()=>{const n=window.scrollY,e=G.getState().auth.user;if(!e)return void alert("Please log in to like posts.");if(!this.post.id)return void console.error("Post is missing ID, cannot like.");const t=e.username,s=this.post.id;G.getUserLikes(t).includes(s)?V.unlikePost(s,t):V.likePost(s,t),requestAnimationFrame((()=>{window.scrollTo(0,n)}))}));const s=this.shadowRoot.querySelector(".just-comments");s?.addEventListener("click",(()=>{this.post.id&&(G.saveCurrentPost(this.post),G.setFromProfile(!0),r("/comments-detail"))}));const i=this.shadowRoot.querySelector(".just-share");i?.addEventListener("click",(()=>{navigator.clipboard.writeText("https://www.icesi.edu.co/").then((()=>{this.showNotification("Link copied to clipboard")})).catch((n=>{console.error("Error, sorry :c: ",n)}))}))}}showNotification(n){const e=document.createElement("style");e.textContent="\n      .feed-post-notification {\n        position: fixed;\n        bottom: 20px;\n        left: 50%;\n        transform: translateX(-50%);\n        background-color: #5354ed;\n        color: white;\n        padding: 10px 20px;\n        border-radius: 5px;\n        box-shadow: 0 2px 10px rgba(0,0,0,0.2);\n        z-index: 1000;\n        animation: notification-enter 0.5s forwards;\n      }\n      \n      @keyframes notification-enter {\n        0% {\n          opacity: 0;\n          transform: translate(-50%, 20px);\n        }\n        100% {\n          opacity: 1;\n          transform: translate(-50%, 0);\n        }\n      }\n      \n      @keyframes notification-exit {\n        0% {\n          opacity: 1;\n          transform: translate(-50%, 0);\n        }\n        100% {\n          opacity: 0;\n          transform: translate(-50%, 20px);\n        }\n      }\n      \n      .notification-exit {\n        animation: notification-exit 0.8s forwards;\n      }\n    ";const t=document.createElement("div");t.className="feed-post-notification",t.textContent=n,document.head.appendChild(e),document.body.appendChild(t),setTimeout((()=>{t.classList.add("notification-exit"),setTimeout((()=>{document.body.removeChild(t),document.head.removeChild(e)}),800)}),2e3)}}const An=Pn;class zn extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML='\n      <style>\n          #start{\n  background-color: #5354ed;\n  color: white;\n  font-size: 12px;\n  border: 2px solid black;\n  padding: 15px 85px;\n  border-radius: 50px;\n  cursor: pointer;\n  outline: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.3s ease;\n}\n\n#start:hover {\n  filter: brightness(1.2);\n  transform: scale(1.05);\n  -webkit-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n}\n\n#start:active {\n  transform: scale(0.95);\n  -webkit-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  filter: brightness(0.8);\n  transition: all 0.1s ease;\n}\n      </style>\n      <button id="start">Start Now</button>\n    ',this.shadowRoot.querySelector("#start")?.addEventListener("click",(()=>{r("/login")}))}}const In=zn;var Mn;!function(n){n.text="text",n.image="image"}(Mn||(Mn={}));class Nn extends HTMLElement{constructor(){super(),this.text="",this.image="",this.attachShadow({mode:"open"})}static get observedAttributes(){return Object.values(Mn)}attributeChangedCallback(n,e,t){switch(n){case Mn.text:this.text=t??"";break;case Mn.image:this.image=t??""}this.render()}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n\n      <style>\n        :host {\n  display: block;\n  margin: 0;\n  width: 255px;\n  background: #f2f4ff;\n  border: 2px solid #000;\n  border-radius: 12px;\n  padding: 15px;\n  filter: drop-shadow(0 0 0.5rem rgba(158, 158, 158, 0.249));\n}\nimg {\n  width: 250px;\n  height: auto;\n\n  display: block;\n  margin: 0 auto;\n}\np {\n  margin: 0;\n  font-size: 0.9rem;\n  text-align: start;\n  margin-top: 30px;\n  margin-bottom: 60px;\n  margin-left: 1.2em;\n  margin-right: 1.2rem;\n}\n\n@media (max-width: 480px) {\n  :host {\n    width: 90%;\n    padding: 12px;\n  }\n\n  img {\n    width: 100%;\n    max-width: 300px;\n  }\n\n  p {\n    text-align: center;\n    margin: 20px 36px 40px;\n    font-size: 1rem;\n  }\n}\n\n      </style>\n      <div class= image>\n        <img src="${this.image}" alt="" />\n      </div>\n     \n      <p>${this.text}</p>\n    `)}}const $n=Nn;class Fn extends HTMLElement{constructor(){super(),this.searchInput=null,this.currentTab="subjects",this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.setupEventListeners()}setupEventListeners(){this.searchInput=this.shadowRoot?.querySelector("#search-input"),this.searchInput&&(this.searchInput.addEventListener("input",this.handleSearch.bind(this)),this.searchInput.addEventListener("keydown",this.handleKeydown.bind(this))),document.addEventListener("tab-changed",(n=>{this.currentTab=n.detail.tab,this.searchInput&&this.handleSearch()}))}handleKeydown(n){"Enter"===n.key&&n.preventDefault()}handleSearch(){if(!this.searchInput)return;const n=this.searchInput.value.trim();""!==n?"subjects"===this.currentTab?(n=>{t.dispatch({type:D,payload:{query:n}})})(n):(n=>{t.dispatch({type:P,payload:{query:n}})})(n):t.dispatch({type:A,payload:{query:""}})}render(){this.shadowRoot.innerHTML='\n    <style>\n      .search-container {\n        position: relative;\n        width: 100%;\n        max-width: 600px;\n        margin: 0 auto;\n        box-sizing: border-box;\n      }\n\n      .search-input {\n        width: 100%;\n        padding: 12px 20px;\n        padding-left: 50px;\n        font-size: 1rem;\n        border: 2px solid var(--nexolightwhite);\n        border-radius: 50px;\n        outline: none;\n        background-color: white;\n        color: #2d3748;\n        box-sizing: border-box;\n      }\n\n      @media (max-width: 576px) {\n        .search-input {\n          font-size: 0.9rem;\n          padding: 10px 20px;\n          padding-left: 50px;\n        }\n\n        .search-icon {\n          width: 18px;\n          height: 18px;\n        }\n      }\n\n      .search-input:focus {\n        border-color: var(--nexopurple);\n        box-shadow: 0 0 0 3px rgba(83, 84, 237, 0.1);\n      }\n\n      .search-input::placeholder {\n        color: #a0aec0;\n      }\n\n      .search-icon {\n        position: absolute;\n        left: 15px;\n        top: 50%;\n        transform: translateY(-50%);\n        color: #a0aec0;\n        pointer-events: none;\n      }\n    </style>\n    <div class="search-container">\n      <svg\n        class="search-icon"\n        width="20"\n        height="20"\n        viewBox="0 0 24 24"\n        fill="none"\n        stroke="currentColor"\n        stroke-width="2"\n        stroke-linecap="round">\n        <circle cx="11" cy="11" r="8"></circle>\n        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>\n      </svg>\n      <input\n        class="search-input"\n        placeholder="Search teachers, subjects..."\n        id="search-input"\n        name="search-input"\n      />\n    </div>\n    '}}const On=Fn;class Hn extends HTMLElement{constructor(){super(),this.unsubscribeStore=null,this.handleClick=n=>{const e=this.getAttribute("name")||"",s=this.getAttribute("career")||"",i=this.getAttribute("credits")||"",o=this.calculateAverageRating(),a=this.getAttribute("id")||"";var l;l={name:e,career:s,credits:i,rating:o,id:a},t.dispatch({type:T,payload:l}),r("/subject-detail")},this.attachShadow({mode:"open"})}static get observedAttributes(){return["name","career","credits","id","rating"]}connectedCallback(){this.render(),this.unsubscribeStore=G.subscribe(this.handleStoreChange.bind(this))}disconnectedCallback(){this.unsubscribeStore&&this.unsubscribeStore()}handleStoreChange(){this.render()}calculateAverageRating(){const n=this.getAttribute("name")||"",e=G.getState().subjectRatings[n]||[];if(0===e.length)return 0;const t=e.reduce(((n,e)=>n+e.rating),0);return Number((t/e.length).toFixed(1))}render(){const n=this.getAttribute("name")||"Name not specified",e=this.getAttribute("career")||"Career not specified",t=this.getAttribute("credits")||"0",s=this.calculateAverageRating(),i=this.hashString(n),o=`https://picsum.photos/id/${Math.abs(i%30)}/250/150`,a=Array(5).fill(0).map(((n,e)=>`\n          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="${e<s?"#5354ED":"#ccc"}" class="star-icon">\n            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>\n          </svg>\n        `)).join("");this.shadowRoot.innerHTML=`\n      <style>\n        .card {\n          max-width: 300px;\n          border-radius: 12px;\n          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n          background-color: #eff0fd;\n          padding: 0;\n          text-align: left;\n          border: 1px solid rgb(0, 0, 0);\n          transition: all 0.3s ease;\n          overflow: hidden;\n          cursor: pointer;\n        }\n\n        .card:hover {\n          transform: translateY(-5px);\n          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\n        }\n\n        .image-container {\n          position: relative;\n          width: 100%;\n          height: 160px;\n          overflow: hidden;\n        }\n\n        .card img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          transition: transform 0.5s ease;\n        }\n\n        .card:hover .image-container img {\n          transform: scale(1.05);\n        }\n\n        .content {\n          padding: 20px;\n        }\n\n        .card h4 {\n          font-size: 1.25rem;\n          font-weight: 700;\n          margin: 0 0 8px 0;\n          color: #2c3e50;\n          line-height: 1.3;\n        }\n\n        .card p {\n          font-size: 0.95rem;\n          color: #666;\n          margin: 0 0 12px 0;\n          line-height: 1.5;\n        }\n\n        .credits {\n          font-size: 1rem;\n          font-weight: 600;\n          color: var(--nexopurple);\n          margin: 0 0 12px 0;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .credits::before {\n          content: "‚Ä¢";\n          color: var(--nexopurple);\n          font-size: 1.2rem;\n        }\n\n        .stars {\n          display: flex;\n          gap: 4px;\n          margin-top: 12px;\n        }\n\n        .star-icon {\n          transition: fill 0.2s;\n          cursor: pointer;\n        }\n      </style>\n      <div class="card" id="subjectCard">\n        <div class="image-container">\n          <img src="${o}" alt="${n}">\n        </div>\n        <div class="content">\n          <h4>${n}</h4>\n          <p>${e}</p>\n          <p class="credits">${t} credits</p>\n          <div class="stars">\n            ${a}\n          </div>\n        </div>\n      </div>\n    `;const r=this.shadowRoot?.querySelector("#subjectCard");r?r.addEventListener("click",this.handleClick):console.error("SubjectCard: Could not find #subjectCard element")}attributeChangedCallback(n,e,t){e!==t&&this.render()}hashString(n){let e=0;for(let t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e|=0;return e}}const Un=Hn;class qn extends HTMLElement{constructor(){super(),this.subjects=[],this.currentPage=1,this.itemsPerPage=8,this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.loadSubjects()}render(){this.shadowRoot.innerHTML='\n  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">\n  <style>\n     \n\n    .container {\n      padding: 20px;\n    }\n\n    .row {\n      margin: 0 -10px;\n    }\n\n    .col {\n      padding: 10px;\n    }\n\n    .pagination {\n      display: flex;\n      justify-content: center;\n      margin-top: 20px;\n      gap: 10px;\n    }\n\n    .pagination button {\n      padding: 8px 16px;\n      border: 1px solid var(--nexolightwhite);\n      background-color: var(--nexolightwhite);\n      cursor: pointer;\n      border-radius: 8px;\n      color: var(--nexopurple);\n      font-weight: 500;\n      transition: all 0.2s ease;\n    }\n\n    .pagination button:hover {\n      background-color: var(--nexolightwhite);\n      transform: translateY(-2px);\n    }\n\n    .pagination button.active {\n      background-color: var(--nexopurple);\n      color: var(--nexolightwhite);\n      border-color: var(--nexopurple);\n    }\n\n    .pagination button:disabled {\n      cursor: not-allowed;\n      opacity: 0.5;\n    }\n\n    @media (max-width: 576px) {\n      .container {\n        padding: 0;\n        font-size: 0.7rem;\n      }\n\n      .row {\n        margin: 0 -2px;\n      }\n\n      .col {\n        padding: 2px;\n      }\n\n      :host {\n        font-size: 0.7rem;\n      }\n\n      .g-4 {\n        gap: 0.5rem !important;\n      }\n\n      .pagination button {\n        padding: 6px 12px;\n        font-size: 0.7rem;\n      }\n    }\n  </style>\n  <div class="container">\n    <div class="row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-2">\n    </div>\n    <div class="pagination"></div>\n  </div>\n'}async loadSubjects(){try{const n=await async function(){try{const n=await fetch("/data/SubjectsReviews.json");if(!n.ok)throw new Error(`HTTP error! Status: ${n.status}`);const e=await n.json();return console.log("Fetched subjects:",e),e}catch(n){throw console.error("Failed to fetch subjects:",n),n}}();this.subjects=n.subjects,this.renderPage(),this.renderPagination()}catch(n){console.error("Error loading subjects:",n)}}renderPage(){const n=this.shadowRoot?.querySelector(".row");if(n){n.innerHTML="";const e=(this.currentPage-1)*this.itemsPerPage,t=Math.min(e+this.itemsPerPage,this.subjects.length);for(let s=e;s<t;s++){const e=this.subjects[s],t=document.createElement("div");t.className="col";const i=document.createElement("subject-card");i.setAttribute("name",e.name),i.setAttribute("career",e.career),i.setAttribute("credits",e.credits),i.setAttribute("image",e.image),i.setAttribute("rating",e.rating),t.appendChild(i),n.appendChild(t)}}}renderPagination(){const n=this.shadowRoot?.querySelector(".pagination");if(n){n.innerHTML="";const e=Math.ceil(this.subjects.length/this.itemsPerPage),t=document.createElement("button");t.textContent="¬´",t.disabled=1===this.currentPage,t.addEventListener("click",(()=>{this.currentPage>1&&(this.currentPage--,this.renderPage(),this.renderPagination())})),n.appendChild(t);for(let t=1;t<=e;t++){const e=document.createElement("button");e.textContent=t.toString(),t===this.currentPage&&e.classList.add("active"),e.addEventListener("click",(()=>{this.currentPage=t,this.renderPage(),this.renderPagination()})),n.appendChild(e)}const s=document.createElement("button");s.textContent="¬ª",s.disabled=this.currentPage===e,s.addEventListener("click",(()=>{this.currentPage<e&&(this.currentPage++,this.renderPage(),this.renderPagination())})),n.appendChild(s)}}}const Bn=qn;class Jn extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.setupTabs()}render(){this.shadowRoot.innerHTML='\n      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">\n      <style>\n       \n  \n        .project-tab {\n          padding: 20px;\n          background: white;\n          border-radius: 8px;\n        }\n  \n        .nav-tabs {\n          border-bottom: 2px solid var(--nexolightwhite);\n          margin-bottom: 20px;\n          position: relative;\n        }\n  \n        .nav-tabs::after {\n          content: "";\n          position: absolute;\n          bottom: -2px;\n          left: 0;\n          width: 50%;\n          height: 2px;\n          background-color: var(--nexopurple);\n          transition: transform 0.3s ease;\n        }\n  \n        .nav-tabs[data-active-tab="subjects"]::after {\n          transform: translateX(100%);\n        }\n  \n        .nav-tabs .nav-link {\n          color: rgb(100, 100, 100);\n          border: none;\n          padding: 10px 20px;\n          font-weight: 500;\n          position: relative;\n        }\n  \n        .nav-tabs .nav-link:hover {\n          color: var(--nexopurple);\n          border: none;\n        }\n  \n        .nav-tabs .nav-link.active {\n          color: var(--nexopurple);\n          background: none;\n          border: none;\n        }\n  \n        .tab-content {\n          padding: 20px 0;\n        }\n  \n        .tab-pane {\n          display: none;\n        }\n  \n        .tab-pane.show.active {\n          display: block;\n        }\n      </style>\n  \n      <section id="tabs" class="project-tab">\n        <div class="container">\n          <nav>\n            <div class="nav nav-tabs nav-fill" data-active-tab="teacher">\n              <button class="nav-item nav-link active" data-target="teacher" type="button">Teacher Reviews</button>\n              <button class="nav-item nav-link" data-target="subjects" type="button">Subjects Reviews</button>\n            </div>\n          </nav>\n  \n          <search-bar></search-bar>\n  \n          <div class="tab-content">\n            <div class="tab-pane show active" id="teacher">\n              <teachers-container></teachers-container>\n            </div>\n            <div class="tab-pane" id="subjects">\n              <subjects-container></subjects-container>\n            </div>\n          </div>\n        </div>\n      </section>\n    '}setupTabs(){const n=Array.from(this.shadowRoot.querySelectorAll("[data-target]")),e=this.shadowRoot.querySelector(".nav-tabs");n.forEach((n=>{n.addEventListener("click",(t=>{t.preventDefault(),this.shadowRoot.querySelectorAll(".tab-pane").forEach((n=>{n.classList.remove("show","active")})),this.shadowRoot.querySelectorAll(".nav-link").forEach((n=>{n.classList.remove("active")}));const s=n.getAttribute("data-target");if(s){const t=this.shadowRoot.querySelector(`#${s}`);t&&t.classList.add("show","active"),n.classList.add("active"),e.setAttribute("data-active-tab",s)}}))}))}}const Yn=Jn;class Gn extends HTMLElement{constructor(){super(),this.unsubscribeStore=null,this.handleClick=n=>{console.log("TeacherCard: Card clicked");const e=this.getAttribute("name")||"",s=this.getAttribute("subject")||"",i=this.getAttribute("nucleus")||"",o=this.getAttribute("rating")||"0",a=this.hashString(e),l={name:e,subject:s,nucleus:i,rating:o,image:`https://picsum.photos/id/${Math.abs(a%30)}/250/150`};console.log("TeacherCard: Dispatching teacher data:",l),(n=>{t.dispatch({type:C,payload:n})})(l),console.log("TeacherCard: Navigating to /teacher-detail"),r("/teacher-detail")},console.log("TeacherCard: Constructor called"),this.attachShadow({mode:"open"})}static get observedAttributes(){return["name","subject","nucleus","rating","image","id"]}connectedCallback(){console.log("TeacherCard: connectedCallback"),this.render(),this.unsubscribeStore=G.subscribe(this.handleStoreChange.bind(this))}disconnectedCallback(){this.unsubscribeStore&&this.unsubscribeStore()}handleStoreChange(){this.render()}render(){const n=this.getAttribute("name")||"Name not specified",e=this.getAttribute("subject")||"Subject not specified",t=this.getAttribute("nucleus")||"Nucleus not specified",s=this.calculateAverageRating(),i=this.hashString(n),o=`https://picsum.photos/id/${Math.abs(i%30)}/250/150`,a=Array(5).fill(0).map(((n,e)=>`\n          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="${e<s?"#5354ED":"#ccc"}" class="star-icon">\n            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>\n          </svg>\n        `)).join("");this.shadowRoot.innerHTML=`\n      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">\n      <style>\n       \n    \n        .card {\n          max-width: 300px;\n          border-radius: 12px;\n          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n          background-color: #eff0fd;\n          padding: 0;\n          text-align: left;\n          border: 1px solid rgb(0, 0, 0);\n          transition: all 0.3s ease;\n          overflow: hidden;\n          cursor: pointer;\n        }\n    \n        .card:hover {\n          transform: translateY(-5px);\n          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\n        }\n    \n        .image-container {\n          position: relative;\n          width: 100%;\n          height: 160px;\n          overflow: hidden;\n        }\n    \n        .card img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          transition: transform 0.5s ease;\n        }\n    \n        .card:hover .image-container img {\n          transform: scale(1.05);\n        }\n    \n        .content {\n          padding: 20px;\n        }\n    \n        .card h4 {\n          font-size: 1.25rem;\n          font-weight: 700;\n          margin: 0 0 8px 0;\n          color: #2c3e50;\n          line-height: 1.3;\n        }\n    \n        .card p {\n          font-size: 0.95rem;\n          color: #666;\n          margin: 0 0 12px 0;\n          line-height: 1.5;\n        }\n    \n        .subject {\n          font-size: 1rem;\n          font-weight: 600;\n          color: var(--nexopurple);\n          margin: 0 0 12px 0;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n    \n        .subject::before {\n          content: "‚Ä¢";\n          color: var(--nexopurple);\n          font-size: 1.2rem;\n        }\n    \n        .stars {\n          display: flex;\n          gap: 4px;\n          margin-top: 12px;\n        }\n    \n        .star-icon {\n          transition: fill 0.2s;\n          cursor: pointer;\n        }\n    \n        .card::before {\n          content: "";\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          border-radius: 12px;\n          pointer-events: none;\n        }\n      </style>\n    \n      <div class="card" id="teacherCard">\n        <div class="image-container">\n          <img src="${o}" alt="${n}">\n        </div>\n        <div class="content">\n          <h4>${n}</h4>\n          <p class="subject">${e}</p>\n          <p>${t}</p>\n          <div class="stars">\n            ${a}\n          </div>\n        </div>\n      </div>\n    `;const r=this.shadowRoot?.querySelector("#teacherCard");r?(console.log("TeacherCard: Adding click listener to card"),r.addEventListener("click",this.handleClick)):console.error("TeacherCard: Could not find #teacherCard element")}calculateAverageRating(){const n=this.getAttribute("name")||"",e=G.getState().teacherRatings[n]||[];if(0===e.length)return 0;const t=e.reduce(((n,e)=>n+e.rating),0);return Number((t/e.length).toFixed(1))}attributeChangedCallback(n,e,t){e!==t&&this.render()}hashString(n){let e=0;for(let t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e|=0;return e}}const Vn=Gn;async function Kn(){try{const n=await fetch("/data/TeachersReviews.json");if(!n.ok)throw new Error(`HTTP error! Status: ${n.status}`);const e=await n.json();return console.log("Fetched teachers:",e),e}catch(n){throw console.error("Failed to fetch teachers:",n),n}}class Xn extends HTMLElement{constructor(){super(),this.currentPage=1,this.itemsPerPage=8,this.teachers=[],this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.loadTeachers()}async loadTeachers(){try{const n=await Kn();this.teachers=n.teachers,this.renderPage(),this.renderPagination()}catch(n){console.error("Error loading teachers:",n)}}renderPage(){const n=this.shadowRoot?.querySelector(".row");if(n){n.innerHTML="";const e=(this.currentPage-1)*this.itemsPerPage,t=Math.min(e+this.itemsPerPage,this.teachers.length);for(let s=e;s<t;s++){const e=this.teachers[s],t=document.createElement("div");t.className="col";const i=document.createElement("teacher-card");i.setAttribute("name",e.name),i.setAttribute("subject",e.subject),i.setAttribute("nucleus",e.nucleus),i.setAttribute("rating",e.rating),i.setAttribute("image",e.image),t.appendChild(i),n.appendChild(t)}}}renderPagination(){const n=this.shadowRoot?.querySelector(".pagination");if(n){n.innerHTML="";const e=Math.ceil(this.teachers.length/this.itemsPerPage),t=document.createElement("button");t.textContent="¬´",t.disabled=1===this.currentPage,t.addEventListener("click",(()=>{this.currentPage>1&&(this.currentPage--,this.renderPage(),this.renderPagination())})),n.appendChild(t);for(let t=1;t<=e;t++){const e=document.createElement("button");e.textContent=t.toString(),t===this.currentPage&&e.classList.add("active"),e.addEventListener("click",(()=>{this.currentPage=t,this.renderPage(),this.renderPagination()})),n.appendChild(e)}const s=document.createElement("button");s.textContent="¬ª",s.disabled=this.currentPage===e,s.addEventListener("click",(()=>{this.currentPage<e&&(this.currentPage++,this.renderPage(),this.renderPagination())})),n.appendChild(s)}}render(){this.shadowRoot.innerHTML='\n            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">\n            <style>\n             \n\n.container {\n    padding: 20px;\n}\n\n.row {\n    margin: 0 -10px;\n}\n\n.col {\n    padding: 10px;\n}\n\n.pagination {\n    display: flex;\n    justify-content: center;\n    margin-top: 20px;\n    gap: 10px;\n}\n\n.pagination button {\n    padding: 8px 16px;\n    border: 1px solid var(--nexolightwhite);\n    background-color: var(--nexowhite);\n    cursor: pointer;\n    border-radius: 8px;\n    color: var(--nexopurple);\n    font-weight: 500;\n    transition: all 0.2s ease;\n}\n\n.pagination button:hover {\n    background-color: var(--nexolightwhite);\n    transform: translateY(-2px);\n}\n\n.pagination button.active {\n    background-color: var(--nexopurple);\n    color: var(--nexowhite);\n    border-color: var(--nexopurple);\n}\n\n.pagination button:disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n}\n\n@media (max-width: 576px) {\n    .container {\n        padding: 0;\n        font-size: 0.7rem;\n    }\n\n    .row {\n        margin: 0 -2px;\n    }\n\n    .col {\n        padding: 2px;\n    }\n\n    :host {\n        font-size: 0.7rem;\n    }\n\n    .g-4 {\n        gap: 0.5rem !important;\n    }\n    \n    .pagination button {\n        padding: 6px 12px;\n        font-size: 0.7rem;\n    }\n}\n            </style>\n            <div class="container">\n                <div class="row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-2">\n                </div>\n                <div class="pagination"></div>\n            </div>\n        '}}const Wn=Xn;class Qn extends HTMLElement{constructor(){super(),this.posts=[],this.unsubscribeStore=null,this.attachShadow({mode:"open"}),this.handleStoreChange=this.handleStoreChange.bind(this)}connectedCallback(){this.subscribeToStore(),this.setupEventListeners(),document.addEventListener("profile-updated",(()=>{console.log("ProfileContainer: 'profile-updated' event received. Loading posts."),G.loadProfilePosts()})),document.addEventListener("navigate",(n=>{"/profile"===n.detail&&(console.log("ProfileContainer: 'navigate' to profile event received. Loading posts."),G.loadProfilePosts())}))}disconnectedCallback(){this.unsubscribeStore&&this.unsubscribeStore()}subscribeToStore(){this.unsubscribeStore=G.subscribe(this.handleStoreChange),this.handleStoreChange(G.getState())}handleStoreChange(n){this.posts=G.getProfilePosts(),this.render()}setupEventListeners(){const n=this.shadowRoot.querySelector("floating-btn");n?.addEventListener("click",(()=>{window.dispatchEvent(new CustomEvent("open-modal"))}))}render(){const n=this.posts.map((n=>`\n      <profile-post\n        ${n.id?`id="${n.id}"`:""}\n        photo="${n.photo}"\n        name="${n.name}"\n        date="${n.date}"\n        career="${n.career}"\n        semestre="${n.semestre}"\n        message="${n.message}"\n        tag="${n.tag}"\n        likes="${n.likes}"\n        share="${n.share}"\n        comments="${JSON.stringify(n.comments)}"\n      ></profile-post>\n    `)).join("");this.shadowRoot.innerHTML=`\n     <style>\n      :host {\n        display: block;\n        width: 100%;\n        min-height: 100vh;\n      }\n\n      .profile-container {\n        max-width: 800px;\n        margin: 0 auto;\n      }\n\n      .posts-container {\n        border-radius: 30px;\n        padding: 20px;\n      }\n\n      @media (max-width: 576px) {\n        .profile-container {\n          max-width: 100%;\n        }\n\n        .posts-container {\n          margin: 0 10px;\n          padding: 10px;\n        }\n      }\n     </style>\n            <div class="profile-container">\n                <div class="posts-container">\n                    ${n}\n                </div>\n            <floating-btn></floating-btn>\n            <post-modal></post-modal>\n            </div>\n        `}}const Zn=Qn;class ne extends HTMLElement{constructor(){super(),this._lastUser=null,this.attachShadow({mode:"open"}),this.render=this.render.bind(this),this.handleStoreChange=this.handleStoreChange.bind(this)}connectedCallback(){this.setupStoreListeners(),this.addEventListeners()}disconnectedCallback(){this.unsubscribe&&this.unsubscribe()}setupStoreListeners(){this.unsubscribe=G.subscribe(this.handleStoreChange),this.handleStoreChange(G.getState())}handleStoreChange(n){n.auth.user!==this._lastUser&&(this._lastUser=n.auth.user,this.render())}addEventListeners(){const n=this.shadowRoot.querySelector(".edit-button");n?.addEventListener("click",(()=>{r("/profile-settings")}))}render(){const n=G.getState().auth.user,e=n?.username||"Unknown User",t=n?.degree||"Unknown Career",s=n?.bio||"",i=n?.profilePic||"https://picsum.photos/seed/picsum/200/300";this.shadowRoot.innerHTML=`\n          <style>\n            \n\n:host {\n  display: block;\n  width: 100%;\n  overflow-x: hidden;\n}\n\n.banner {\n  width: 100vw;\n  height: 200px;\n  background-color: #ffa500;\n  position: relative;\n  overflow: hidden;\n  left: 50%;\n  right: 50%;\n  margin-left: -50vw;\n  margin-right: -50vw;\n}\n\n.banner-illustrations {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n.banner-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n@media (max-width: 576px) {\n  .banner-image {\n    content: url("/assets/images/bannerimgsmall.png");\n  }\n}\n\n.profile-section {\n  text-align: center;\n  margin-top: -50px;\n  position: relative;\n}\n\n.profile-picture {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  border: 4px solid white;\n  margin: 0 auto;\n  position: relative;\n  z-index: 2;\n  object-fit: cover;\n  background-color: white;\n}\n\n.edit-button {\n  position: absolute;\n  right: 30%;\n  top: 30px;\n  background: #6366f1;\n  border: none;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  z-index: 3;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.edit-button:hover {\n  transform: scale(1.1) rotate(90deg);\n  background: #5354ed;\n  box-shadow: 3px 3px 15px -6px rgba(0, 0, 0, 0.4);\n}\n\n.edit-button:active {\n  transform: scale(0.95);\n  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);\n}\n\n.edit-button svg {\n  width: 20px;\n  height: 20px;\n  fill: white;\n  transition: all 0.3s ease;\n}\n\n.edit-button:hover svg {\n  fill: #ffffff;\n}\n\n.profile-info {\n  background-color: white;\n  padding: 20px;\n}\n\nh1 {\n  margin: 10px 0;\n  color: #1f2937;\n  font-size: 1.5rem;\n}\n\n.career {\n  color: #6b7280;\n  margin: 5px 0;\n}\n\n.bio {\n  color: #4b5563;\n  margin: 15px 0;\n  font-size: 0.9rem;\n}\n\n          </style>\n            <div class="banner">\n                <div class="banner-illustrations">\n                    <img class="banner-image" src="/assets/images/bannerimg.png" alt="Banner image">\n                </div>\n            </div>\n            <div class="profile-section">\n                <img class="profile-picture" src="${i}" alt="Profile picture"  >\n                <button class="edit-button">\n                    <svg viewBox="0 0 24 24">\n                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>\n                    </svg>\n                </button>\n                <div class="profile-info">\n                    <h1>${e}</h1>\n                    <p class="career">${t}</p>\n                    <p class="bio">${s}</p>\n                </div>\n            </div>\n        `}}const ee=ne;class te extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.setupEventListeners(),setTimeout((()=>{const n=this.shadowRoot.querySelector(".confirmation-dialog");n&&(n.style.opacity="1",n.style.transform="translateY(0)"),this.shadowRoot.host.classList.add("visible")}),10)}render(){this.shadowRoot.innerHTML='\n            <style>\n \n\n:host {\n  display: block;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  transition: background-color 0.3s ease;\n  font-family:\n    "Inter",\n    "Segoe UI",\n    Roboto,\n    -apple-system,\n    sans-serif;\n}\n\n:host(.visible) {\n  background-color: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(4px);\n}\n\n.confirmation-dialog {\n  background-color: var(--nexowhite);\n  border-radius: 24px;\n  width: 90%;\n  max-width: 480px;\n  overflow: hidden;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n  opacity: 0;\n  transform: translateY(20px) scale(0.98);\n  transition:\n    opacity 0.4s ease,\n    transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n}\n\n.dialog-header {\n  background: linear-gradient(135deg, #4f46e5, #6366f1);\n  padding: 24px 20px;\n  text-align: center;\n  position: relative;\n}\n\n.warning-icon {\n  width: 56px;\n  height: 56px;\n  background-color: var(--nexowhite);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto 16px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.warning-icon svg {\n  width: 32px;\n  height: 32px;\n  fill: #ef4444;\n}\n\n.dialog-header h2 {\n  color: var(--nexowhite);\n  font-size: 22px;\n  margin: 0;\n  padding: 0;\n  font-weight: 600;\n  line-height: 1.3;\n}\n\n.dialog-content {\n  padding: 24px 20px;\n}\n\n.message {\n  color: #4b5563;\n  font-size: 16px;\n  line-height: 1.5;\n  margin-bottom: 24px;\n  text-align: center;\n}\n\n.action-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 12px;\n}\n\n.btn {\n  background-color: var(--nexopurple);\n  color: white;\n  font-size: 14px;\n  border: 2px solid var(--nexoblack);\n  padding: 7px 30px;\n  border-radius: 50px;\n  cursor: pointer;\n  outline: none;\n  font-weight: 600;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.2s ease-in-out;\n}\n\n.confirm-btn {\n  background-color: var(--nexopurple);\n}\n\n.cancel-btn {\n  background-color: var(--nexowhite);\n  color: var(--nexoblack);\n}\n\n.btn:hover {\n  filter: brightness(1.2);\n  transform: scale(1.05);\n  -webkit-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n}\n\n.btn:active {\n  transform: scale(0.95);\n  -webkit-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  filter: brightness(0.8);\n}\n\n@media (max-width: 576px) {\n  .action-buttons {\n    flex-direction: column;\n  }\n  .btn {\n    width: 100%;\n  }\n}\n\n            </style>\n            <div class="confirmation-dialog">\n                <div class="dialog-header">\n                    <div class="warning-icon">\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                            <path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-5h2v2h-2v-2zm0-8h2v6h-2V7z"/>\n                        </svg>\n                    </div>\n                    <h2>Are you sure you want to delete your account?</h2>\n                    \n                </div>\n                <div class="dialog-content">\n                    <p class="message">This action is permanent</p>  Your data and activity will be permanently erased.</p>\n                    <div class="action-buttons">\n                        <button class="btn cancel-btn">Cancel</button>\n                        <button class="btn confirm-btn">Delete account</button>\n                    </div>\n                </div>\n            </div>\n        '}setupEventListeners(){const n=this.shadowRoot.querySelector(".confirm-btn"),e=this.shadowRoot.querySelector(".cancel-btn");n&&n.addEventListener("click",(()=>{n.disabled=!0,F.deleteAccount(),this.remove(),r("/")})),e?.addEventListener("click",(()=>{this.animateOut().then((()=>{this.remove()}))}))}animateOut(){return new Promise((n=>{const e=this.shadowRoot.querySelector(".confirmation-dialog");this.shadowRoot.host.classList.remove("visible"),e&&(e.style.opacity="0",e.style.transform="translateY(20px) scale(0.95)"),setTimeout((()=>{n()}),300)}))}}const se=te;class ie extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render=this.render.bind(this),this.handleStoreChange=this.handleStoreChange.bind(this),this.setupStoreListeners()}setupStoreListeners(){this.unsubscribe=G.subscribe(this.handleStoreChange),this.handleStoreChange(G.getState())}disconnectedCallback(){this.unsubscribe&&this.unsubscribe()}connectedCallback(){this.setupEventListeners()}handleStoreChange(n){this.render()}render(){const n=G.getState().auth.user,e=n?.username||"",t=n?.phone||"",s=n?.degree||"",i=n?.semester||"",o=n?.bio||"";this.shadowRoot.innerHTML=`\n    <style>\n:host {\n    display: block;\n    width: 100%;\n    min-height: 100vh;\n}\n\n.settings-container {\n    max-width: 800px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\n.profile-form {\n    background-color: #EFF0FD;\n    border-radius: 30px;\n    padding: 30px;\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n}\n\n.form-group {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n.form-group label {\n    font-weight: 600;\n    color: #6B7280;\n    font-size: 15px;\n    margin-left: 10px;\n    width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: inline-block;\n}\n\ninput, select {\n    width: 100%;\n    padding: 12px 15px;\n    border-radius: 25px;\n    border: 1px solid #d1d5db;\n    font-size: 16px;\n    transition: all 0.3s ease;\n    background-color: white;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);\n}\n\nselect {\n    padding-right: 30px;\n    appearance: none;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%235C6EF8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");\n    background-repeat: no-repeat;\n    background-position: right 12px center;\n    background-size: 16px;\n}\n\nselect::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n    border-radius: 10px;\n}\n\nselect::-webkit-scrollbar-track {\n    background: #e3e5ff;\n    border-radius: 10px;\n}\n\nselect::-webkit-scrollbar-thumb {\n    background: #5354ed;\n    border-radius: 10px;\n}\n\nselect::-webkit-scrollbar-thumb:hover {\n    background: #4445c9;\n    border-radius: 10px;\n}\n\nselect {\n    scrollbar-width: thin;\n    scrollbar-color: #5354ed #f1f1f1;\n}\n\ntextarea {\n    width: 100%;\n    padding: 12px 15px;\n    border-radius: 0;\n    border: 1px solid #d1d5db;\n    font-size: 16px;\n    transition: all 0.3s ease;\n    background-color: white;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);\n}\n\ninput:focus, select:focus, textarea:focus {\n    outline: none;\n    border-color: #5C6EF8;\n    box-shadow: 0 0 0 3px rgba(92, 110, 248, 0.2);\n}\n\n.bio-container {\n    background-color: white;\n    border-radius: 15px;\n    padding: 20px;\n    margin-top: 10px;\n    position: relative;\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.03);\n    transition: all 0.3s ease;\n}\n\n.bio-container:hover {\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);\n}\n\n.bio-text {\n    width: 100%;\n    min-height: 100px;\n    border: none;\n    resize: vertical;\n    font-family: inherit;\n    font-size: 16px;\n    line-height: 1.5;\n    padding: 0;\n    margin-bottom: 30px;\n    background: transparent;\n    border-radius: 10px;\n    box-shadow: none;\n}\n\n.bio-text:focus {\n    outline: none;\n}\n\n.char-counter {\n    position: absolute;\n    bottom: 10px;\n    right: 15px;\n    color: #5C6EF8;\n    font-size: 14px;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s ease;\n}\n\n.char-counter:hover {\n    color: #4550e5;\n    text-decoration: none;\n}\n\n.buttons-container {\n    display: flex;\n    justify-content: center;\n    gap: 20px;\n    margin-top: 20px;\n}\n\n.save-btn, .unlog-btn {\n    font-size: 16px;\n    font-weight: 600;\n    border: 2px solid black;\n    padding: 10px 40px;\n    border-radius: 50px;\n    cursor: pointer;\n    outline: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n}\n\n.save-btn {\n    background-color: #5354ED;\n    color: white;\n}\n\n.unlog-btn {\n    background-color: white;\n    color: #333;\n}\n\n.save-btn:hover, .unlog-btn:hover {\n    filter: brightness(1.2);\n    transform: scale(1.05);\n    -webkit-box-shadow: 0px 6px 0px -4px rgba(0,0,0,1);\n    -moz-box-shadow: 0px 6px 0px -4px rgba(0,0,0,1);\n    box-shadow: 0px 6px 0px -4px rgba(0,0,0,1);\n}\n\n.save-btn:active, .unlog-btn:active {\n    transform: scale(0.95);\n    -webkit-box-shadow: 0px 0px 0px 0px rgba(0,0,0,1);\n    -moz-box-shadow: 0px 0px 0px 0px rgba(0,0,0,1);\n    box-shadow: 0px 0px 0px 0px rgba(0,0,0,1);\n    filter: brightness(0.8);\n}\n\n#username, #phone{\n width: 96%;\n}\n\n.delete-account {\n    text-align: center;\n    margin-top: 5px;\n    color: #dd4b39;\n    font-weight: 500;\n    font-size: 14px;\n    text-decoration: underline;\n    cursor: pointer;\n    transition: all 0.2s ease;\n}\n\n.delete-account:hover {\n    color: #c23321;\n    transform: scale(1.05);\n}\n\n@media (max-width: 576px) {\n    .settings-container {\n        max-width: 100%;\n        padding: 15px;\n    }\n    \n    .profile-form {\n        padding: 20px;\n    }\n    \n    .buttons-container {\n        flex-direction: column;\n        align-items: center;\n    }\n    \n    .save-btn, .unlog-btn {\n        width: 80%;\n    }\n}\n            </style>        \n    <div class="settings-container">\n                <div class="profile-form">\n                    <div class="form-group">\n                        <label>Change Username</label>\n                        <input type="text" id="username" placeholder="Username" value="${e}">\n                    </div>\n                    \n                    <div class="form-group">\n                        <label>Change Semester info</label>\n                        <select id="Semester">\n                            <option value="" ${""===i?"selected":""}>Select a semester</option>\n                            <option value="First semester" ${"First semester"===i?"selected":""}>First semester</option>\n                            <option value="Second semester" ${"Second semester"===i?"selected":""}>Second semester</option>\n                            <option value="Third semester" ${"Third semester"===i?"selected":""}>Third semester</option>\n                            <option value="Fourth semester" ${"Fourth semester"===i?"selected":""}>Fourth semester</option>\n                            <option value="Fifth semester" ${"Fifth semester"===i?"selected":""}>Fifth semester</option>\n                            <option value="Sixth semester" ${"Sixth semester"===i?"selected":""}>Sixth semester</option>\n                            <option value="Seventh semester" ${"Seventh semester"===i?"selected":""}>Seventh semester</option>\n                            <option value="Eighth semester" ${"Eighth semester"===i?"selected":""}>Eighth semester</option>\n                            <option value="Ninth semester" ${"Ninth semester"===i?"selected":""}>Ninth semester</option>\n                            <option value="Tenth semester" ${"Tenth semester"===i?"selected":""}>Tenth semester</option>\n                            <option value="+Tenth semester" ${"+Tenth semester"===i?"selected":""}>+Tenth semester</option>\n                        </select>\n                    </div>\n                    \n                    <div class="form-group">\n                        <label>Change career info</label>\n                        <select id="career">\n                            <option value="" ${""===s?"selected":""}>Select a career</option>\n                            <option value="Business Administration with an Emphasis in International Business" ${"Business Administration with an Emphasis in International Business"===s?"selected":""}>Business Administration with an Emphasis in International Business</option>\n                            <option value="Anthropology" ${"Anthropology"===s?"selected":""}>Anthropology</option>\n                            <option value="Biology" ${"Biology"===s?"selected":""}>Biology</option>\n                            <option value="Political Science with an Emphasis in International Relations" ${"Political Science with an Emphasis in International Relations"===s?"selected":""}>Political Science with an Emphasis in International Relations</option>\n                            <option value="Communication with a Digital Approach" ${"Communication with a Digital Approach"===s?"selected":""}>Communication with a Digital Approach</option>\n                            <option value="Public Accounting and International Finance" ${"Public Accounting and International Finance"===s?"selected":""}>Public Accounting and International Finance</option>\n                            <option value="Law" ${"Law"===s?"selected":""}>Law</option>\n                            <option value="Interactive Media Design" ${"Interactive Media Design"===s?"selected":""}>Interactive Media Design</option>\n                            <option value="Industrial Design" ${"Industrial Design"===s?"selected":""}>Industrial Design</option>\n                            <option value="Economics" ${"Economics"===s?"selected":""}>Economics</option>\n                            <option value="Economics and International Business" ${"Economics and International Business"===s?"selected":""}>Economics and International Business</option>\n                            <option value="Finance" ${"Finance"===s?"selected":""}>Finance</option>\n                            <option value="Biochemical Engineering" ${"Biochemical Engineering"===s?"selected":""}>Biochemical Engineering</option>\n                            <option value="Systems Engineering" ${"Systems Engineering"===s?"selected":""}>Systems Engineering</option>\n                            <option value="Industrial Engineering" ${"Industrial Engineering"===s?"selected":""}>Industrial Engineering</option>\n                            <option value="Telematics Engineering" ${"Telematics Engineering"===s?"selected":""}>Telematics Engineering</option>\n                            <option value="Bachelor's Degree in Social Sciences" ${"Bachelor's Degree in Social Sciences"===s?"selected":""}>Bachelor's Degree in Social Sciences</option>\n                            <option value="Bachelor's Degree in Foreign Languages with an Emphasis in English" ${"Bachelor's Degree in Foreign Languages with an Emphasis in English"===s?"selected":""}>Bachelor's Degree in Foreign Languages with an Emphasis in English</option>\n                            <option value="Medicine" ${"Medicine"===s?"selected":""}>Medicine</option>\n                            <option value="Music" ${"Music"===s?"selected":""}>Music</option>\n                            <option value="International Marketing and Advertising" ${"International Marketing and Advertising"===s?"selected":""}>International Marketing and Advertising</option>\n                            <option value="Psychology" ${"Psychology"===s?"selected":""}>Psychology</option>\n                            <option value="Chemistry" ${"Chemistry"===s?"selected":""}>Chemistry</option>\n                            <option value="Pharmaceutical Chemistry" ${"Pharmaceutical Chemistry"===s?"selected":""}>Pharmaceutical Chemistry</option>\n                            <option value="Sociology" ${"Sociology"===s?"selected":""}>Sociology</option>\n                        </select>\n                    </div>\n                    \n                    <div class="form-group">\n                        <label>Change Phone number</label>\n                        <input type="tel" id="phone" placeholder="Phone number" value="${t}">\n                    </div>\n                    \n                    <div class="bio-container">\n                        <textarea class="bio-text">${o}</textarea>\n                        <span class="char-counter">0/280 caracteres</span>\n                    </div>\n                    \n                    <div class="buttons-container">\n                        <button class="save-btn">Save</button>\n                        <button class="unlog-btn">Unlog</button>\n                    </div>\n                    \n                    <div class="delete-account">Delete account?</div>\n                </div>\n            </div>\n        `;const a=this.shadowRoot.querySelector("#Semester"),r=this.shadowRoot.querySelector("#career");a&&i&&(a.value=i),r&&s&&(r.value=s),this.updateCharCounter(),this.setupEventListeners()}updateCharCounter(){const n=this.shadowRoot.querySelector(".bio-text"),e=this.shadowRoot.querySelector(".char-counter");if(n&&e){const t=n.value.length;e.textContent=`${t}/400 caracteres`}}setupEventListeners(){this.shadowRoot.querySelector(".profile-form");const n=this.shadowRoot.querySelector(".bio-text"),e=this.shadowRoot.querySelector(".delete-account"),t=this.shadowRoot.querySelector(".unlog-btn"),s=this.shadowRoot.querySelector(".save-btn");s&&s.addEventListener("click",(n=>{n.preventDefault();const e={username:this.shadowRoot.querySelector("#username").value||"",phone:this.shadowRoot.querySelector("#phone").value||"",degree:this.shadowRoot.querySelector("#career").value||"",semester:this.shadowRoot.querySelector("#Semester").value||"",bio:this.shadowRoot.querySelector(".bio-text").value||""};F.updateProfile(e),r("/profile")})),n&&n.addEventListener("input",(()=>this.updateCharCounter())),e&&e.addEventListener("click",(()=>{if(!document.querySelector("delete-account-confirmation")){const n=document.createElement("delete-account-confirmation");document.body.appendChild(n)}})),t&&t.addEventListener("click",(()=>{F.logout(),r("/")}))}}const oe=ie;class ae extends HTMLElement{constructor(){super(),this.unsubscribeStore=null,this.attachShadow({mode:"open"}),this.handleStoreChange=this.handleStoreChange.bind(this)}connectedCallback(){this.subscribeToStore(),this.render(),this.addEventListeners()}disconnectedCallback(){this.unsubscribeStore&&this.unsubscribeStore()}subscribeToStore(){this.unsubscribeStore=G.subscribe(this.handleStoreChange)}handleStoreChange(n){this.render()}addEventListeners(){const n=this.shadowRoot.querySelector(".x-button");n?.addEventListener("click",(()=>{r("/profile")}));const e=this.shadowRoot.querySelector(".profile-picture-container"),t=this.shadowRoot.querySelector("#profile-upload");this.shadowRoot.querySelector(".profile-picture"),e?.addEventListener("click",(()=>{t.click()})),t?.addEventListener("change",(async()=>{if(t.files&&t.files[0]){const n=t.files[0],e=new FileReader;e.onload=n=>{const e=n.target?.result;e&&(G.getState().auth.user?F.updateProfilePhoto(e):console.error("No logged in user found in store state"))},e.onerror=n=>{console.error("Error reading file:",n),alert("Error uploading image. Please try again.")},e.readAsDataURL(n)}}))}render(){const n=G.getState().auth.user,e=n?.profilePic||"https://picsum.photos/seed/picsum/200/300";this.shadowRoot.innerHTML=`\n            <style>\n:host {\n  display: block;\n  width: 100%;\n  overflow-x: hidden;\n}\n\n.banner {\n  width: 100vw;\n  height: 200px;\n  background-color: #ffa500;\n  position: relative;\n  overflow: hidden;\n  left: 50%;\n  right: 50%;\n  margin-left: -50vw;\n  margin-right: -50vw;\n}\n\n.banner-illustrations {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n.banner-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n@media (max-width: 576px) {\n  .banner-image {\n    content: url("/assets/images/bannerimgsmall.png");\n  }\n}\n\n.profile-section {\n  text-align: center;\n  margin-top: -50px;\n  position: relative;\n}\n\n.profile-picture-container {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  border: 4px solid white;\n  margin: 0 auto;\n  position: relative;\n  z-index: 2;\n  cursor: pointer;\n  overflow: hidden;\n}\n\n.profile-picture {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  background-color: white;\n  transition: filter 0.3s ease;\n}\n\n.profile-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  color: white;\n  font-size: 0.8rem;\n  font-weight: bold;\n}\n\n.profile-picture-container:hover .profile-overlay {\n  opacity: 1;\n}\n\n.profile-picture-container:hover .profile-picture {\n  filter: brightness(0.8);\n}\n\n#profile-upload {\n  display: none;\n}\n\n.x-button {\n  position: absolute;\n  right: 30%;\n  top: 30px;\n  background: #6366f1;\n  border: none;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  z-index: 3;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.x-button:hover {\n  transform: scale(1.1) rotate(90deg);\n  background: #5354ed;\n  box-shadow: 3px 3px 15px -6px rgba(0, 0, 0, 0.4);\n}\n\n.x-button:active {\n  transform: scale(0.95);\n  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);\n}\n\n.x-button svg {\n  width: 20px;\n  height: 20px;\n  fill: white;\n  transition: all 0.3s ease;\n}\n\n.x-button:hover svg {\n  fill: #ffffff;\n}\n\n.profile-info {\n  background-color: white;\n  padding: 20px;\n}\n\nh1 {\n  margin: 10px 0;\n  color: #1f2937;\n  font-size: 1.5rem;\n}\n\n.career {\n  color: #6b7280;\n  margin: 5px 0;\n}\n\n.bio {\n  color: #4b5563;\n  margin: 15px 0;\n  font-size: 0.9rem;\n}\n\n            </style>\n            <div class="banner">\n                <div class="banner-illustrations">\n                    <img class="banner-image" src="/assets/images/bannerimg.png" alt="Banner image">\n                </div>\n            </div>\n            <div class="profile-section">\n                <div class="profile-picture-container">\n                    <img class="profile-picture" src="${e}" alt="Profile picture">\n                    <div class="profile-overlay">\n                        <span>Change Image</span>\n                    </div>\n                    <input id="profile-upload" type="file" accept="image/*" style="display:none" />\n                </div>\n                <button class="x-button">\n                    <svg viewBox="0 0 24 24">\n                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n                    </svg>\n                </button>\n            </div>\n        `}}const re=ae;class le extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return["name","career","credits","rating","image"]}connectedCallback(){this.render()}attributeChangedCallback(n,e,t){e!==t&&this.render()}render(){const n=this.getAttribute("name")||"Logic & Argumentation",e=this.getAttribute("career")||"Computer Science",t=this.getAttribute("credits")||"3",s=parseInt(this.getAttribute("rating")||"3"),i=`https://picsum.photos/id/${this.getAttribute("image")||"301"}/400/300`,o=Array(5).fill(0).map(((n,e)=>`\n            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="${e<s?"filled":""}" fill="${e<s?"#5354ED":"#e0e0fe"}" stroke="none" class="star-icon">\n                <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>\n            </svg>\n        `)).join("");this.shadowRoot.innerHTML=`\n           <style>\n \n\n.subject-card {\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  border-radius: 16px;\n  padding: 30px 24px;\n  margin-bottom: 24px;\n  box-shadow: 0 6px 18px rgba(83, 84, 237, 0.1);\n  transition:\n    transform 0.3s ease,\n    box-shadow 0.3s ease;\n}\n\n.subject-card:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 10px 25px rgba(83, 84, 237, 0.15);\n}\n\n.subject-image {\n  width: 100%;\n  height: 180px;\n  border-radius: 10px;\n  object-fit: cover;\n  margin-bottom: 24px;\n  box-shadow: 0 5px 12px rgba(0, 0, 0, 0.08);\n  background-color: #f0f2fa;\n}\n\n.subject-name {\n  font-size: 28px;\n  font-weight: 700;\n  margin: 0 0 12px 0;\n  color: #000;\n}\n\n.subject-career {\n  font-size: 18px;\n  margin: 0 0 16px 0;\n  color: #5354ed;\n  font-weight: 500;\n}\n\n.subject-details {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.detail-item {\n  background-color: #f5f7ff;\n  padding: 10px 16px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 15px;\n  font-weight: 500;\n  color: #5354ed;\n  box-shadow: 0 3px 8px rgba(83, 84, 237, 0.06);\n  transition:\n    transform 0.2s ease,\n    box-shadow 0.2s ease;\n}\n\n.detail-item:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 5px 12px rgba(83, 84, 237, 0.1);\n}\n\n.detail-icon {\n  width: 20px;\n  height: 20px;\n  fill: var(--nexopurple);\n}\n\n.rating {\n  display: flex;\n  gap: 10px;\n  margin-top: 12px;\n}\n\n.rating svg.filled {\n  fill: var(--nexopurple);\n}\n\n@media (min-width: 576px) {\n  .subject-card {\n    flex-direction: row;\n    gap: 28px;\n    padding: 36px;\n  }\n\n  .subject-image {\n    width: 280px;\n    height: 200px;\n    margin-bottom: 0;\n  }\n\n  .subject-info {\n    flex: 1;\n  }\n}\n\n               </style>\n    <div class="subject-card">\n                <img class="subject-image" src="${i}" alt="${n}" onerror="this.onerror=null; this.src='data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%22400%22%20height%3D%22300%22%3E%3Crect%20x%3D%220%22%20y%3D%220%22%20width%3D%22400%22%20height%3D%22300%22%20fill%3D%22%23f0f2fa%22%2F%3E%3Ctext%20x%3D%22200%22%20y%3D%22150%22%20font-size%3D%2240%22%20alignment-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20fill%3D%22%235354ED%22%3E${n.charAt(0)}%3C%2Ftext%3E%3C%2Fsvg%3E';">\n                <div class="subject-info">\n                    <h2 class="subject-name">${n}</h2>\n                    <p class="subject-career">${e}</p>\n                    <div class="subject-details">\n                        <div class="detail-item">\n                            <svg class="detail-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                                <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/>\n                            </svg>\n                            ${t} Cr√©ditos\n                        </div>\n                    </div>\n                    <div class="rating">\n                        ${o}\n                    </div>\n                </div>\n            </div>\n        `}}const ce=le;class de extends HTMLElement{constructor(){super(),this.selectedRating=0,this.subjectName="",this.attachShadow({mode:"open"})}static get observedAttributes(){return["subject-name"]}attributeChangedCallback(n,e,t){"subject-name"===n&&e!==t&&(this.subjectName=t)}connectedCallback(){this.subjectName=this.getAttribute("subject-name")||"",this.render(),this.setupEventListeners()}setupEventListeners(){const n=this.shadowRoot?.querySelectorAll(".star-rating svg"),e=this.shadowRoot?.querySelector(".publish-button"),t=this.shadowRoot?.querySelector(".review-input"),s=this.shadowRoot?.querySelector("#subject-review-form");n?.forEach(((e,t)=>{e.addEventListener("click",(()=>{this.selectedRating=t+1,this.updateStars()})),e.addEventListener("mouseover",(()=>{n.forEach(((n,e)=>{n.classList.toggle("hovered",e<=t)}))})),e.addEventListener("mouseout",(()=>{n.forEach((n=>n.classList.remove("hovered")))}))})),e?.addEventListener("click",(n=>{if(n.preventDefault(),console.log("SubjectReviewForm: Publish button clicked, preventDefault called."),0===this.selectedRating)return void alert("Por favor selecciona una calificaci√≥n antes de publicar tu rese√±a.");const e=t?.value||"";""!==e.trim()?(G.submitReview({rating:this.selectedRating,text:e,type:"subject",name:this.subjectName}),this.selectedRating=0,t&&(t.value=""),this.updateStars()):alert("Por favor, escribe un comentario antes de publicar tu rese√±a.")})),t?.addEventListener("keydown",this.handleKeydown.bind(this)),s?.addEventListener("submit",this.handleSubmit.bind(this))}handleSubmit(n){n.preventDefault(),console.log("SubjectReviewForm: Form submitted, preventDefault called.")}handleKeydown(n){"Enter"!==n.key||n.shiftKey||(n.preventDefault(),console.log("SubjectReviewForm: Enter key pressed in review input, preventDefault called."))}updateStars(){const n=this.shadowRoot?.querySelectorAll(".star-rating svg");n?.forEach(((n,e)=>{n.classList.toggle("selected",e<this.selectedRating)}))}render(){const n=Array(5).fill(0).map((()=>'\n            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>\n            </svg>\n        ')).join("");this.shadowRoot.innerHTML=`\n          <style>\n \n\n.form-title {\n  font-size: 18px;\n  font-weight: 600;\n  margin-top: 10px;\n  color: var(--nexoblack);\n  position: relative;\n  padding-bottom: 3px;\n  text-align: center;\n}\n\n.form-title::after {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 160px;\n  height: 3px;\n  background-color: var(--nexopurple);\n  border-radius: 2px;\n}\n\n.star-rating {\n  display: flex;\n  gap: 10px;\n  margin-bottom: 20px;\n  justify-content: center;\n}\n\n.star-rating svg {\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  fill: var(--nexolightwhite);\n  stroke: none;\n  transition: all 0.3s ease;\n}\n\n.star-rating svg:hover {\n  transform: scale(1.1);\n}\n\n.star-rating svg.selected,\n.star-rating svg.hovered {\n  fill: var(--nexopurple);\n}\n\n.review-input {\n  width: 100%;\n  min-height: 120px;\n  border: 1px solid var(--nexolightwhite);\n  border-radius: 10px;\n  padding: 14px;\n  font-family: inherit;\n  font-size: 15px;\n  margin-bottom: 20px;\n  resize: vertical;\n  background-color: white;\n  transition: all 0.3s ease;\n  box-sizing: border-box;\n}\n\n@media (max-width: 576px) {\n  .review-input {\n    min-height: 100px;\n    font-size: 14px;\n    padding: 10px;\n  }\n}\n\n@media (max-width: 576px) {\n  .review-input {\n    min-height: 80px;\n    font-size: 13px;\n    padding: 8px;\n  }\n}\n\n.review-input:focus {\n  outline: none;\n  border-color: var(--nexopurple);\n  box-shadow: 0 0 0 3px rgba(83, 84, 237, 0.15);\n  background-color: white;\n}\n\n.button-container {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.publish-button {\n  background-color: var(--nexopurple);\n  color: var(--nexowhite);\n  font-size: 15px;\n  border: 2px solid var(--nexoblack);\n  padding: 10px 24px;\n  border-radius: 50px;\n  cursor: pointer;\n  outline: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 8px;\n  transition: all 0.2s ease-in-out;\n}\n\n.publish-button:hover {\n  filter: brightness(1.2);\n  transform: scale(1.05);\n  -webkit-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n}\n\n.publish-button:active {\n  transform: scale(0.95);\n  -webkit-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  filter: brightness(0.8);\n}\n\n.publish-button svg {\n  width: 18px;\n  height: 18px;\n  fill: var(--nexowhite);\n}\n\n               </style>\n                <form id="subject-review-form">\n                <div class="review-form">\n                <h3 class="form-title">Leave your review:</h3>\n                <div class="star-rating">\n                    ${n}\n                </div>\n                <textarea class="review-input" placeholder="Write something..."></textarea>\n                <div class="button-container">\n                    <button class="publish-button">\n                        Publish\n                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n            </form>\n        `}}const pe=de;class he extends HTMLElement{constructor(){super(),this.reviews=[],this.subjectName="",this.unsubscribeStore=null,this.attachShadow({mode:"open"})}static get observedAttributes(){return["subject-name"]}attributeChangedCallback(n,e,t){"subject-name"===n&&e!==t&&(this.subjectName=t,this.fetchReviews())}async fetchReviews(){try{this.subjectName||(this.subjectName=this.getAttribute("subject-name")||"");const n=G.getState().subjectRatings[this.subjectName]||[];this.reviews=n.map((n=>({rating:n.rating,text:n.comment,date:new Date(n.timestamp).toLocaleDateString(),author:n.author||"Anonymous",image:n.image||`https://i.pravatar.cc/150?img=${Math.floor(70*Math.random())}`}))),this.render()}catch(n){console.error("Error fetching reviews:",n),this.reviews=[],this.render()}}connectedCallback(){this.fetchReviews(),this.setupEventListeners(),this.unsubscribeStore=G.subscribe(this.handleStoreChange.bind(this))}disconnectedCallback(){this.unsubscribeStore&&this.unsubscribeStore()}setupEventListeners(){}handleStoreChange(n){if(!this.isConnected||!this.subjectName)return;const e=n.subjectRatings[this.subjectName]||[];this.reviews=e.map((n=>({rating:n.rating,text:n.comment,date:new Date(n.timestamp).toLocaleDateString(),author:n.author||"Anonymous",image:n.image||`https://i.pravatar.cc/150?img=${Math.floor(70*Math.random())}`}))),this.render()}addReview(n){console.warn("addReview method in SubjectReviewList called. Consider using the store for updates.");const e=`subjectReviews_${this.subjectName}`;let t=[];try{t=JSON.parse(localStorage.getItem(e)||"[]")}catch(n){}t.some((e=>e.author===n.author&&e.text===n.text&&e.date===n.date))||(t.unshift(n),localStorage.setItem(e,JSON.stringify(t)),this.reviews=t,this.render())}render(){const n=this.reviews.map((n=>{const e=Array(5).fill(0).map(((e,t)=>`\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" \n                    fill="${t<n.rating?"#5354ED":"#e0e0fe"}" class="star-icon">\n                    <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>\n                </svg>\n            `)).join(""),t=`data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%22150%22%20height%3D%22150%22%3E%3Crect%20x%3D%220%22%20y%3D%220%22%20width%3D%22150%22%20height%3D%22150%22%20fill%3D%22%23f0f2fa%22%2F%3E%3Ctext%20x%3D%2275%22%20y%3D%2275%22%20font-size%3D%2250%22%20alignment-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20fill%3D%22%235354ED%22%3E${n.author.charAt(0)}%3C%2Ftext%3E%3C%2Fsvg%3E`;return`\n                <div class="review-item">\n                    <div class="review-header">\n                        <div class="user-info">\n                            <img src="${n.image||t}" alt="${n.author}" class="user-avatar" onerror="this.onerror=null; this.src='${t}';">\n                            <div>\n                                <h4 class="user-name">${n.author}</h4>\n                                <div class="review-date">${n.date}</div>\n                            </div>\n                        </div>\n                        <div class="review-rating">\n                            ${e}\n                        </div>\n                    </div>\n                    <p class="review-text">${n.text}</p>\n                </div>\n            `})).join("");this.shadowRoot.innerHTML=`\n          <style>\n \n\n.reviews-title {\n    top:-10;\n    font-size: 18px;\n    font-weight: 600;\n    margin-bottom: 20px;\n    color: var(--nexoblack);\n    position: relative;\n    padding-bottom: 1px;\n}\n\n.reviews-title::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 70px;\n    height: 3px;\n    background-color: var(--nexopurple);\n    border-radius: 2px;\n}\n\n.review-item {\n    background-color: var(--nexolightwhite);\n    border-radius: 12px;\n    padding: 20px;\n    margin-bottom: 16px;\n    box-shadow: 0 3px 10px rgba(83, 84, 237, 0.06);\n    transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.review-item:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 12px rgba(83, 84, 237, 0.1);\n}\n\n.review-item:last-child {\n    margin-bottom: 0;\n}\n\n.review-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    margin-bottom: 14px;\n}\n\n.user-info {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n}\n\n.user-avatar {\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    object-fit: cover;\n    border: 2px solid var(--nexowhite);\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08);\n    background-color: var(--nexolightwhite);\n}\n\n.user-name {\n    margin: 0 0 4px 0;\n    font-size: 16px;\n    font-weight: 600;\n    color: var(--nexoblack);\n}\n\n.review-date {\n    font-size: 13px;\n    color: var(--nexopurple);\n}\n\n.review-rating {\n    display: flex;\n    gap: 4px;\n    padding: 5px 10px;\n    background-color: var(--nexowhite);\n    border-radius: 20px;\n    box-shadow: 0 2px 6px rgba(83, 84, 237, 0.06);\n}\n\n.review-text {\n    margin: 0;\n    font-size: 15px;\n    line-height: 1.5;\n    color: var(--nexogray);\n}\n\n.empty-state {\n    text-align: center;\n    padding: 30px 16px;\n    color: #555;\n    font-size: 15px;\n    background-color: #f8f9fd;\n    border-radius: 12px;\n}\n\n@media (min-width: 576px) {\n    .reviews-container {\n        padding: 0px 36px 36px 36px;\n    }\n    \n    .review-item {\n        padding: 24px;\n    }\n}\n               </style>\n            <div class="reviews-container">\n                <h3 class="reviews-title">Reviews</h3>\n                ${n}\n            </div>\n        `}}const me=he;class ge extends HTMLElement{constructor(){super(),this.unsubscribeStore=null,this.attachShadow({mode:"open"})}static get observedAttributes(){return["name","subject","rating","image","nucleus"]}connectedCallback(){this.render(),this.unsubscribeStore=G.subscribe(this.handleStoreChange.bind(this))}disconnectedCallback(){this.unsubscribeStore&&this.unsubscribeStore()}handleStoreChange(){this.render()}calculateAverageRating(){const n=this.getAttribute("name")||"",e=G.getState().teacherRatings[n]||[];if(0===e.length)return 0;const t=e.reduce(((n,e)=>n+e.rating),0);return Number((t/e.length).toFixed(1))}attributeChangedCallback(n,e,t){e!==t&&this.render()}render(){const n=this.getAttribute("name")||"Jimmy Ramirez",e=this.getAttribute("subject")||"Logic & Argumentation",t=this.calculateAverageRating(),s=this.getAttribute("nucleus")||"basic",i=Array(5).fill(0).map(((n,e)=>`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="${e<t?"filled":""}" fill="${e<t?"#5354ED":"#e0e0fe"}" stroke="none" class="star-icon">\n                <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>\n            </svg>`)).join(""),o="basic"===s?"N√∫cleo B√°sico":"N√∫cleo Profesional";this.shadowRoot.innerHTML=`\n           <style>\n               \n\n.teacher-card {\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  border-radius: 16px;\n  padding: 30px 24px;\n  margin-bottom: 24px;\n  box-shadow: 0 6px 18px rgba(83, 84, 237, 0.1);\n  transition:\n    transform 0.3s ease,\n    box-shadow 0.3s ease;\n}\n\n.teacher-card:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 10px 25px rgba(83, 84, 237, 0.15);\n}\n\n.teacher-image {\n  width: 100%;\n  height: 180px;\n  border-radius: 10px;\n  object-fit: cover;\n  margin-bottom: 24px;\n  box-shadow: 0 5px 12px rgba(0, 0, 0, 0.08);\n  background-color: #f0f2fa;\n}\n\n.teacher-name {\n  font-size: 28px;\n  font-weight: 700;\n  margin: 0 0 12px 0;\n  color: #000;\n}\n\n.teacher-subject {\n  font-size: 18px;\n  margin: 0 0 16px 0;\n  color: var(--nexopurple);\n  font-weight: 500;\n}\n\n.subject-details {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.detail-item {\n  background-color: var(--nexolightwhite);\n  padding: 10px 16px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 15px;\n  font-weight: 500;\n  color: var(--nexopurple);\n  box-shadow: 0 3px 8px rgba(83, 84, 237, 0.06);\n  transition:\n    transform 0.2s ease,\n    box-shadow 0.2s ease;\n}\n\n.detail-item:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 5px 12px rgba(83, 84, 237, 0.1);\n}\n\n.detail-icon {\n  width: 20px;\n  height: 20px;\n  fill: var(--nexopurple);\n}\n\n.rating {\n  display: flex;\n  gap: 10px;\n  margin-top: 12px;\n}\n\n.rating svg.filled {\n  fill: var(--nexopurple);\n}\n\n@media (min-width: 576px) {\n  .teacher-card {\n    flex-direction: row;\n    gap: 28px;\n    padding: 36px;\n  }\n\n  .teacher-image {\n    width: 280px;\n    height: 200px;\n    margin-bottom: 0;\n  }\n\n  .teacher-info {\n    flex: 1;\n  }\n}\n\n                </style>\n            <div class="teacher-card">\n                <img class="teacher-image" src="https://picsum.photos/id/301/400/300" alt="${n}" onerror="this.onerror=null; this.src='data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%22400%22%20height%3D%22300%22%3E%3Crect%20x%3D%220%22%20y%3D%220%22%20width%3D%22400%22%20height%3D%22300%22%20fill%3D%22%23f0f2fa%22%2F%3E%3Ctext%20x%3D%22200%22%20y%3D%22150%22%20font-size%3D%2240%22%20alignment-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20fill%3D%22%235354ED%22%3E${n.charAt(0)}%3C%2Ftext%3E%3C%2Fsvg%3E';">\n                <div class="teacher-info">\n                    <h2 class="teacher-name">${n}</h2>\n                    <p class="teacher-subject">${e}</p>\n                    <div class="subject-details">\n                        <div class="detail-item">\n                            <svg class="detail-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                                <path d="M22 9l-7-5v3H9v4h6v3l7-5zM2 9l7-5v3h6v4h-6v3l-7-5z"/>\n                            </svg>\n                            ${o}\n                        </div>\n                    </div>\n                    <div class="rating">\n                        ${i}\n                    </div>\n                </div>\n            </div>\n        `}}const ue=ge;class be extends HTMLElement{constructor(){super(),this.selectedRating=0,this.teacherName="",this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.setupEventListeners()}updateStars(){const n=this.shadowRoot?.querySelectorAll(".star-rating svg");n?.forEach(((n,e)=>{n.classList.toggle("selected",e<this.selectedRating),n.classList.toggle("hovered",!1)}))}setupEventListeners(){const n=this.shadowRoot?.querySelectorAll(".star-rating svg"),e=this.shadowRoot?.querySelector(".publish-button"),t=this.shadowRoot?.querySelector(".review-input"),s=this.shadowRoot?.querySelector("#review-form");n?.forEach(((e,t)=>{e.addEventListener("click",(()=>{this.selectedRating=t+1,this.updateStars()})),e.addEventListener("mouseover",(()=>{n.forEach(((n,e)=>{n.classList.toggle("hovered",e<=t)}))})),e.addEventListener("mouseout",(()=>{n.forEach((n=>n.classList.remove("hovered")))}))})),e?.addEventListener("click",(n=>{if(n.preventDefault(),console.log("TeacherReviewForm: Publish button clicked, preventDefault called."),0===this.selectedRating)return void alert("Por favor, selecciona una calificaci√≥n antes de publicar tu rese√±a.");const e=t?.value||"";""!==e.trim()?this.teacherName?(G.submitReview({rating:this.selectedRating,text:e,type:"teacher",name:this.teacherName}),t&&(t.value=""),this.selectedRating=0,this.updateStars()):console.error("Teacher name not found on component property"):alert("Por favor, escribe un comentario antes de publicar tu rese√±a.")})),t?.addEventListener("keydown",this.handleKeydown.bind(this)),s?.addEventListener("submit",this.handleSubmit.bind(this))}handleSubmit(n){n.preventDefault(),console.log("TeacherReviewForm: Form submitted, preventDefault called.")}handleKeydown(n){"Enter"!==n.key||n.shiftKey||(n.preventDefault(),console.log("TeacherReviewForm: Enter key pressed in review input, preventDefault called."))}render(){this.shadowRoot.innerHTML=`\n           <style>\n                 \n\n.form-title {\n  font-size: 18px;\n  font-weight: 600;\n  margin-top: 10px;\n  color: var(--nexoblack);\n  position: relative;\n  padding-bottom: 3px;\n  text-align: center;\n}\n\n.form-title::after {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 160px;\n  height: 3px;\n  background-color: var(--nexopurple);\n  border-radius: 2px;\n}\n\n.star-rating {\n  display: flex;\n  gap: 10px;\n  margin-bottom: 20px;\n  justify-content: center;\n}\n\n.star-rating svg {\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  fill: var(--nexolightwhite);\n  stroke: none;\n  transition: all 0.3s ease;\n}\n\n.star-rating svg:hover {\n  transform: scale(1.1);\n}\n\n.star-rating svg.selected,\n.star-rating svg.hovered {\n  fill: var(--nexopurple);\n}\n\n.review-input {\n  width: 100%;\n  min-height: 120px;\n  border: 1px solid var(--nexolightwhite);\n  border-radius: 10px;\n  padding: 14px;\n  font-family: inherit;\n  font-size: 15px;\n  margin-bottom: 20px;\n  resize: vertical;\n  background-color: white;\n  transition: all 0.3s ease;\n  box-sizing: border-box;\n}\n\n@media (max-width: 768px) {\n  .review-input {\n    min-height: 100px;\n    font-size: 14px;\n    padding: 10px;\n  }\n}\n\n@media (max-width: 480px) {\n  .review-input {\n    min-height: 80px;\n    font-size: 13px;\n    padding: 8px;\n  }\n}\n\n.review-input:focus {\n  outline: none;\n  border-color: var(--nexopurple);\n  box-shadow: 0 0 0 3px rgba(83, 84, 237, 0.15);\n  background-color: white;\n}\n\n.button-container {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.publish-button {\n  background-color: var(--nexopurple);\n  color: var(--nexowhite);\n  font-size: 15px;\n  border: 2px solid black;\n  padding: 10px 24px;\n  border-radius: 50px;\n  cursor: pointer;\n  outline: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 8px;\n  transition: all 0.2s ease-in-out;\n}\n\n.publish-button:hover {\n  filter: brightness(1.2);\n  transform: scale(1.05);\n  -webkit-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n  box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n}\n\n.publish-button:active {\n  transform: scale(0.95);\n  -webkit-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  -moz-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n  filter: brightness(0.8);\n}\n\n.publish-button svg {\n  width: 18px;\n  height: 18px;\n  fill: var(--nexowhite);\n}\n\n                </style>\n                <form id="review-form">\n                 <div class="review-form">\n                <h3 class="form-title">Leave your review:</h3>\n                <div class="star-rating">\n                    ${Array(5).fill(0).map((()=>'\n                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>\n                        </svg>\n                    ')).join("")}\n                </div>\n                <textarea class="review-input" placeholder="Write something..."></textarea>\n                <div class="button-container">\n                    <button class="publish-button">\n                        Publish\n                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n            </form>\n        `}}const xe=be,fe={},ve={};class we extends HTMLElement{constructor(){super(),this.reviews=[],this.teacherName="",this.isLoading=!1,this.abortController=null,this.unsubscribeStore=null,this.attachShadow({mode:"open"})}static get observedAttributes(){return["teacher-name"]}shouldFetchFromNetwork(n){return!fe[n]||!ve[n]||Date.now()-ve[n]>3e5}async fetchFromNetwork(){this.abortController&&this.abortController.abort(),this.abortController=new AbortController;try{const n=(await Kn()).teachers.find((n=>n.name===this.teacherName));return n&&n.reviews?(fe[this.teacherName]=n.reviews,ve[this.teacherName]=Date.now(),n.reviews):[]}catch(n){return"AbortError"!==n.name&&console.error("Error fetching reviews:",n),[]}finally{this.abortController=null}}updateReviews(n){this.reviews=n,this.render()}async fetchReviews(){if(this.teacherName&&!this.isLoading){this.isLoading=!0;try{const n=G.getState().teacherRatings[this.teacherName]||[];this.reviews=n.map((n=>({rating:n.rating,text:n.comment,date:new Date(n.timestamp).toLocaleDateString(),author:n.author||"Anonymous",image:n.image||`https://i.pravatar.cc/150?img=${Math.floor(70*Math.random())}`}))),this.render()}catch(n){console.error("Error in fetchReviews:",n),this.reviews=[],this.render()}finally{this.isLoading=!1}}}attributeChangedCallback(n,e,t){"teacher-name"===n&&e!==t&&(this.teacherName=t,this.fetchReviews())}connectedCallback(){this.teacherName=this.getAttribute("teacher-name")||"",this.teacherName&&this.fetchReviews(),this.unsubscribeStore=G.subscribe(this.handleStoreChange.bind(this))}disconnectedCallback(){this.abortController&&(this.abortController.abort(),this.abortController=null),this.unsubscribeStore&&this.unsubscribeStore()}handleStoreChange(n){if(!this.isConnected||!this.teacherName)return;const e=n.teacherRatings[this.teacherName]||[];this.reviews=e.map((n=>({rating:n.rating,text:n.comment,date:new Date(n.timestamp).toLocaleDateString(),author:n.author||"Anonymous",image:n.image||`https://i.pravatar.cc/150?img=${Math.floor(70*Math.random())}`}))),this.render()}addReview(n){console.warn("addReview method in TeacherReviewList called. Consider using the store for updates.");const e=`teacherReviews_${this.teacherName}`;let t=[];try{t=JSON.parse(localStorage.getItem(e)||"[]")}catch(n){}t.some((e=>e.author===n.author&&e.text===n.text&&e.date===n.date))||(t.unshift(n),localStorage.setItem(e,JSON.stringify(t)),this.reviews=t,this.render())}render(){if(!this.shadowRoot)return;const n=this.reviews.map((n=>{const e=Array(5).fill(0).map(((e,t)=>`\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" \n                    fill="${t<n.rating?"#5354ED":"#e0e0fe"}" class="star-icon">\n                    <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>\n                </svg>\n            `)).join(""),t=`data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%22150%22%20height%3D%22150%22%3E%3Crect%20x%3D%220%22%20y%3D%220%22%20width%3D%22150%22%20height%3D%22150%22%20fill%3D%22%23f0f2fa%22%2F%3E%3Ctext%20x%3D%2275%22%20y%3D%2275%22%20font-size%3D%2250%22%20alignment-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20fill%3D%22%235354ED%22%3E${n.author?.charAt(0)||"U"}%3C%2Ftext%3E%3C%2Fsvg%3E`;return`\n                <div class="review-item">\n                    <div class="review-header">\n                        <div class="user-info">\n                            <img src="${n.image||t}" alt="${n.author||"User"}" class="user-avatar" onerror="this.onerror=null; this.src='${t}';">\n                            <div>\n                                <h4 class="user-name">${n.author||"Anonymous"}</h4>\n                                <div class="review-date">${n.date||(new Date).toLocaleDateString()}</div>\n                            </div>\n                        </div>\n                        <div class="review-rating">\n                            ${e}\n                        </div>\n                    </div>\n                    <p class="review-text">${n.text}</p>\n                </div>\n            `})).join("");this.shadowRoot.innerHTML=`\n           <style>\n               \n\n.reviews-title {\n  top: -10;\n  font-size: 18px;\n  font-weight: 600;\n  margin-bottom: 20px;\n  color: #000;\n  position: relative;\n  padding-bottom: 1px;\n}\n\n.reviews-title::after {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 70px;\n  height: 3px;\n  background-color: var(--nexopurple);\n  border-radius: 2px;\n}\n\n.review-item {\n  background-color: var(--nexolightwhite);\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 16px;\n  box-shadow: 0 3px 10px rgba(83, 84, 237, 0.06);\n  transition:\n    transform 0.3s ease,\n    box-shadow 0.3s ease;\n}\n\n.review-item:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 5px 12px rgba(83, 84, 237, 0.1);\n}\n\n.review-item:last-child {\n  margin-bottom: 0;\n}\n\n.review-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 14px;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.user-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 2px solid var(--nexowhite);\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08);\n  background-color: var(--nexowhite);\n}\n\n.user-name {\n  margin: 0 0 4px 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--nexoblack);\n}\n\n.review-date {\n  font-size: 13px;\n  color: var(--nexopurple);\n}\n\n.review-rating {\n  display: flex;\n  gap: 4px;\n  padding: 5px 10px;\n  background-color: var(--nexowhite);\n  border-radius: 20px;\n  box-shadow: 0 2px 6px rgba(83, 84, 237, 0.06);\n}\n\n.review-text {\n  margin: 0;\n  font-size: 15px;\n  line-height: 1.5;\n  color: var(--nexogray);\n}\n\n.empty-state {\n  text-align: center;\n  padding: 30px 16px;\n  color: var(--nexogray);\n  font-size: 15px;\n  background-color: var(--nexowhite);\n  border-radius: 12px;\n}\n\n@media (min-width: 576px) {\n  .reviews-container {\n    padding: 0px 36px 36px 36px;\n  }\n\n  .review-item {\n    padding: 24px;\n  }\n}\n\n                </style> \n                <div class="reviews-container">\n                <h3 class="reviews-title">Reviews</h3>\n                ${n||'<div class="empty-state">No reviews yet. Be the first to leave one!</div>'}\n            </div>\n        `}}const ye=we;class Se extends HTMLElement{static get observedAttributes(){return["teacher-name"]}constructor(){super(),this.teacherName="",this.attachShadow({mode:"open"})}attributeChangedCallback(n,e,t){"teacher-name"===n&&e!==t&&(this.teacherName=t,this.render())}connectedCallback(){this.teacherName||(this.teacherName=this.getAttribute("teacher-name")||""),this.render(),this.setupEventListeners()}setupEventListeners(){}render(){if(this.shadowRoot){this.shadowRoot.innerHTML=`\n        <style>\n          :host {\n            display: flex;\n            flex-direction: column;\n            padding: 2rem;\n            background-color: white;\n            border-radius: 16px;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n          }\n          .divider {\n            width: 100%;\n            height: 1px;\n            background: linear-gradient(to right, transparent, rgba(83, 83, 237, 0.39), transparent);\n            margin: 1rem 0;\n          }\n          .reviews-container {\n            display: flex;\n            flex-direction: column;\n            gap: 1rem;\n            margin-top: 1rem;\n          }\n        </style>\n        <div id="form-container"></div>\n        <div class="divider"></div>\n        <div class="reviews-container">\n          <teacher-review-list teacher-name="${this.teacherName}"></teacher-review-list>\n        </div>\n      `;const n=this.shadowRoot.getElementById("form-container");if(n){const e=document.createElement("teacher-review-form");e.teacherName=this.teacherName,n.appendChild(e)}}}}const ke=Se;class Ee extends HTMLElement{constructor(){super(),this.subjectName="",this.reviewForm=null,this.reviewList=null,this.attachShadow({mode:"open"}),this.handleReviewSubmitted=this.handleReviewSubmitted.bind(this)}static get observedAttributes(){return["subject-name"]}attributeChangedCallback(n,e,t){"subject-name"===n&&e!==t&&(this.subjectName=t,this.render())}handleReviewSubmitted(n){const e=n;this.reviewList&&this.reviewList.addReview(e.detail)}setupEventListeners(){this.reviewForm&&this.reviewForm.removeEventListener("review-submitted",this.handleReviewSubmitted),this.reviewForm&&this.reviewList&&this.reviewForm.addEventListener("review-submitted",this.handleReviewSubmitted)}connectedCallback(){this.subjectName=this.getAttribute("subject-name")||"",this.render()}disconnectedCallback(){this.reviewForm&&this.reviewForm.removeEventListener("review-submitted",this.handleReviewSubmitted)}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n        <style>\n          :host {\n            display: flex;\n            flex-direction: column;\n            padding: 2rem;\n            background-color: white;\n            border-radius: 16px;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n          }\n          .divider {\n            width: 100%;\n            height: 1px;\n            background: linear-gradient(to right, transparent, rgba(83, 83, 237, 0.39), transparent);\n            margin: 1rem 0;\n          }\n        </style>\n        <subject-review-form id="review-form" subject-name="${this.subjectName}"></subject-review-form>\n        <div class="divider"></div>\n        <subject-review-list id="review-list" subject-name="${this.subjectName}"></subject-review-list>\n      `,this.reviewForm=this.shadowRoot.querySelector("#review-form"),this.reviewList=this.shadowRoot.querySelector("#review-list"),this.setupEventListeners())}}const Le=Ee;class Ce extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.setupEventListeners()}setupEventListeners(){const n=this.shadowRoot?.querySelector(".publish-button"),e=this.shadowRoot?.querySelector(".comment-input"),t=this.shadowRoot?.querySelector("#comment-form");n?.addEventListener("click",(()=>{const n=e?.value||"";if(!n.trim())return void alert("Please write a comment before publishing.");const t={message:n};G.addComment(t),e.value="",this.showNotification("¬°Comentario publicado con √©xito!")})),e?.addEventListener("keydown",this.handleKeydown.bind(this)),t?.addEventListener("submit",this.handleSubmit.bind(this))}handleSubmit(n){n.preventDefault(),console.log("CommentForm: Form submitted, preventDefault called.")}handleKeydown(n){"Enter"!==n.key||n.shiftKey||(n.preventDefault(),console.log("CommentForm: Enter key pressed in comment input, preventDefault called."))}render(){this.shadowRoot.innerHTML='\n      <style>\n        .form-title {\n          font-size: 18px;\n          font-weight: 600;\n          margin-top: 10px;\n          color: #191919;\n          position: relative;\n          padding-bottom: 3px;\n          text-align: center;\n        }\n        \n        .form-title::after {\n          content: "";\n          position: absolute;\n          bottom: 0;\n          left: 50%;\n          transform: translateX(-50%);\n          width: 160px;\n          height: 3px;\n          background-color: #5354ed;\n          border-radius: 2px;\n        }\n        \n        .comment-input {\n          width: 100%;\n          min-height: 120px;\n          border: 1px solid #f0f2fa;\n          border-radius: 10px;\n          padding: 14px;\n          font-family: inherit;\n          font-size: 15px;\n          margin: 20px 0;\n          resize: vertical;\n          background-color: white;\n          transition: all 0.3s ease;\n          box-sizing: border-box;\n        }\n        \n        .comment-input:focus {\n          outline: none;\n          border-color: #5354ed;\n          box-shadow: 0 0 0 3px rgba(83, 84, 237, 0.15);\n        }\n        \n        .button-container {\n          display: flex;\n          justify-content: flex-end;\n        }\n        \n        .publish-button {\n          background-color: #5354ed;\n          color: white;\n          font-size: 14px;\n          border: 2px solid black;\n          padding: 10px 24px;\n          border-radius: 50px;\n          cursor: pointer;\n          outline: none;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          gap: 12px;\n          transition: all 0.3s ease;\n        }\n\n        .publish-button:hover {\n          filter: brightness(1.2);\n          transform: scale(1.05);\n          -webkit-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n          -moz-box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n          box-shadow: 0px 6px 0px -4px rgba(0, 0, 0, 1);\n        }\n\n        .publish-button:active {\n          transform: scale(0.95);\n          -webkit-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n          -moz-box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n          box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 1);\n          filter: brightness(0.8);\n        }\n        \n        .publish-button svg {\n          width: 16px;\n          height: 16px;\n          fill: currentColor;\n        }\n      </style>\n      \n      <form id="comment-form">\n      <h3 class="form-title">Write a comment</h3>\n      <textarea class="comment-input" placeholder="What do you think about this?"></textarea>\n      <div class="button-container">\n        <button class="publish-button">\n          Publish\n          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>\n          </svg>\n        </button>\n      </div>\n      </form>\n    '}showNotification(n){const e=document.createElement("div");e.className="comment-notification",e.textContent=n,e.style.position="fixed",e.style.bottom="20px",e.style.left="50%",e.style.transform="translateX(-50%)",e.style.backgroundColor="#5354ed",e.style.color="white",e.style.padding="10px 20px",e.style.borderRadius="5px",e.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",e.style.zIndex="1000",document.body.appendChild(e),setTimeout((()=>{e.style.opacity="0",e.style.transition="opacity 0.5s ease",setTimeout((()=>{document.body.removeChild(e)}),500)}),3e3)}}const Te=Ce;class Re extends HTMLElement{constructor(){super(),this.comments=[],this.attachShadow({mode:"open"})}static get observedAttributes(){return["comments"]}attributeChangedCallback(n,e,t){if("comments"===n&&t!==e)try{this.comments=JSON.parse(t),this.render()}catch(n){console.error("Error parsing comments:",n),this.comments=[]}}connectedCallback(){this.render()}render(){const n=this.comments.map((n=>{const e=n.name||"Usuario",t=n.photo||"https://picsum.photos/seed/default/200/300",s=n.date||(new Date).toLocaleDateString(),i=n.career||"",o=n.message||"",a=`data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%22150%22%20height%3D%22150%22%3E%3Crect%20x%3D%220%22%20y%3D%220%22%20width%3D%22150%22%20height%3D%22150%22%20fill%3D%22%23f0f2fa%22%2F%3E%3Ctext%20x%3D%2275%22%20y%3D%2275%22%20font-size%3D%2250%22%20alignment-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20fill%3D%22%235354ED%22%3E${e.charAt(0)}%3C%2Ftext%3E%3C%2Fsvg%3E`;return`\n          <div class="comment-item">\n            <div class="comment-header">\n              <div class="user-info">\n                <img src="${t||a}" alt="${e}" class="user-avatar" onerror="this.onerror=null; this.src='${a}';">\n                <div>\n                  <h4 class="user-name">${e}</h4>\n                  <div class="comment-date">${s}</div>\n                </div>\n              </div>\n              ${i?`<div class="comment-career">${i}</div>`:""}\n            </div>\n            <p class="comment-text">${o}</p>\n          </div>\n        `})).join("");this.shadowRoot.innerHTML=`\n      <style>\n        .comments-title {\n          font-size: 18px;\n          font-weight: 600;\n          margin-bottom: 20px;\n          color: #191919;\n          position: relative;\n          padding-bottom: 1px;\n        }\n        \n        .comments-title::after {\n          content: '';\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 70px;\n          height: 3px;\n          background-color: #5354ed;\n          border-radius: 2px;\n        }\n        \n        .comment-item {\n          background-color: #f8f9fd;\n          border-radius: 12px;\n          padding: 20px;\n          margin-bottom: 16px;\n          box-shadow: 0 3px 10px rgba(83, 84, 237, 0.06);\n          transition: transform 0.3s ease, box-shadow 0.3s ease;\n        }\n        \n        .comment-item:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 5px 12px rgba(83, 84, 237, 0.1);\n        }\n        \n        .comment-item:last-child {\n          margin-bottom: 0;\n        }\n        \n        .comment-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 14px;\n        }\n        \n        .user-info {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n        \n        .user-avatar {\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          object-fit: cover;\n          border: 2px solid white;\n          box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08);\n          background-color: #f8f9fd;\n        }\n        \n        .user-name {\n          margin: 0 0 4px 0;\n          font-size: 16px;\n          font-weight: 600;\n          color: #191919;\n        }\n        \n        .comment-date {\n          font-size: 13px;\n          color: #5354ed;\n        }\n        \n        .comment-career {\n          font-size: 12px;\n          color: #6b7280;\n          background-color: #f0f2fa;\n          padding: 4px 8px;\n          border-radius: 12px;\n        }\n        \n        .comment-text {\n          margin: 0;\n          font-size: 15px;\n          line-height: 1.5;\n          color: #444;\n        }\n        \n        .empty-state {\n          text-align: center;\n          padding: 30px 16px;\n          color: #555;\n          font-size: 15px;\n          background-color: #f8f9fd;\n          border-radius: 12px;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 10px;\n        }\n        \n        .empty-state p:first-of-type {\n          font-weight: 600;\n          font-size: 16px;\n          margin: 10px 0 0 0;\n        }\n        \n        .empty-state p:last-of-type {\n          margin: 0;\n          color: #777;\n        }\n      </style>\n      <h3 class="comments-title">Comments</h3>\n      ${this.comments.length>0?n:'\n      <div class="empty-state">\n        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="#5354ed">\n          <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11H7V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z"/>\n        </svg>\n        <p>No comments yet</p>\n        <p>Be the first to comment!</p>\n      </div>\n    '}\n    `}}const _e=Re;class je extends HTMLElement{constructor(){super(),this.postId="",this.commentSubmittedHandler=null,this.unsubscribeStore=null,this.attachShadow({mode:"open"}),this.handleStoreChange=this.handleStoreChange.bind(this)}static get observedAttributes(){return["post-id"]}attributeChangedCallback(n,e,t){"post-id"===n&&t!==e&&(this.postId=t)}connectedCallback(){this.render(),this.setupEventListeners(),this.subscribeToStore()}disconnectedCallback(){this.removeEventListeners(),this.unsubscribeStore&&this.unsubscribeStore()}subscribeToStore(){this.unsubscribeStore=G.subscribe(this.handleStoreChange)}handleStoreChange(n){const e=this.shadowRoot?.querySelector("comments-list");if(e&&this.postId){const t=n.comments[this.postId]||[];e.setAttribute("comments",JSON.stringify(t)),console.log("Store change: Updated comments for postId:",this.postId,t)}}removeEventListeners(){this.commentSubmittedHandler&&(document.removeEventListener("comment-submitted",this.commentSubmittedHandler),this.shadowRoot?.removeEventListener("comment-submitted",this.commentSubmittedHandler),this.commentSubmittedHandler=null)}setupEventListeners(){this.removeEventListeners(),this.commentSubmittedHandler=n=>{if(this.postId){const e=G.getState().auth.user;if(e){const t=n.detail,s={photo:e.profilePic||"",name:e.username||"Anonymous",career:e.career||"",date:(new Date).toLocaleDateString(),message:t};H.addComment(s)}else console.warn("User not logged in, cannot add comment.")}},document.addEventListener("comment-submitted",this.commentSubmittedHandler),this.shadowRoot?.addEventListener("comment-submitted",this.commentSubmittedHandler)}render(){if(this.shadowRoot){const n=G.getState().comments[this.postId]||[];this.shadowRoot.innerHTML=`\n        <style>\n          :host {\n            display: flex;\n            flex-direction: column;\n            padding: 2rem;\n            background-color: white;\n            border-radius: 16px;\n            box-shadow: 0 2px 4px rgba(83, 84, 237, 0.1);\n            max-width: 730px;\n            margin: 0 auto;\n          }\n          .divider {\n            width: 100%;\n            height: 1px;\n            background: linear-gradient(to right, transparent, rgba(83, 83, 237, 0.39), transparent);\n            margin: 1rem 0;\n          }\n        </style>\n        <comment-form></comment-form>\n        <div class="divider"></div>\n        <comments-list comments='${JSON.stringify(n)}'></comments-list>\n      `}}}const De=je;class Pe extends HTMLElement{constructor(){super(),this.liked=!1,this.postData=null,this.postId="",this.fromProfile=!1,this.unsubscribeStore=null,this.attachShadow({mode:"open"}),this.handleStoreChange=this.handleStoreChange.bind(this)}connectedCallback(){this.unsubscribeStore=G.subscribe(this.handleStoreChange),this.postId=sessionStorage.getItem("currentPostId")||"",this.fromProfile="true"===sessionStorage.getItem("fromProfile"),this.loadPostData()}disconnectedCallback(){this.unsubscribeStore&&this.unsubscribeStore()}handleStoreChange(n){if(n.posts&&this.postData){const e=n.posts.find((n=>n.id===this.postData.id));e&&(this.postData=e,this.checkUserLikeStatus(),this.render(),requestAnimationFrame((()=>{const n=this.shadowRoot?.querySelector(".like-icon");n&&(this.liked?n.classList.add("liked"):n.classList.remove("liked"))})))}}checkUserLikeStatus(){const n=G.getState().auth.user;if(n&&this.postData&&this.postData.id){const e=n.username;this.liked=G.getUserLikeStatus(e,this.postData.id);const t=this.shadowRoot?.querySelector(".like-icon");t&&(this.liked?t.classList.add("liked"):t.classList.remove("liked"))}else this.liked=!1}async loadPostData(){try{if(this.postId&&(this.postData=G.getPostById(this.postId)),!this.postData)return void console.warn("Post not found with ID:",this.postId);this.postData&&this.postData.comments&&(this.postData.comments=Array.isArray(this.postData.comments)?this.postData.comments:JSON.parse(this.postData.comments)),this.render(),this.addEventListeners()}catch(n){console.error("Error loading post data:",n),this.render(),this.addEventListeners()}}addEventListeners(){const n=this.shadowRoot?.querySelector("back-button");n?.addEventListener("click",(()=>{sessionStorage.setItem("returnToProfile","true"),r("/profile")}));const e=this.shadowRoot?.querySelector(".just-likes");e?.addEventListener("click",(()=>{const n=G.getState().auth.user;if(!n||!this.postData||!this.postData.id)return void console.warn("Cannot toggle like: user not logged in or post data missing.");const e=n.username,t=this.postData.id;G.getUserLikeStatus(e,t)?V.unlikePost(t,e):V.likePost(t,e)}))}render(){const n=this.postData||{id:"default-1",photo:"https://i.pravatar.cc/150?img=3",name:"Juan Tel√≥n",date:"16/03/25",career:"Multimedia Engineering",semestre:"Semester 6",message:"Did anyone else stumble against a guy using boots in the stairs???",tag:"Academic",likes:2,share:"0",comments:[]},e=G.getState(),t=e.posts?.find((e=>e.id===n.id)),s=t?t.likes:n.likes;this.shadowRoot.innerHTML=`\n      <style>\n        :host {\n          display: block;\n          width: 100%;\n          max-width: 100vw;\n          overflow-x: hidden;\n          min-height: 100vh;\n          background-color: white;\n          --nexopurple: #5354ed;\n          --nexowhite: white;\n        }\n        \n        h1 {\n          color: #5354ed;\n          text-align: center;\n          margin: 2rem 0;\n          font-size: 2.2rem;\n          font-weight: 700;\n        }\n        \n        .container {\n          max-width: 850px;\n          width: calc(100% - 20px);\n          margin: 20px auto 40px auto;\n          padding: 25px 20px;\n          background-color: #f8f9fd;\n          border-radius: 20px;\n          box-sizing: border-box;\n        }\n        \n        .back-button-container {\n          margin: 1rem 0;\n        }\n        \n        .post-container {\n          background-color: white;\n          border-radius: 16px;\n          padding: 1.5rem;\n          margin-bottom: 2rem;\n          box-shadow: 0 4px 12px rgba(83, 84, 237, 0.1);\n          width: 100%;\n          max-width: 740px;\n          height: auto;\n          min-height: 240px;\n          margin-left: auto;\n          margin-right: auto;\n          box-sizing: border-box;\n        }\n        \n        .attributes-container {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n        }\n        \n        .user-container {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          width: 100%;\n          flex-wrap: wrap;\n          gap: 0.5rem;\n        }\n\n        .profile-container {\n          display: flex;\n          gap: 1rem;\n          align-items: center;\n        }\n\n        .name-container {\n          display: flex;\n          flex-direction: column;\n          gap: 0.2rem;\n        }\n\n        .profile-picture {\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          object-fit: cover;\n        }\n\n        .name {\n          font-weight: 600;\n          margin: 0;\n        }\n\n        .date {\n          color: #5354ed;\n          font-size: 0.9rem;\n          margin: 0;\n        }\n\n        .the-career {\n          display: flex;\n          gap: 0.5rem;\n          margin-top: 0.2rem;\n        }\n\n        .career, .semestre {\n          font-size: 0.75rem;\n          color: black;\n          font-weight: bold;\n          align-items: flex-start;\n          padding: 0;\n          margin: 0;\n        }\n\n        .message-container {\n          margin-top: 1rem;\n        }\n        \n        .post-content {\n          font-size: 1.1rem;\n          line-height: 1.6;\n          margin: 0;\n          word-wrap: break-word;\n        }\n        \n        .footer {\n          display: flex;\n          justify-content: center;\n          padding-top: 0.75rem;\n          border-top: 1px solid #f0f0f0;\n        }\n        \n        .align-likes, .align-share {\n          display: flex;\n          align-items: center;\n        }\n        \n        .just-likes, .just-share {\n          background: none;\n          border: none;\n          display: flex;\n          align-items: center;\n          gap: 5px;\n          cursor: pointer;\n          padding: 5px 10px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n        \n        .just-likes:hover, .just-share:hover {\n          transform: scale(1.05);\n        }\n        \n        .like-icon {\n          stroke: #5354ed;\n          fill: none;\n          transition: all 0.2s ease;\n        }\n        \n        .like-icon.liked {\n          fill: #5354ed;\n          stroke: #5354ed;\n        }\n\n        .share-icon path {\n          transition: fill 0.3s ease;\n          fill: #5354ed;\n        }\n        \n        .likes-count, .share-count {\n          margin: 0;\n          font-size: 0.85rem;\n          font-weight: bold;\n          color: #6b7280;\n          cursor: pointer;\n        }\n\n        .tag {\n          display: inline-block;\n          padding: 4px 12px;\n          border-radius: 0.85rem;\n          font-size: 0.7rem;\n          font-weight: 500;\n          margin-bottom: 0.5rem;\n          background-color: rgb(255, 255, 255);\n          border: 2px solid rgba(31, 31, 241, 0.57);\n          color: rgba(31, 31, 241, 0.57);\n          text-align: center;\n          margin: 1rem 0;\n          position: relative;\n          z-index: 1;\n        }\n        \n        @media (max-width: 768px) {\n          .container {\n            width: calc(100% - 16px);\n            margin: 10px auto 30px auto;\n            padding: 15px 10px;\n            border-radius: 15px;\n          }\n          \n          .post-container {\n            padding: 1rem;\n          }\n          \n          .user-container {\n            flex-direction: column;\n            align-items: flex-start;\n          }\n          \n          .the-career {\n            margin-top: 0.5rem;\n            margin-left: 60px; /* Alinea con la imagen de perfil */\n          }\n          \n          h1 {\n            font-size: 1.8rem;\n            margin: 1.5rem 0;\n          }\n          \n          .post-content {\n            font-size: 1rem;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .container {\n            width: calc(100% - 10px);\n            margin: 5px auto 20px auto;\n            padding: 10px 8px;\n            border-radius: 12px;\n          }\n          \n          .post-container {\n            padding: 0.8rem;\n            min-height: 200px;\n          }\n          \n          .profile-picture {\n            width: 40px;\n            height: 40px;\n          }\n          \n          .name {\n            font-size: 0.9rem;\n          }\n          \n          .date {\n            font-size: 0.8rem;\n          }\n          \n          .the-career {\n            margin-left: 50px;\n          }\n          \n          .career, .semestre {\n            font-size: 0.7rem;\n          }\n          \n          .post-content {\n            font-size: 0.95rem;\n            line-height: 1.5;\n          }\n          \n          .likes-count, .share-count {\n            font-size: 0.75rem;\n          }\n          \n          .just-likes, .just-share {\n            padding: 3px 6px;\n          }\n          \n          .like-icon, .share-icon {\n            width: 18px;\n            height: 18px;\n          }\n          \n          .tag {\n            font-size: 0.65rem;\n            padding: 3px 10px;\n          }\n        }\n      </style>\n      \n      <nav-bar></nav-bar>\n      \n      <div class="container">\n        <div class="back-button-container">\n          <back-button target="/profile"></back-button>\n        </div>\n        \n        <div class="post-container">\n          <div class="attributes-container">\n            <div class="user-container">\n              <div class="profile-container">\n                <img class="profile-picture" src="${n.photo}" alt="${n.name}">\n                <div class="name-container">\n                  <p class="name">${n.name}</p>\n                  <p class="date">${n.date}</p>\n                </div>\n              </div>\n\n              <div class="the-career">\n                <p class="career">${n.career}</p>\n                <p class="semestre">${n.semestre}</p>\n              </div>\n            </div>\n\n            <div class="message-container">\n              <p class="post-content">${n.message}</p>\n            </div>\n          </div>\n\n          <p class="tag">${n.tag}</p>\n          <div class="footer">  \n            <div class="align-likes">\n              <button class="just-likes">\n                <svg class="like-icon ${this.liked?"liked":""}" viewBox="0 0 24 24" fill="none" stroke="currentColor" width="20" height="20">\n                  <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" stroke-width="2"/>\n                </svg>\n                <p class="likes-count">${s} Likes</p>\n              </button>\n            </div>  \n\n            <div class="align-share">\n              <button class="just-share">\n                 <svg class="share-icon" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">\n                  <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92z"/>\n                </svg>\n                <p class="share-count">Share</p>\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <comments-container post-id="${this.postId}"></comments-container>\n      </div>\n    `}}const Ae=Pe;class ze extends HTMLElement{connectedCallback(){const n=this.getAttribute("title")||"",e=this.getAttribute("subtitle")||"";this.attachShadow({mode:"open"}).innerHTML=`\n      <style>\n        @font-face {\n          font-family: 'TTRounds';\n          src: url('/assets/ttround/TTRoundsNeue-Regular.woff2') format('woff2');\n          font-weight: normal;\n          font-style: normal;\n        }\n\n        @font-face {\n          font-family: 'TTRounds';\n          src: url('/assets/fonts/ttround/TT ROUNDS NEUE BOLD.TTF') format('woff2');\n          font-weight: bold;\n          font-style: normal;\n        }\n\n        @font-face {\n          font-family: 'TTRounds2';\n          src: url('/assets/fonts/ttround/TT ROUNDS NEUE BOLD ITALIC.TTF') format('woff2');\n          font-weight: bold;\n          font-style: normal;\n        }\n\n        .container {\n          text-align: center;\n        }\n\n        .text {\n          font-family: 'TTRounds', sans-serif;\n          font-size: 3rem; \n          margin-top: 1.563rem; \n          margin-bottom: 0.625rem; \n          color: #000;\n        }\n\n        .subtitle {\n          font-family: 'TTRounds2', sans-serif;\n          font-size: 1.125rem; \n          color: #666666;\n          margin-top: 0;\n          margin-bottom: 2.5rem; \n        }\n\n        @media (max-width: 430px) {\n          .text {\n            font-size: 3rem; \n            color: #5a48f3;\n            font-family: 'TTRounds2', sans-serif;\n          }\n\n          .subtitle {\n            display: none;\n          }\n\n          .container {\n            text-align: left;\n          }\n        }\n      </style>\n\n      <div class="container">\n        <h2 class="text">${n}</h2>\n        <p class="subtitle">${e}</p>\n      </div>\n    `}}customElements.define("header-title",ze);class Ie extends HTMLElement{connectedCallback(){this.innerHTML='\n      <style>\n        input[type="text"],\n        input[type="password"] {\n          width: 16.56rem; \n          padding: 0.3125rem 1rem; \n          margin-bottom: 1.4375rem; \n          border: 0.125rem solid #5354ED; \n          border-radius: 1.875rem; \n          outline: none;\n          font-size: 0.875rem; \n          font-family: Roboto, sans-serif;\n          transition: border-color 0.3s ease;\n          color: black;\n        }\n\n        input:focus {\n          border-color: #BD02FF;\n        }\n\n        @media (max-width: 430px) {\n          input[type="text"],\n          input[type="password"] {\n            width: 100%;\n            font-size: 0.8125rem; \n            padding: 0.3125rem 0.75rem; \n          }\n        }\n      </style>\n\n      <form id="login-form" style="display: flex; flex-direction: column; gap: 0.75rem;">\n        <input type="text" placeholder="Username" />\n        <input type="password" placeholder="Password" />\n      </form>\n    '}}customElements.define("form-fields",Ie);class Me extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const n=this.getAttribute("text")||"Submit";this.shadowRoot.innerHTML=`\n    <style>\n      .primary {\n        background-color: #5354ed;\n        color: white;\n        font-size: 0.875rem; \n        border: 0.125rem solid black; \n        padding: 0.4375rem 2.9375rem; \n        border-radius: 3.125rem;\n        cursor: pointer;\n        outline: none;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        margin-top: 1.563rem; \n        margin-bottom: 0.625rem; \n        transition: all 0.3s ease;\n      }\n\n      .primary:hover {\n        filter: brightness(1.2);\n        transform: scale(1.05);\n        box-shadow: 0rem 0.375rem 0rem -0.25rem rgba(0, 0, 0, 1); /* 0px 6px 0px -4px */\n      }\n\n      .primary:active {\n        transform: scale(0.95);\n        box-shadow: 0rem 0rem 0rem 0rem rgba(0, 0, 0, 1);\n        filter: brightness(0.8);\n      }\n\n      @media (max-width: 430px) { \n        .primary {\n          padding: 0.375rem 1.875rem; \n          font-size: 0.8125rem; \n          width: 100%;\n        }\n      }\n    </style>\n    <button class="primary" type="button">${n}</button>\n    `,this.shadowRoot.querySelector(".primary")?.addEventListener("click",(()=>{t.dispatch({type:"PRIMARY_BUTTON_CLICK"})}))}}customElements.define("primary-button",Me);class Ne extends HTMLElement{connectedCallback(){this.innerHTML="\n      <style>\n        .divider {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin: 1.3125rem 0; \n          width: 100%;\n        }\n\n        .divider hr {\n          flex-grow: 1;\n          min-width: 9.375rem; \n          border: none;\n          height: 0.09375rem; \n          background-color: rgb(77, 77, 77);\n        }\n\n        .divider span {\n          margin: 0 0.75rem; \n          font-family: 'TTRounds2', sans-serif !important;\n          color: #666666;\n          font-size: 1rem; \n        }\n\n        @font-face {\n          font-family: 'TTRounds2';\n          src: url('/assets/fonts/ttround/TT ROUNDS NEUE BOLD ITALIC.TTF') format('woff2');\n          font-weight: bold;\n          font-style: normal;\n        }\n\n        @media (max-width: 430px) {\n          .divider hr {\n            min-width: 5rem; \n          }\n\n          .divider span {\n            font-size: 0.875rem; \n          }\n        }\n      </style>\n\n      <div class=\"divider\">\n        <hr />\n        <span>or</span>\n        <hr />\n      </div>\n    "}}customElements.define("custom-divider",Ne);class $e extends HTMLElement{connectedCallback(){this.innerHTML='\n    <style>\n      .social-container {\n        display: flex; \n        justify-content: center; \n        gap: 2rem; /* 32px */\n        flex-wrap: wrap;\n      }  \n    \n      .social {\n        height: 3.33rem; \n        width: 3.33rem;\n        background-color: #5354ed;\n        color: white;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border: none;\n        cursor: pointer;\n        transition: background-color 0.3s ease-out;\n        transform: scale(1); \n      }\n\n      .social img {\n        width: 1.875rem; \n        height: 1.875rem;\n      }\n\n      .social-text {\n        margin-top: 1.563rem; \n        margin-bottom: 1.563rem;\n        text-align: center;\n        font-family: \'TTRounds2\', sans-serif !important;\n        font-size: 0.875rem; \n        color: #666666;\n      }\n\n      @font-face {\n        font-family: \'TTRounds2\';\n        src: url(\'/assets/fonts/ttround/TT ROUNDS NEUE BOLD ITALIC.TTF\') format(\'woff2\');\n        font-weight: bold;\n        font-style: normal;\n      }\n\n      .social:hover {\n        background-color: #BD02FF;\n        transform: scale(1.05);\n      }\n\n      .mobile-only {\n        display: none;\n      }\n\n      @media (max-width: 430px) {\n        .social-container {\n          gap: 1.25rem; \n        }\n\n        .social {\n          width: 2.188rem; \n          height: 2.188rem;\n        }\n\n        .social img {\n          width: 1.25rem; \n          height: 1.25rem;\n        }\n\n        .social-text {\n          font-size: 0.813rem; \n          margin-top: 2.188rem; \n        }\n\n        .mobile-only {\n          display: flex;\n        }\n      }\n    </style>\n    \n    <div class="social-container">\n      \x3c!-- Always visible --\x3e\n      <button class="social">\n        <img src="https://img.icons8.com/ios-filled/50/ffffff/new-post.png" alt="email icon" />\n      </button>\n      <button class="social">\n        <img src="https://img.icons8.com/ios-filled/50/ffffff/instagram-new.png" alt="instagram icon" />\n      </button>\n\n      \x3c!-- Visible only on mobile --\x3e\n      <button class="social mobile-only">\n        <img src="https://img.icons8.com/ios-filled/50/ffffff/twitterx--v2.png" alt="x icon" />\n      </button>\n      <button class="social mobile-only">\n        <img src="https://img.icons8.com/ios-filled/50/ffffff/linkedin.png" alt="linkedin icon" />\n      </button>\n      <button class="social mobile-only">\n        <img src="https://img.icons8.com/ios-filled/50/ffffff/tiktok.png" alt="tiktok icon" />\n      </button>\n    </div>\n\n    <p class="social-text">Link with any of these social media platforms</p>\n    '}}customElements.define("social-buttons",$e);class Fe extends HTMLElement{connectedCallback(){this.innerHTML='\n      <style>\n        .container {\n          width: 16.5625rem; \n          margin-top: -1.125rem; \n          margin-bottom: 1rem; \n          text-align: right;\n        }\n\n        a {\n          font-family: Roboto, sans-serif;\n          font-size: 0.875rem; \n          font-style: italic;\n          color: #535353;\n          text-decoration: underline;\n        }\n\n        @media (max-width: 430px) {\n          .container {\n            width: 100%;\n            text-align: left;\n            margin: 0;\n          }\n\n          a {\n            font-size: 0.8125rem; \n          }\n        }\n      </style>\n\n      <div class="container">\n        <a href="#">Forgot password?</a>\n      </div>\n    '}}customElements.define("forgot-password",Fe);class Oe extends HTMLElement{constructor(){super(...arguments),this.degree="",this.semester=""}connectedCallback(){this.render(),this.setupEventListeners()}render(){this.innerHTML='\n      <style>\n        select {\n          appearance: none;\n          -webkit-appearance: none;\n          -moz-appearance: none;\n          background-color: white;\n          background-image: url("data:image/svg+xml,%3Csvg fill=\'%234F46E5\' height=\'0.75rem\' viewBox=\'0 0 24 24\' width=\'0.75rem\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M7 10l5 5 5-5z\'/%3E%3C/svg%3E");\n          background-repeat: no-repeat;\n          background-position: right 0.4375rem center; \n          background-size: 2.0625rem; \n          color: rgb(167, 167, 167);\n          width: 16.5625rem; \n          padding: 0.3125rem 1rem; \n          margin-bottom: 1.4375rem; \n          border: 0.125rem solid #5354ED; \n          border-radius: 1.875rem; \n          outline: none;\n          font-size: 0.875rem; \n          font-family: Roboto, sans-serif;\n          transition: border-color 0.3s ease;\n          cursor: pointer;\n        }\n\n        select:focus {\n          background-image: url("data:image/svg+xml,%3Csvg fill=\'%23BD02FF\' height=\'1rem\' viewBox=\'0 0 24 24\' width=\'1rem\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M7 10l5 5 5-5z\'/%3E%3C/svg%3E");\n          border-color: #BD02FF;\n          color: black;\n        }\n\n        input {\n          width: 16.5625rem;\n          padding: 0.3125rem 1rem;\n          margin-bottom: 1.4375rem;\n          border: 0.125rem solid #5354ED;\n          border-radius: 1.875rem;\n          outline: none;\n          font-size: 0.875rem;\n          font-family: Roboto, sans-serif;\n          transition: border-color 0.3s ease;\n          cursor: pointer;\n          color: black;\n        }\n\n        input:focus,\n        select:focus {\n          border-color: #BD02FF;\n        }\n\n        @media (max-width: 430px) {\n          input,\n          select {\n            width: 100%;\n            font-size: 0.8125rem;\n            padding: 0.3125rem 0.75rem;\n          }\n        }\n      </style>\n\n      <form id="signup-form" style="display: flex; flex-direction: column; gap: 0.75rem;">\n        <input type="text" placeholder="Username" name="username" />\n        <input type="email" placeholder="Email" name="email" />\n        <input type="tel" placeholder="Phone number" name="phone" />\n        <input type="password" placeholder="Password" name="password" />\n\n        <select id="career">\n          <option value="">Select a career</option>\n          <option value="Business Administration with an Emphasis in International Business">Business Administration with an Emphasis in International Business</option>\n          <option value="Anthropology">Anthropology</option>\n          <option value="Biology">Biology</option>\n          <option value="Political Science with an Emphasis in International Relations">Political Science with an Emphasis in International Relations</option>\n          <option value="Communication with a Digital Approach">Communication with a Digital Approach</option>\n          <option value="Public Accounting and International Finance">Public Accounting and International Finance</option>\n          <option value="Law">Law</option>\n          <option value="Interactive Media Design">Interactive Media Design</option>\n          <option value="Industrial Design">Industrial Design</option>\n          <option value="Economics">Economics</option>\n          <option value="Economics and International Business">Economics and International Business</option>\n          <option value="Finance">Finance</option>\n          <option value="Biochemical Engineering">Biochemical Engineering</option>\n          <option value="Systems Engineering">Systems Engineering</option>\n          <option value="Industrial Engineering">Industrial Engineering</option>\n          <option value="Telematics Engineering">Telematics Engineering</option>\n          <option value="Bachelor\'s Degree in Social Sciences">Bachelor\'s Degree in Social Sciences</option>\n          <option value="Bachelor\'s Degree in Foreign Languages with an Emphasis in English">Bachelor\'s Degree in Foreign Languages with an Emphasis in English</option>\n          <option value="Medicine">Medicine</option>\n          <option value="Music">Music</option>\n          <option value="International Marketing and Advertising">International Marketing and Advertising</option>\n          <option value="Psychology">Psychology</option>\n          <option value="Chemistry">Chemistry</option>\n          <option value="Pharmaceutical Chemistry">Pharmaceutical Chemistry</option>\n          <option value="Sociology">Sociology</option>\n        </select>\n\n        <select id="semester">\n          <option value="">Select a semester</option>\n          <option value="First semester">First semester</option>\n          <option value="Second semester">Second semester</option>\n          <option value="Third semester">Third semester</option>\n          <option value="Fourth semester">Fourth semester</option>\n          <option value="Fifth semester">Fifth semester</option>\n          <option value="Sixth semester">Sixth semester</option>\n          <option value="Seventh semester">Seventh semester</option>\n          <option value="Eighth semester">Eighth semester</option>\n          <option value="Ninth semester">Ninth semester</option>\n          <option value="Tenth semester">Tenth semester</option>\n          <option value="+Tenth semester">+Tenth semester</option>\n        </select>\n      </form>\n    '}setupEventListeners(){const n=this.querySelector("#career"),e=this.querySelector("#semester");n&&n.addEventListener("change",(n=>{const e=n.target;this.degree=e.value,e.style.color="black"})),e&&e.addEventListener("change",(n=>{const e=n.target;this.semester=e.value,e.style.color="black"}))}getDegree(){const n=this.querySelector("#career");return n?n.value:""}getSemester(){const n=this.querySelector("#semester");return n?n.value:""}}customElements.define("signup-form-fields",Oe);class He extends HTMLElement{connectedCallback(){this.innerHTML='\n      <style>\n        .checkbox-container {\n          display: flex;\n          align-items: center;\n          font-family: Roboto, sans-serif;\n          font-size: 0.75rem; \n          color: #666666;\n          gap: 0.625rem; \n          margin-bottom: 0.3125rem; \n          margin-top: 0.5rem;\n          margin-left: 0.625rem;\n        }\n\n        input[type="checkbox"] {\n          all: unset;\n          width: 1.125rem;\n          aspect-ratio: 1;\n          box-sizing: border-box;\n          border: 1px solid #5a48f3;\n          border-radius: 50%;\n          cursor: pointer;\n          position: relative;\n          display: grid;\n          place-content: center;\n          transition: border-color 0.2s ease-in-out;\n        }\n\n        input[type="checkbox"]::before {\n          content: "";\n          width: 0.28125rem; \n          height: 0.5625rem; \n          border-right: 0.125rem solid white; \n          border-bottom: 0.125rem solid white;\n          transform: rotate(45deg) scale(0);\n          transition: transform 0.2s ease-in-out;\n          background-color: transparent;\n        }\n\n        input[type="checkbox"]:checked {\n          background-color: #5a48f3;\n          border-color: #5a48f3;\n        }\n\n        input[type="checkbox"]:checked::before {\n          transform: rotate(45deg) scale(1);\n        }\n\n        .checkbox-text {\n          text-decoration: underline;\n          cursor: pointer;\n        }\n\n        @media (max-width: 430px) {\n          .checkbox-container {\n            font-size: 0.6875rem; \n            gap: 0.5rem; \n          }\n\n          input[type="checkbox"] {\n            width: 1rem; \n          }\n        }\n      </style>\n\n      <label class="checkbox-container">\n        <input type="checkbox" name="terms" />\n        <span class="checkbox-text">I agree with terms of use</span>\n      </label>\n    '}}customElements.define("custom-checkbox",He);class Ue extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.handleRouteChange=this.handleRouteChange.bind(this)}connectedCallback(){G.load(),t.dispatch({type:_}),l(window.location.pathname),G.subscribe((n=>{this.handleRouteChange(n)})),window.addEventListener("popstate",(()=>{l(window.location.pathname)})),document.addEventListener("navigate",(n=>{console.log("AppContainer: 'navigate' event received",n.detail);const e=n.detail;r(e)}))}render(){this.shadowRoot.innerHTML="\n      <div>Loading...</div>\n    "}handleRouteChange(n){console.log("AppContainer: handleRouteChange",n.currentPath);const e=n.currentPath;this.updateView(e),window.scrollTo(0,0)}updateView(n){console.log("AppContainer: updateView to",n),this.shadowRoot.innerHTML="";let e=null;switch(n){case"/feed":e=document.createElement("feed-page");break;case"/academic":e=document.createElement("academics-pages");break;case"/profile":e=document.createElement("profile-page");break;case"/profile-settings":e=document.createElement("profile-settings-page");break;case"/teacher-detail":e=document.createElement("teacher-detail-page");break;case"/subject-detail":e=document.createElement("subject-detail-page");break;case"/comments-detail":e=document.createElement("comments-detail-page");break;case"/comments-detail-profile":e=document.createElement("comments-detail-profile");break;case"/login":e=document.createElement("login-component");break;case"/signup":e=document.createElement("sign-up-component");break;case"/":e=document.createElement("landing-page");break;default:console.warn(`Unknown route: ${n}. Redirecting to landing page.`),e=document.createElement("landing-page")}e&&this.shadowRoot.appendChild(e),window.scrollTo(0,0)}}const qe=Ue;customElements.define("nav-bar",e),customElements.define("nav-bar-login-signup",d),customElements.define("back-button",h),customElements.define("btn-feed",g),customElements.define("btn-academic",b),customElements.define("btn-profile",f),customElements.define("btn-login",w),customElements.define("btn-signup",S),customElements.define("feed-page",X),customElements.define("academics-pages",Q),customElements.define("profile-page",nn),customElements.define("profile-settings-page",tn),customElements.define("teacher-detail-page",on),customElements.define("subject-detail-page",rn),customElements.define("landing-page",cn),customElements.define("comments-detail-page",pn),customElements.define("login-component",mn),customElements.define("sign-up-component",xn),customElements.define("post-modal",vn),customElements.define("floating-btn",yn),customElements.define("button-tags",En),customElements.define("tag-filters-bar",_n),customElements.define("feed-post",Dn),customElements.define("profile-post",An),customElements.define("post-container",Cn),customElements.define("start-button",In),customElements.define("landing-cards",$n),customElements.define("subject-card",Un),customElements.define("subjects-container",Bn),customElements.define("tabs-component",Yn),customElements.define("teacher-card",Vn),customElements.define("teachers-container",Wn),customElements.define("profile-container",Zn),customElements.define("profile-header",ee),customElements.define("delete-account-confirmation",se),customElements.define("settings-profile-container",oe),customElements.define("settings-profile-header",re),customElements.define("search-bar",On),customElements.define("subject-detail-card",ce),customElements.define("subject-review-form",pe),customElements.define("subject-review-list",me),customElements.define("teacher-detail-card",ue),customElements.define("teacher-review-form",xe),customElements.define("teacher-review-list",ye),customElements.define("teacher-comments-container",ke),customElements.define("subject-comments-container",Le),customElements.define("comment-form",Te),customElements.define("comments-list",_e),customElements.define("comments-container",De),customElements.define("comments-detail-profile",Ae),customElements.define("app-container",qe),document.addEventListener("post-published",(n=>{const e=n.detail;V.createPost(e)})),console.log("se carg√≥ este archivo")})();